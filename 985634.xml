<?xml version="1.0" encoding="UTF-8" ?>
<Module>
<ModulePrefs title="google.com" />
<Content type="html"><![CDATA[

<!doctype html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <title>HiberWorld</title>
    <!-- Must have or else the resolution will be reported very wrongly -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- Google Tag Manager -->
    <script>
        const releaseChannel = 'stable';
        const isStableChannel = releaseChannel.toLowerCase() === "stable";

        const urlSearchParams = new URLSearchParams(window.location.search);
        const params = Object.fromEntries(urlSearchParams.entries());
        const apiEndPoint = params["Platform.APIEndpoint"];
        const isProdAPI = !apiEndPoint || apiEndPoint === "https://api.hiberworld.com";

        const isProductionEnvironment = isStableChannel && isProdAPI;
        const containerID = isProductionEnvironment ? 'GTM-KPXB4QK' : 'GTM-MRD9RFW';
        // Google Tag Manager installation - Retrieval instructions: https://support.google.com/tagmanager/answer/6103696
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', containerID);</script>
    <script>
        window.dataLayer = window.dataLayer || [];
    </script>
    <!-- End Google Tag Manager -->
    <style>
        /* http://meyerweb.com/eric/tools/css/reset/
        v2.0 | 20110126
        License: none (public domain)
        */

        html,
        body,
        div,
        span,
        applet,
        object,
        iframe,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        ins,
        kbd,
        q,
        s,
        samp,
        small,
        strike,
        strong,
        sub,
        sup,
        tt,
        var,
        b,
        u,
        i,
        center,
        dl,
        dt,
        dd,
        ol,
        ul,
        li,
        fieldset,
        form,
        label,
        legend,
        table,
        caption,
        tbody,
        tfoot,
        thead,
        tr,
        th,
        td,
        article,
        aside,
        canvas,
        details,
        embed,
        figure,
        figcaption,
        footer,
        header,
        hgroup,
        menu,
        nav,
        output,
        ruby,
        section,
        summary,
        time,
        mark,
        audio,
        video {
            margin: 0;
            padding: 0;
            border: 0;
            font: inherit;
            font-size: 100%;
            vertical-align: baseline;
        }

        /* HTML5 display-role reset for older browsers */
        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        hgroup,
        menu,
        nav,
        section {
            display: block;
        }

        body {
            line-height: 1;
        }

        ol,
        ul {
            list-style: none;
        }

        blockquote,
        q {
            quotes: none;
        }

        blockquote:before,
        blockquote:after,
        q:before,
        q:after {
            content: '';
            content: none;
        }

        table {
            border-collapse: collapse;
            border-spacing: 0;
        }
    </style>
    <style>
        html,
        body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            user-select: none;
            background: radial-gradient(168.36% 100% at 50.18% 0%, rgba(52, 53, 64, 0.8) 0%, rgba(27, 28, 32, 0.8) 100%), #1B1C20;
            color: rgb(100, 100, 100);
        }

        canvas {
            width: 100%;
            height: 100%;
            touch-action: none;
            user-select: none;
            /* the canvas *must not* have any border or padding, or mouse coords will be wrong */
            border: 0px none;
            z-index: 500;
        }

        form {
            position: fixed;
            left: 50vw;
            top: 50vh;
            z-index: 501;
        }

        .version {
            position: absolute;
            bottom: 0;
            color: white;
            font-size: small;
            font-family: monospace;
            margin: 5px 5px 5px 10px;
        }

        .version>span {
            display: block;
        }

        .loader-container {
            position: relative;
            top: calc(50% + 5px);
            -ms-transform: translateY(-50%);
            transform: translateY(-50%);
            z-index: 1;
        }

        .log {
            position: absolute;
            display: none;
            top: 0;
            right: 0;
            width: 40%;
            height: 100%;
            background-color: #121214;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-y: auto;
            font-family: monospace;
            page-break-inside: avoid;
            padding: 0px 5px 0px 5px;
            font-size: smaller;
            user-select: text;
        }

        .log-warning {
            color: rgb(224, 202, 0);
        }

        .log-error {
            color: red;
        }

        .loader-status {
            position: relative;
            text-align: center;
            margin-top: 20px;
        }

        .loader,
        .loader:after {
            border-radius: 50%;
            width: 10em;
            height: 10em;
        }

        .loading-center {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .loading-center svg {
            position: absolute;
            top: 50%;
            -webkit-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
            transform: translateY(-50%);
            left: 0;
            right: 0;
            margin: auto;
        }

        .loader {
            margin: 0 auto;
            font-size: 5px;
            position: absolute;
            text-indent: -999em;
            border-top: 1.1em solid rgba(255, 255, 255, 0.2);
            border-right: 1.1em solid rgba(255, 255, 255, 0.2);
            border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);
            border-left: 1.1em solid #ffffff;
            -webkit-transform: translateZ(0);
            -ms-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-animation: load8 1.1s infinite linear;
            animation: load8 1.1s infinite linear;
            right: 5%;
            bottom: 5%;
            border-radius: 50%;
        }

        /* Hiber watermark animations */
        .hiber-watermark {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 190px;
            height: auto;
            display: none;
            opacity: 1.0;
            margin: 0px 0px 20px 0px;
            z-index: 10001;
        }

        .watermark-tooltip {
            display: grid;
            grid-row: 1;
            position: relative;
            margin-bottom: 15px;
            opacity: 0%;
            transition: opacity 0.25s;
            width: 100%;
            height: 26px;
            justify-content: center;
            align-items: center;
        }

        .watermark-tooltip-triangle {
            position: relative;
            width: 0;
            height: 0;
            left: 45%;
            grid-row: 0;
            border-style: solid;
            border-width: 8px 5px 0 5px;
            border-color: rgba(27, 28, 32, 0.6) transparent transparent transparent;
        }

        .watermark-tooltip-square {
            position: relative;
            grid-row: 0;
            border-radius: 10px;
            background: rgba(27, 28, 32, 0.6);
            /* Auto Layout */
            justify-content: center;
            align-items: center;
            padding: 8px 10px;
            gap: 10px;
            isolation: isolate;
        }

        .watermark-tooltip p {
            font-family: sans-serif;
            font-weight: 700;
            font-size: 14px;
            line-height: 14px;
            color: rgba(255, 255, 255, 1.0);
        }

        /* Hiber watermark button */
        .hiber-watermark-button {
            position: relative;
            grid-row: 0;
            background-color: transparent;
            border: none;
            width: auto;
            height: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: opacity 0.25s;
            opacity: 60%;
        }

        .hiber-watermark-button:hover {
            transition: opacity 0.25s;
            opacity: 100%;
        }

        .hiber-watermark-button:hover+.watermark-tooltip {
            transition: opacity 0.25s;
            opacity: 100%;
        }


        @-webkit-keyframes load8 {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotate(0deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }

        @keyframes load8 {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotate(0deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }

        .CrossPlatformTextboxInput {
            color: white;
            caret-color: white;
            background-color: transparent;
            border-style: none;
            outline-style: none;
            opacity: 0;
        }

        .CrossPlatformTextboxInput:focus {
            background: rgba(27, 28, 32, 102) !important;
            border-width: 0 !important;
            opacity: 90% !important;
            top: 0 !important;
            left: 0 !important;
            width: 80vw !important;
            height: 5vh !important;

            margin-left: 10vw !important;
            margin-right: 10vw !important;
            margin-top: 5vh !important;
            border-radius: 10px !important;
            padding: 5px 5px 5px 20px !important;
        }

        #_sokol_app_input_element {
            position: absolute;
            top: 0;
        }

        .requirements-check-modal {
            display: none;
            /* Hidden by default */
            font-family: sans-serif;
            z-index: 99999;
            user-select: text;
            width: 100%;
            height: 100%;
            position: relative;
            justify-content: center;
            align-items: center;
        }

        .requirements-check-modal-contents {
            color: #FFFFFF;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            width: 70%;
        }

        .requirements-check-modal-header {
            font-style: normal;
            font-weight: 700;
            font-size: 1.625rem;
            line-height: 2rem;
            display: flex;
            align-items: center;
            text-align: center;
            color: #A7A9AF;
        }

        .requirements-check-modal-body {
            margin-top: 0.5rem;
            font-style: normal;
            font-weight: 500;
            font-size: 1.25rem;
            line-height: 1.875rem;
            display: flex;
            align-items: center;
            text-align: center;
            color: #FFFFFF;
        }

        .requirements-check-modal-button {
            margin-top: 2.563rem;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 0px;
            width: 20rem;
            background: #343540;
            border-radius: 0.25rem;
            text-decoration: none;
            padding: 1.125rem;
        }

        .requirements-check-modal-button>span {
            font-style: normal;
            font-weight: 600;
            font-size: 1rem;
            line-height: 1.25rem;
            color: #FFFFFF;
        }

        .developer-info {
            position: absolute;
            display: flex;
            flex-direction: column;
            bottom: 1px;
            right: 1px;
        }

        .developer-info-title {
            display: block;
            text-align: right;
        }

        .developer-info-title {
            display: block;
            text-align: right;
            cursor: pointer;
        }

        .developer-info-body {
            user-select: all;
        }

        @keyframes fadein {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        .loader-logo {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .logo {
            opacity: 0;
            position: relative;
            animation: fadein 0.6s forwards;
            animation-delay: 0.8s;
        }


        .logo-letters-container {
            max-width: 90vw;
            display: flex;
            column-gap: 2.5%;
            z-index: 1;
            overflow: hidden;
            padding-bottom: 2rem;
            padding-right: 1rem;
        }

        .hiber-letter-e {
            margin-left: -4px;
        }

        .hiber-letter-r {
            margin-left: -4px;
        }

        .hiber-letter-3 {
            margin-left: -5px;
        }

        .hiber-letter-d {
            margin-left: -4px;
        }

        .powered-by {
            width: 19%;
            margin-bottom: -3px
        }

        .hiber-letter-tm {
            margin-top: 5px;
            margin-left: -13px;
        }
    </style>
    <script>window.addEventListener('unload', function () { })</script>
</head>

<body>
    <div class="version">
        <span>v1.34.0</span>
    </div>
    <div class="loading-center">
        <svg preserveAspectRatio="xMidYMid meet" viewBox="0 0 2000 1716" width="16%">
            <use xlink:href="#hibericon" />
        </svg>
    </div>

    <div id="requirements-check-modal" class="requirements-check-modal">
        <div class="requirements-check-modal-contents">
            <div class="requirements-check-modal-header">
                <span>Update Required</span>
            </div>
            <div class="requirements-check-modal-body">
                <span>Weâ€™re sorry, but your operating system needs to be updated</span>
            </div>
            <a class="requirements-check-modal-button" href="https://hiberworld.com">
                <span>Learn More</span>
            </a>
        </div>

        <div class="developer-info">
            <span class="developer-info-title">Developer info</span>
            <pre class="developer-info-body" style="display: none;"></pre>
        </div>
    </div>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KPXB4QK" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!--    <div id="loader-status" class="loader-status">Loading...</div>-->
    <pre id="log" class="log"></pre>
    <div class="loader-logo">
        <div class="logo">
            <svg class="powered-by" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 106 13">
                <path fill="#909398"
                    d="M.55 12 2.48.36h4.15c.9 0 1.62.17 2.16.5.54.33.91.78 1.11 1.34.2.57.25 1.21.13 1.93a4.76 4.76 0 0 1-.77 1.93A4.15 4.15 0 0 1 7.7 7.41a5.1 5.1 0 0 1-2.33.5H2.52l.24-1.49h2.7c.57 0 1.05-.1 1.44-.3.4-.2.7-.47.92-.81a3.02 3.02 0 0 0 .38-2.35c-.1-.34-.32-.6-.65-.8-.32-.2-.77-.3-1.35-.3H4L2.3 12H.56Zm21.26-5.7a7.87 7.87 0 0 1-1.2 3.14 6.18 6.18 0 0 1-2.15 2.02c-.85.47-1.77.7-2.75.7a4.6 4.6 0 0 1-2.63-.73 4.06 4.06 0 0 1-1.56-2.1c-.31-.91-.37-2-.16-3.25.2-1.22.6-2.27 1.19-3.15A6.22 6.22 0 0 1 14.71.91C15.57.44 16.5.2 17.5.2a4.5 4.5 0 0 1 2.6.73 4.03 4.03 0 0 1 1.56 2.1c.32.91.37 2 .16 3.26Zm-1.7-.22c.15-.93.13-1.7-.07-2.34a2.61 2.61 0 0 0-.97-1.44 2.79 2.79 0 0 0-1.66-.5 3.8 3.8 0 0 0-1.93.53c-.6.35-1.11.86-1.54 1.52a6.4 6.4 0 0 0-.87 2.45c-.16.92-.14 1.7.05 2.34.2.63.52 1.1.98 1.43.46.33 1.02.49 1.67.49a3.8 3.8 0 0 0 1.92-.52c.6-.35 1.12-.85 1.54-1.52a6.4 6.4 0 0 0 .87-2.44ZM25.18 12 23.89.36h1.85l.77 9.02h.11L30.47.36h1.83l.87 9.02h.11L37.03.36h1.85L33.72 12h-1.77l-1-8.72h-.08L26.97 12h-1.78Zm13.36 0L40.48.36h7.3l-.25 1.52h-5.54l-.6 3.54h5.17l-.25 1.5h-5.16l-.6 3.57h5.61L45.91 12h-7.36Zm9.64 0L50.12.36h4.15c.9 0 1.62.16 2.17.47.54.3.92.73 1.12 1.28a4.4 4.4 0 0 1-.63 3.77c-.39.54-.9.96-1.55 1.27-.64.3-1.42.45-2.32.45h-3.14l.26-1.51h2.98c.58 0 1.05-.09 1.44-.25.38-.16.68-.4.9-.7.21-.32.36-.7.42-1.13a2.3 2.3 0 0 0-.06-1.14 1.3 1.3 0 0 0-.66-.74 2.93 2.93 0 0 0-1.36-.26h-2.2L49.93 12H48.2Zm6.62-5.25 2 5.25h-2l-1.95-5.25h1.95ZM58.55 12 60.48.36h7.3l-.25 1.52h-5.54l-.6 3.54h5.17l-.25 1.5h-5.16l-.6 3.57h5.61L65.91 12h-7.36Zm13.46 0h-3.82L70.12.36h3.84c1.14 0 2.09.24 2.83.72a3.75 3.75 0 0 1 1.57 2.03c.3.88.35 1.93.14 3.16a7.68 7.68 0 0 1-1.15 3.08c-.58.85-1.31 1.5-2.22 1.96a6.8 6.8 0 0 1-3.12.69Zm-1.8-1.53h1.87c.89 0 1.66-.18 2.3-.52a4.1 4.1 0 0 0 1.59-1.5c.4-.66.69-1.45.84-2.4.15-.89.14-1.64-.04-2.26a2.36 2.36 0 0 0-1.03-1.4 3.79 3.79 0 0 0-2.04-.5h-2.08l-1.41 8.58ZM83.97 12 85.9.36h4.27c.82 0 1.48.14 1.98.41.5.27.84.64 1.03 1.1.2.46.24.97.14 1.55a2.88 2.88 0 0 1-1.31 2.02c-.33.2-.68.34-1.04.43l-.03.12a2.12 2.12 0 0 1 1.82 1.35c.18.42.22.93.13 1.53-.1.6-.34 1.13-.7 1.6-.35.47-.84.84-1.47 1.12-.62.27-1.39.41-2.29.41h-4.46Zm2-1.5h2.54c.84 0 1.47-.17 1.89-.5.42-.32.67-.73.76-1.22.06-.36.02-.7-.12-1-.13-.31-.35-.56-.67-.74-.31-.18-.7-.27-1.17-.27h-2.6l-.62 3.72Zm.87-5.1h2.34c.4 0 .76-.08 1.1-.23.35-.15.64-.37.86-.64.23-.28.38-.6.44-.97.08-.49-.02-.9-.3-1.21-.29-.33-.77-.5-1.47-.5h-2.4l-.57 3.55ZM95.48.36h1.99l2.17 5.3h.13l3.9-5.3h2l-5.4 7.07-.75 4.57h-1.75l.75-4.57L95.48.36Z" />
            </svg>
            <div class="logo-letters-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="69" height="80" viewBox="0 0 69 80" fill="none">
                    <path fill="#fff" d="M69 0v80H44V49H26v31H1V0h25v29h18V0h25Z" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="80" viewBox="0 0 26 80" fill="none">
                    <path fill="#fff" d="M26 0v80H1V0h25Z" />
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="68" height="80" viewBox="0 0 68 80" fill="none">
                    <path fill="#fff"
                        d="M.97 80V.02h40.6c8.45 0 14.6 2.13 18.47 6.39 3.86 4.25 5.8 9.12 5.8 14.59 0 3.98-1.14 7.6-3.4 10.84-2.23 3.2-5.57 5.4-10.02 6.62 10.35 2.5 15.53 8.7 15.53 18.63 0 5.94-1.84 11.25-5.51 15.94C58.8 77.68 51 80 39.06 80H.97ZM23.6 30.66h11.37c2.85 0 4.86-.72 6.03-2.16a7.23 7.23 0 0 0 1.76-4.63c0-4.46-2.73-6.68-8.2-6.68H23.59v13.47Zm0 31.53h11.95c2.97 0 5.14-.73 6.5-2.17a7.07 7.07 0 0 0 2.12-4.98c0-1.84-.69-3.52-2.05-5.04-1.33-1.56-3.8-2.34-7.39-2.34H23.6v14.53Z" />
                </svg>
                <svg class="hiber-letter-e" width="62" height="80" viewBox="0 0 62 80" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M61.1484 60.8984V80H0.972656V0.0195312H61.1484V18.4766H25.0547V30.0781H54.2344V47.832H25.0547V60.8984H61.1484Z"
                        fill="white" />
                </svg>
                <svg class="hiber-letter-r" width="73" height="80" viewBox="0 0 73 80" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M72.1641 80H44.918L33.2578 49.4141H25.5234V80H0.972656V0.0195312H42.75C51.9688 0.0195312 59.1172 2.1875 64.1953 6.52344C69.3125 10.8203 71.8711 16.5039 71.8711 23.5742C71.8711 28.1836 70.9336 32.2656 69.0586 35.8203C67.1836 39.3359 63.3945 42.4414 57.6914 45.1367L72.1641 80ZM25.5234 32.3047H36.0117C39.0977 32.3047 41.5781 31.6602 43.4531 30.3711C45.3281 29.082 46.2656 27.1875 46.2656 24.6875C46.2656 19.5703 43.1211 17.0117 36.832 17.0117H25.5234V32.3047Z"
                        fill="white" />
                </svg>
                <svg  class="hiber-letter-3" width="67" height="80" viewBox="0 0 67 84" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M0.464844 57.5664L21.3242 54.9883C22.6914 62.293 26.5977 65.9453 33.043 65.9453C35.9727 65.9453 38.3555 65.1836 40.1914 63.6602C42.0273 62.1367 42.9453 60.0859 42.9453 57.5078C42.9453 55.7891 42.4375 54.2852 41.4219 52.9961C40.4453 51.668 39.3906 50.75 38.2578 50.2422C37.125 49.6953 35.1719 49.4219 32.3984 49.4219H22.6719V32.7227H30.875C35.25 32.7227 38.0625 31.9414 39.3125 30.3789C40.5625 28.8164 41.1875 27.1953 41.1875 25.5156C41.1875 23.4062 40.4062 21.6484 38.8438 20.2422C37.2812 18.8359 35.2305 18.1328 32.6914 18.1328C27.2227 18.1328 23.8828 21.1797 22.6719 27.2734L3.33594 24.2266C5.09375 16.7266 8.80469 10.9453 14.4688 6.88281C20.1719 2.82031 26.9102 0.789062 34.6836 0.789062C43.4336 0.789062 50.4648 2.83984 55.7773 6.94141C61.0898 11.043 63.7461 16.5117 63.7461 23.3477C63.7461 27.4492 62.6133 31.0234 60.3477 34.0703C58.1211 37.1172 55.2695 39.168 51.793 40.2227C61.4023 43.1523 66.207 49.4219 66.207 59.0312C66.207 66.6875 63.2773 72.6445 57.418 76.9023C51.5977 81.1211 44.0391 83.2305 34.7422 83.2305C16.0703 83.2305 4.64453 74.6758 0.464844 57.5664Z"
                        fill="#E81623" />
                </svg>
                <svg class="hiber-letter-d" xmlns="http://www.w3.org/2000/svg" width="73" height="80"
                    viewBox="0 0 73 80" fill="none">
                    <path fill="#E81623"
                        d="M.97 80V.02h30.94C45.35.02 55.41 4 62.09 11.97A41.78 41.78 0 0 1 72.1 39.63c0 11.95-3.6 21.68-10.79 29.18C54.18 76.27 44.88 80 33.43 80H.97Zm24.55-18.4h6.39c4.06 0 7.48-1.97 10.25-5.92 2.82-3.94 4.22-9.31 4.22-16.11 0-5.82-1.25-10.84-3.75-15.06-2.46-4.22-6.03-6.33-10.72-6.33h-6.39V61.6Z" />
                </svg>
                <svg class="hiber-letter-tm" width="43" height="20" viewBox="0 0 43 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M17.3333 3.2H10.8222V20H6.42222V3.2H0V0H17.3333V3.2ZM25.5556 0L31.0222 14.4444L36.4667 0H42.2222V20H37.7778V14.4444L38.2667 4.97778L32.5111 20H29.5111L23.7778 5L24.2222 14.4444V20H19.8444V0H25.5556Z"
                        fill="#A7A9AF" />
                </svg>
            </div>
        </div>
        <div class="loader"></div>
    </div>
    <div id="wrapper" style="opacity: 0;">
        <canvas id="canvas"></canvas>

        <div id="hiber-watermark" class="hiber-watermark">
            <button id="hiber-watermark-button" class="hiber-watermark-button">
                <svg width="140" height="40" viewBox="0 0 140 40" fill="white" xmlns="http://www.w3.org/2000/svg"
                    style="flex-shrink: 0;">
                    <path
                        d="M68.0476 11.3079V30.4526H62.1504V23.0009H57.6628V30.4526H51.7656V11.3079H57.6628V18.3377H62.1504V11.3079H68.0476Z"
                        fill="white" />
                    <path d="M77.2839 11.3079V30.4526H71.3867V11.3079H77.2839Z" fill="white" />
                    <path
                        d="M80.627 30.4526V11.3079H90.3773C92.4038 11.3079 93.8814 11.8177 94.8099 12.8373C95.7384 13.857 96.2028 15.0215 96.2031 16.331C96.2031 17.2851 95.9343 18.1482 95.3968 18.92C94.8592 19.6919 94.0581 20.2227 92.9935 20.5123C95.4775 21.1106 96.7197 22.5968 96.72 24.9709C96.72 26.3914 96.2814 27.6601 95.4043 28.7771C94.5271 29.8941 92.652 30.4526 89.7789 30.4526H80.627ZM86.0543 26.1878H88.9352C89.6509 26.1878 90.1756 26.013 90.5094 25.6636C90.8432 25.3141 91.0104 24.9201 91.011 24.4816C91.011 24.0442 90.8485 23.6411 90.5235 23.2722C90.1985 22.9034 89.6033 22.7192 88.7379 22.7197H86.0543V26.1878ZM86.0543 18.6424H88.7863C89.4712 18.6424 89.9547 18.469 90.2366 18.1222C90.5185 17.7753 90.6595 17.4052 90.6595 17.0117C90.6595 15.9433 90.0023 15.4089 88.6878 15.4086H86.0543V18.6424Z"
                        fill="white" />
                    <path
                        d="M113.585 25.8831V30.4526H99.1357V11.3079H113.585V15.7367H104.915V18.5018H111.917V22.7431H104.915V25.8831H113.585Z"
                        fill="white" />
                    <path
                        d="M133.02 30.4526H126.485L123.666 23.1415H121.813V30.4526H115.916V11.3079H125.953C128.168 11.3079 129.888 11.8253 131.112 12.8601C132.337 13.8949 132.949 15.2594 132.95 16.9538C132.95 18.0589 132.725 19.0352 132.275 19.8829C131.824 20.7305 130.915 21.477 129.545 22.1222L133.02 30.4526ZM121.813 19.0642H124.332C125.073 19.0642 125.668 18.9092 126.118 18.5993C126.569 18.2893 126.794 17.8335 126.794 17.2317C126.794 16.0008 126.039 15.3853 124.528 15.3852H121.813V19.0642Z"
                        fill="white" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M43.5333 11.3121C43.8599 11.5052 44.2253 11.7522 44.5654 12.0529L44.5656 12.0531L44.5658 12.0532C45.3096 12.7115 45.8049 13.4143 45.9666 13.6933L45.9697 13.6987L45.9911 13.7367L45.9951 13.7436C46.1658 14.0356 46.5487 14.6908 46.6914 15.5468L46.6914 15.5472C46.8056 16.2334 46.9412 18.0073 46.954 18.174L46.957 18.2141V18.2249C47.0466 19.5454 47.0351 20.2343 47.0266 20.7344L47.0265 20.7366L47.0265 20.7389C47.026 20.759 47.0256 20.7756 47.0253 20.79C47.0245 20.8232 47.024 20.8444 47.024 20.8681V20.8789L47.0238 20.8896C47.0139 21.378 46.9266 21.8619 46.7651 22.3235C46.3074 23.6396 45.4738 24.7338 44.3149 25.5649L44.3127 25.5665L44.3104 25.5681C43.5003 26.1429 42.6068 26.5925 41.6606 26.9017L41.659 26.9022L41.6575 26.9027C41.2129 27.0464 40.7121 27.1385 40.2968 27.1965C40.2946 27.2051 40.2926 27.2132 40.2906 27.2208C40.2865 27.2369 40.2829 27.2511 40.2799 27.2631L40.2695 27.3035L40.2678 27.3103L40.2589 27.3436L40.2572 27.3499C39.936 28.4979 39.4932 29.609 38.9362 30.6647C38.3785 31.7304 37.6252 32.7917 37.0607 33.5614L37.0606 33.5616C36.8284 33.8781 36.402 34.3369 36.0215 34.7248C35.6369 35.1169 35.2157 35.521 34.963 35.7277C34.8489 35.8218 34.7368 35.9149 34.6254 36.0075L34.5573 36.0642C34.2671 36.3058 33.9629 36.559 33.6667 36.7774L33.6665 36.7776C32.7987 37.4171 32.1461 37.7943 32.0951 37.8235L32.095 37.8236L32.0948 37.8237C31.0932 38.3965 27.7179 39.9521 24.3084 39.9521C23.4115 39.9521 22.6505 39.9142 21.9237 39.8297C19.0876 39.5006 17.1498 38.6732 16.4099 38.3108L16.4098 38.3108C11.0057 35.6641 8.68246 31.0648 8.25398 30.1317L8.25146 30.1262L8.24928 30.1213C8.10267 29.8123 7.97898 29.5377 7.87469 29.2948C5.90352 29.2091 5.01674 28.8263 4.60746 28.6347C2.46365 27.7451 1.40145 26.3244 0.89447 25.2439L0.894454 25.2438C0.432618 24.2594 0.353883 23.4141 0.341745 23.0705C0.232823 21.9151 0.162449 20.8388 0.12574 20.0004C0.107225 19.5776 0.0970523 19.2103 0.0951052 18.9209C0.0933671 18.6626 0.0967555 18.3905 0.123577 18.2073C0.123587 18.2073 0.123596 18.2072 0.123605 18.2071C0.223556 17.5237 0.484625 16.8087 0.858506 16.0881C0.858529 16.0881 0.858552 16.088 0.858575 16.088C1.45284 14.9424 2.2674 14.3058 2.58254 14.0596L2.58378 14.0586L2.61721 14.0324L2.62007 14.0302L2.65087 14.0059C2.651 14.0058 2.65114 14.0057 2.65127 14.0056C2.6711 13.9899 2.69165 13.9737 2.71237 13.9572C2.94635 13.1157 3.06762 12.7497 3.22249 12.3476L3.22256 12.3474L3.22262 12.3473C4.36742 9.37816 6.39971 6.8128 9.21679 4.71565C9.98039 4.14719 11.2038 3.32177 12.6985 2.61688L12.7337 2.59991C12.7347 2.5994 12.7357 2.59889 12.7368 2.59839C13.4268 2.26001 15.0003 1.62274 15.6703 1.39355C15.6704 1.39352 15.6705 1.39349 15.6705 1.39346C17.0577 0.918553 18.3981 0.656982 19.4895 0.468626C21.2868 0.157795 22.5453 0.0930176 23.8597 0.0930176C25.5024 0.0930176 26.8012 0.169281 27.9232 0.341769C29.6568 0.604405 31.3582 1.0442 33.0004 1.6541L33.0005 1.65414C34.9772 2.38805 36.7686 3.36051 38.323 4.55L38.3231 4.55005C39.5766 5.50945 40.6794 6.61205 41.5975 7.82924C42.3555 8.83283 42.8562 9.68447 43.2951 10.732L43.2952 10.7322C43.391 10.961 43.4706 11.1561 43.5333 11.3121Z"
                        fill="white" />
                    <path
                        d="M44.9878 18.3211C44.9878 18.3211 44.8469 16.4722 44.7459 15.865C44.6563 15.3312 44.3875 14.894 44.2561 14.6665C44.2077 14.5833 43.8408 14.0323 43.2517 13.5112C42.9225 13.22 42.4925 12.9526 42.0557 12.7402C42.0303 12.7319 42.0071 12.7181 41.9877 12.6999C41.9683 12.6816 41.9533 12.6593 41.9437 12.6345C41.8642 12.4543 41.8555 12.4295 41.8555 12.4295C41.8555 12.4295 41.7211 12.0744 41.4729 11.482C41.1497 10.7102 40.7587 9.98224 40.0171 9.0002C38.6197 7.14819 36.2483 4.94886 32.3061 3.4839C31.3128 3.11483 29.7528 2.60127 27.6196 2.27304C26.5255 2.10459 25.2737 2.04712 23.8568 2.04712C22.7667 2.04712 21.5911 2.08817 19.8253 2.39355C18.7502 2.57931 17.5407 2.81944 16.3109 3.24044C15.6932 3.45194 14.2013 4.05869 13.6057 4.3512C13.4473 4.42909 12.0473 5.05006 10.3977 6.278C8.42987 7.74274 6.26671 9.91766 5.06082 13.0451C4.92218 13.4046 4.8102 13.7362 4.50089 14.8698C4.43907 15.096 4.12014 15.3405 3.84173 15.5607C3.62896 15.7291 3.02938 16.1692 2.60786 16.981C2.40785 17.3663 2.15005 17.9433 2.07032 18.4888C2.04344 18.6706 2.0665 20.4349 2.30704 22.9581C2.30704 22.9581 2.26876 25.5635 5.39075 26.8441C5.55896 26.9131 6.40154 27.4273 9.25498 27.3512C9.25498 27.3512 9.37012 27.9027 10.0355 29.3042C10.1099 29.4609 12.1057 34.0262 17.2794 36.5602C17.5663 36.7007 19.3522 37.5658 22.1492 37.8904C22.8254 37.9688 23.5094 37.9994 24.3048 37.9994C27.4216 37.9994 30.3745 36.5504 31.1051 36.133C31.1051 36.133 31.6926 35.7959 32.4866 35.2106C32.845 34.9456 33.2495 34.5945 33.705 34.2226C34.0634 33.929 35.1568 32.832 35.4637 32.4134C35.9788 31.7099 36.6848 30.7201 37.1852 29.764C37.6786 28.8286 38.071 27.8442 38.3559 26.8272C38.3559 26.8272 38.5236 26.1738 38.6157 25.765C38.6793 25.4823 38.6746 25.4162 38.8824 25.3878C38.9984 25.3713 39.1707 25.3514 39.2742 25.3412C39.2742 25.3412 40.3351 25.2766 41.0436 25.0473C41.7983 24.8011 42.5108 24.4427 43.1568 23.9843C43.9512 23.4146 44.5618 22.6596 44.8997 21.6875C44.9935 21.42 45.0445 21.1395 45.0509 20.8564C45.0594 20.3588 45.0845 19.7299 44.9878 18.3211ZM39.3454 12.1117C39.2963 12.1163 39.1232 12.0711 38.8636 12.0695C38.0828 12.0646 37.2035 12.2832 37.1375 12.2976C36.3535 12.4676 36.2785 12.5728 36.2588 12.5937C36.2391 12.6146 36.2458 12.6148 36.1968 12.6245C36.1477 12.6343 36.0823 12.5316 35.9992 12.4157C34.9671 10.9789 33.5774 9.74478 33.3731 9.56124C31.5571 7.93027 29.1249 6.95533 28.9115 6.87588C26.3313 5.90494 23.072 5.91492 22.8169 5.92757C20.0735 6.06362 17.1828 7.26736 15.9971 7.95668C14.8114 8.64599 13.4348 9.91811 13.4348 9.91811C11.2154 11.9909 10.5346 13.5831 10.2071 14.0882C10.1363 14.1971 10.1724 14.1956 10.0537 14.1872C9.97372 14.1816 9.55355 14.1206 9.14345 14.0815C8.73335 14.0425 8.33311 14.0316 8.24956 14.032C7.226 14.0354 7.112 14.143 7.06586 14.1641C6.94917 14.2169 7.02956 13.9668 7.04591 13.9164C7.6661 12.0031 8.86013 10.4452 8.95666 10.328C10.7373 8.17373 12.4128 7.11002 12.5013 7.05032C14.3786 5.77155 16.4592 5.0272 16.6128 4.97194C18.3936 4.33101 20.1236 4.05271 20.2842 4.02031C21.6314 3.74933 23.823 3.7096 23.9323 3.7096C24.89 3.7096 25.7333 3.7704 26.323 3.82833C26.8339 3.87848 27.7276 4.00964 28.0293 4.07245C28.974 4.26997 30.0303 4.58046 30.1181 4.60798C32.5424 5.36787 34.0058 6.28288 34.1129 6.35257C34.3563 6.51125 35.3011 7.10714 35.8207 7.54434C36.8192 8.38501 37.559 9.23478 37.6011 9.28671C37.8826 9.63492 38.1055 9.88215 38.3046 10.1755C39.0715 11.3056 39.3783 12.0258 39.3783 12.0258C39.4157 12.1092 39.3942 12.1077 39.3454 12.1117Z"
                        fill="#1B1C20" />
                    <path
                        d="M36.5459 21.9807C36.5459 29.4474 30.9727 35.5005 23.6747 35.5005C16.8098 35.5005 10.8037 29.4474 10.8037 21.9807C10.8037 16.9487 13.3346 12.5587 17.2179 10.2309C19.0973 9.10478 20.8826 8.46118 23.6747 8.46118C26.1319 8.46118 27.9833 9.06838 29.8062 10.1257C33.821 12.4542 36.5459 16.9653 36.5459 21.9807Z"
                        fill="white" />
                    <path
                        d="M23.67 26.0887C24.877 26.1348 25.4483 26.2342 26.4331 26.4333C27.4186 26.62 28.528 26.7957 29.2747 26.8244C29.8382 26.8466 30.4257 26.7325 31.5505 26.3039C31.9662 26.1455 32.4912 25.8949 32.9907 25.625C33.4383 25.3855 33.872 25.1213 34.2898 24.8337C34.7429 24.523 35.1373 24.1856 35.2361 23.0449C35.2361 23.0449 35.3465 21.8378 35.1317 20.0027C35.084 19.5961 34.9827 18.8413 34.7357 18.0302C34.5381 17.3817 34.3549 16.7194 34.0212 16.1903C33.9596 16.0931 33.6404 15.6588 33.1752 15.3457C32.9584 15.1999 32.6756 15.0858 32.388 14.9928C31.6902 14.7663 30.979 14.5826 30.2584 14.4426C29.1683 14.23 27.461 14.0691 26.4437 14.009C26.0136 13.9837 24.3202 13.9575 20.5744 13.9748L20.2053 13.9766C19.8875 13.9784 16.7888 14.2613 15.1434 14.8117C14.9466 14.8783 13.8905 15.1499 13.4058 15.9185C13.3077 16.0738 12.4522 17.5301 12.0537 20.6176C12.0268 20.8247 11.8362 22.5877 12.1843 23.7309C12.2985 24.1064 12.3926 24.2517 12.789 24.5917C12.8786 24.6685 13.3024 24.9912 13.893 25.3394C14.5362 25.718 15.5553 26.2101 16.4371 26.5046C16.5715 26.5489 17.1485 26.7667 18.0244 26.7354C18.8706 26.7052 19.6707 26.5303 20.5462 26.388C20.9343 26.3248 21.6246 26.2058 22.2992 26.12C22.9252 26.0401 23.5147 26.0827 23.67 26.0887Z"
                        fill="#E81623" />
                    <path
                        d="M30.9538 29.012C30.9538 29.012 30.7372 28.352 30.6725 28.2717C30.6481 28.2417 30.6118 28.2273 30.5813 28.2617C30.5509 28.2961 29.7381 29.1925 28.5226 29.9106C28.4298 29.9652 27.3888 30.6026 25.9469 31.052C25.8427 31.0844 25.0846 31.3669 23.3373 31.4413C23.3046 31.4426 22.9315 31.4515 22.5173 31.4413C22.1283 31.4319 21.8472 31.3891 21.4161 31.3931C21.3793 31.3931 21.2817 31.3931 21.2906 31.4462C21.3216 31.5883 21.3666 31.7271 21.425 31.8605C21.5507 32.1293 21.6042 32.2396 21.7572 32.2877C21.8219 32.3079 21.9959 32.3419 22.421 32.3681C22.52 32.374 23.0163 32.4067 23.6459 32.406C23.7615 32.406 25.4559 32.4482 26.2049 32.1974C26.6089 32.0831 27.0058 31.9451 27.3933 31.7842C28.0374 31.5154 28.8596 31.0948 29.6648 30.4042C29.7058 30.3689 29.9656 30.145 30.2559 29.8645C30.4991 29.6292 30.7614 29.3509 30.9542 29.1423C30.9881 29.1057 30.9666 29.0486 30.9538 29.012Z"
                        fill="#1B1C20" />
                </svg>
            </button>

            <div class="watermark-tooltip">
                <div class="watermark-tooltip-square">
                    <p>View on Hiberworld.com</p>
                </div>
                <div class="watermark-tooltip-triangle"></div>
            </div>
        </div>

    </div>
    <script type="module" type='text/javascript'>

        const e=Object.prototype.toString;function t(t){switch(e.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return f(t,Error)}}function n(t,n){return e.call(t)===`[object ${n}]`}function r(e){return n(e,"ErrorEvent")}function i(e){return n(e,"DOMError")}function o(e){return n(e,"String")}function s(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function a(e){return n(e,"Object")}function c(e){return"undefined"!=typeof Event&&f(e,Event)}function u(e){return n(e,"RegExp")}function l(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function d(e){return"number"==typeof e&&e!=e}function f(e,t){try{return e instanceof t}catch(e){return!1}}function p(e){return e&&e.Math==Math?e:void 0}const h="object"==typeof globalThis&&p(globalThis)||"object"==typeof window&&p(window)||"object"==typeof self&&p(self)||"object"==typeof global&&p(global)||function(){return this}()||{};function m(){return h}function g(e,t,n){const r=n||h,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const _=m();function v(e,t){try{let n=e;const r=5,i=80,o=[];let s=0,a=0;const c=" > ",u=c.length;let l;for(;n&&s++<r&&(l=y(n,t),!("html"===l||s>1&&a+o.length*u+l.length>=i));)o.push(l),a+=l.length,n=n.parentNode;return o.reverse().join(c)}catch(e){return"<unknown>"}}function y(e,t){const n=e,r=[];let i,s,a,c,u;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&o(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)r.push(`.${s[u]}`);const d=["type","name","title","alt"];for(u=0;u<d.length;u++)a=d[u],c=n.getAttribute(a),c&&r.push(`[${a}="${c}"]`);return r.join("")}class b extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const w=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function S(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function E(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function x(e){return"string"==typeof e?function(e){const t=w.exec(e);if(!t)throw new b(`Invalid Sentry Dsn: ${e}`);const[n,r,i="",o,s="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return E({host:o,pass:i,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(e):E(e)}const k=["debug","info","warn","error","log","assert","trace"];let C;function I(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}function O(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function A(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!o(e)&&(u(t)?t.test(e):!!o(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}function R(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);if("function"==typeof i)try{P(i,r)}catch(e){}e[t]=i}function D(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function P(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,D(e,"__sentry_original__",t)}function T(e){return e.__sentry_original__}function B(e){if(t(e))return{message:e.message,name:e.name,stack:e.stack,...N(e)};if(c(e)){const t={type:e.type,target:L(e.target),currentTarget:L(e.currentTarget),...N(e)};return"undefined"!=typeof CustomEvent&&f(e,CustomEvent)&&(t.detail=e.detail),t}return e}function L(e){try{return t=e,"undefined"!=typeof Element&&f(t,Element)?v(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function N(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function M(e,t=40){const n=Object.keys(B(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return I(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:I(r,t)}return""}function F(e){return j(e,new Map)}function j(e,t){if(a(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=j(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(j(e,t))})),r}return e}function U(e,t){return null!=e?e:t()}function G(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...e)=>n.call(t,...e))),t=void 0)}return n}C=function(){const e={enable:()=>{},disable:()=>{}};return k.forEach((t=>{e[t]=()=>{}})),e}();function W(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[];for(const i of e.split("\n").slice(n)){const e=i.replace(/\(error: (.*)\)/,"$1");for(const n of t){const t=n(e);if(t){r.push(t);break}}}return function(e){if(!e.length)return[];let t=e;const n=t[0].function||"",r=t[t.length-1].function||"";-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1));-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1));return t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(r)}}function q(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}const V=m();function H(){if(!("fetch"in V))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function z(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Y=m(),K={},$={};function J(e){if(!$[e])switch($[e]=!0,e){case"console":!function(){if(!("console"in Y))return;k.forEach((function(e){e in Y.console&&R(Y.console,e,(function(t){return function(...n){Q("console",{args:n,level:e}),t&&t.apply(Y.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in Y))return;const e=Q.bind(null,"dom"),t=ie(e,!0);Y.document.addEventListener("click",t,!1),Y.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Y[t]&&Y[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(R(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=ie(e);s.handler=r,t.call(this,n,r,i)}s.refCount+=1}catch(e){}return t.call(this,n,r,i)}})),R(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Y))return;const e=XMLHttpRequest.prototype;R(e,"open",(function(e){return function(...t){const n=this,r=t[1],i=n.__sentry_xhr__={method:o(t[0])?t[0].toUpperCase():t[0],url:t[1]};o(r)&&"POST"===i.method&&r.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const s=function(){if(4===n.readyState){try{i.status_code=n.status}catch(e){}Q("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&"function"==typeof n.onreadystatechange?R(n,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(n,t)}})):n.addEventListener("readystatechange",s),e.apply(n,t)}})),R(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),Q("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!function(){if(!H())return!1;if(z(V.fetch))return!0;let e=!1;const t=V.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=z(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){}return e}())return;R(Y,"fetch",(function(e){return function(...t){const n={args:t,fetchData:{method:Z(t),url:ee(t)},startTimestamp:Date.now()};return Q("fetch",{...n}),e.apply(Y,t).then((e=>(Q("fetch",{...n,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Q("fetch",{...n,endTimestamp:Date.now(),error:e}),e}))}}))}();break;case"history":!function(){if(!function(){const e=V.chrome,t=e&&e.app&&e.app.runtime,n="history"in V&&!!V.history.pushState&&!!V.history.replaceState;return!t&&n}())return;const e=Y.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=te,t=String(n);te=t,Q("history",{from:e,to:t})}return e.apply(this,t)}}Y.onpopstate=function(...t){const n=Y.location.href,r=te;if(te=n,Q("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},R(Y.history,"pushState",t),R(Y.history,"replaceState",t)}();break;case"error":oe=Y.onerror,Y.onerror=function(e,t,n,r,i){return Q("error",{column:r,error:i,line:n,msg:e,url:t}),!!oe&&oe.apply(this,arguments)};break;case"unhandledrejection":se=Y.onunhandledrejection,Y.onunhandledrejection=function(e){return Q("unhandledrejection",e),!se||se.apply(this,arguments)};break;default:return}}function X(e,t){K[e]=K[e]||[],K[e].push(t),J(e)}function Q(e,t){if(e&&K[e])for(const n of K[e]||[])try{n(t)}catch(e){}}function Z(e=[]){return"Request"in Y&&f(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function ee(e=[]){return"string"==typeof e[0]?e[0]:"Request"in Y&&f(e[0],Request)?e[0].url:String(e[0])}let te;let ne,re;function ie(e,t=!1){return n=>{if(!n||re===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===ne||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(re,n))&&(e({event:n,name:r,global:t}),re=n),clearTimeout(ne),ne=Y.setTimeout((()=>{ne=void 0}),1e3)}}let oe=null;let se=null;function ae(){const e=h,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function ce(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ue(e){const{message:t,event_id:n}=e;if(t)return t;const r=ce(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function le(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function de(e,t){const n=ce(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function fe(e){if(e&&e.__sentry_captured__)return!0;try{D(e,"__sentry_captured__",!0)}catch(e){}return!1}function pe(e){return Array.isArray(e)?e:[e]}function he(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function me(e,t){return e.require(t)}function ge(e){let t;try{t=me(module,e)}catch(e){}try{const{cwd:n}=me(module,"process");t=me(module,`${n()}/node_modules/${e}`)}catch(e){}return t}function _e(e,t=1/0,n=1/0){try{return ye("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function ve(e,t=3,n=102400){const r=_e(e,t);return i=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?ve(e,t-1,n):r;var i}function ye(e,t,n=1/0,r=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[o,s]=i;if(null===t||["number","boolean","string"].includes(typeof t)&&!d(t))return t;const c=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":a(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${q(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;if(0===n)return c.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return ye("",u.toJSON(),n-1,r,i)}catch(e){}const l=Array.isArray(t)?[]:{};let f=0;const p=B(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(f>=r){l[e]="[MaxProperties ~]";break}const t=p[e];l[e]=ye(e,t,n-1,r,i),f+=1}return s(t),l}var be;function we(e){return new Ee((t=>{t(e)}))}function Se(e){return new Ee(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(be||(be={}));class Ee{__init(){this._state=be.PENDING}__init2(){this._handlers=[]}constructor(e){Ee.prototype.__init.call(this),Ee.prototype.__init2.call(this),Ee.prototype.__init3.call(this),Ee.prototype.__init4.call(this),Ee.prototype.__init5.call(this),Ee.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Ee(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Ee(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(be.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(be.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===be.PENDING&&(l(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===be.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===be.RESOLVED&&e[1](this._value),this._state===be.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function xe(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Se(new b("Not adding Promise because buffer limit was reached."));const i=r();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new Ee(((n,r)=>{let i=t.length;if(!i)return n(!0);const o=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{we(e).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function ke(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function Ce(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length}const Ie=["fatal","error","warning","log","info","debug"];const Oe=m(),Ae={nowSeconds:()=>Date.now()/1e3};const Re=he()?function(){try{return me(module,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=Oe;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),De=void 0===Re?Ae:{nowSeconds:()=>(Re.timeOrigin+Re.now())/1e3},Pe=Ae.nowSeconds.bind(Ae),Te=De.nowSeconds.bind(De),Be=Te;function Le(e,t=[]){return[e,t]}function Ne(e,t){const[n,r]=e;return[n,[...r,t]]}function Me(e,t){e[1].forEach((e=>{const n=e[0].type;t(e,n)}))}function Fe(e,t){return(t||new TextEncoder).encode(e)}function je(e,t){const[n,r]=e;let i=JSON.stringify(n);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[Fe(i,t),e]:i.push("string"==typeof e?Fe(e,t):e)}for(const e of r){const[t,n]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(_e(n))}o(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(i)}function Ue(e,t){const n="string"==typeof e.data?Fe(e.data,t):e.data;return[F({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(()=>{const{performance:e}=Oe;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,a="number"==typeof s?Math.abs(s+n-r):t;(o||a<t)&&(i<=a&&e.timeOrigin)})();const Ge={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function We(e){return Ge[e]}function qe(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,n]=e.split(":",2),o=parseInt(t,10),s=1e3*(isNaN(o)?60:o);if(n)for(const e of n.split(";"))i[e]=r+s;else i.all=r+s}else s?i.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}function Ve(e){const t=Te(),n={sid:ae(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return F({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&He(n,e),n}function He(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Te(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ae()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class ze{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new ze;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&He(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof ze?t:this}return e instanceof ze?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):a(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:Pe(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ye(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new Ee(((i,o)=>{const s=e[r];if(null===t||"function"!=typeof s)i(t);else{const a=s({...t},n);l(a)?a.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(i))).then(null,o):this._notifyEventProcessors(e,a,n,r+1).then(i).then(null,o)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?pe(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Ye(){return g("globalEventProcessors",(()=>[]))}function Ke(e){Ye().push(e)}const $e="00000000000000000000000000000000",Je=100;class Xe{__init(){this._stack=[{}]}constructor(e,t=new ze,n=4){this._version=n,Xe.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=ze.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=new Error("Sentry syntheticException");return this._lastEventId=this._withClient(((r,i)=>r.captureException(e,{originalException:e,syntheticException:n,...t},i)))||$e,this._lastEventId}captureMessage(e,t,n){const r=new Error(e);return this._lastEventId=this._withClient(((i,o)=>i.captureMessage(e,t,{originalException:e,syntheticException:r,...n},o)))||$e,this._lastEventId}captureEvent(e,t){const n=this._withClient(((n,r)=>n.captureEvent(e,{...t},r)))||$e;return"transaction"!==e.type&&(this._lastEventId=n),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!n||!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Je}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const s={timestamp:Pe(),...e},a=i?function(e){if(!("console"in h))return e();const t=h.console,n={};k.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}((()=>i(s,t))):s;null!==a&&n.addBreadcrumb(a,o)}setUser(e){const t=this.getScope();t&&t.setUser(e)}setTags(e){const t=this.getScope();t&&t.setTags(e)}setExtras(e){const t=this.getScope();t&&t.setExtras(e)}setTag(e,t){const n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){const n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){const n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){const t=Ze(this);try{e(this)}finally{Ze(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(e){return null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),He(e,n)}(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i}=n&&n.getOptions()||{},{userAgent:o}=h.navigator||{},s=Ve({release:r,environment:i,...t&&{user:t.getUser()},...o&&{userAgent:o},...e});if(t){const e=t.getSession&&t.getSession();e&&"ok"===e.status&&He(e,{status:"exited"}),this.endSession(),t.setSession(s)}return s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();return n&&e(n,t)}_callExtensionMethod(e,...t){const n=Qe().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t)}}function Qe(){return h.__SENTRY__=h.__SENTRY__||{extensions:{},hub:void 0},h}function Ze(e){const t=Qe(),n=nt(t);return rt(t,e),n}function et(){const e=Qe();return tt(e)&&!nt(e).isOlderThan(4)||rt(e,new Xe),he()?function(e){try{const t=Qe().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return nt(e);if(!tt(n)||nt(n).isOlderThan(4)){const t=nt(e).getStackTop();rt(n,new Xe(t.client,ze.clone(t.scope)))}return nt(n)}catch(t){return nt(e)}}(e):nt(e)}function tt(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function nt(e){return g("hub",(()=>new Xe),e)}function rt(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function it(e,t){return et().captureException(e,{captureContext:t})}function ot(e,t){et().setTag(e,t)}function st(e){et().withScope(e)}function at(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function ct(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${at(e,r)}`}function ut(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function lt(e,t,n,r){const i=ut(n),o=e.type||"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:S(r)},..."transaction"===e.type&&i&&{trace:F({...i})}}}(e,i,r,t);delete e.sdkProcessingMetadata;return Le(s,[[{type:o},e]])}const dt=[];function ft(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?pe(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r),o=i.findIndex((e=>"Debug"===e.name));if(-1!==o){const[e]=i.splice(o,1);i.push(e)}return i}class pt{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(pt.prototype.__init.call(this),pt.prototype.__init2.call(this),pt.prototype.__init3.call(this),pt.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=x(e.dsn);const t=ct(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(fe(e))return;let r;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let i;const o=s(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(o.then((e=>this._captureEvent(e,n,r))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&fe(t.originalException))return;let r;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()&&("string"!=typeof e.release||(this.sendSession(e),He(e,{init:!1})))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):we(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{t[e.name]=e,-1===dt.indexOf(e.name)&&(e.setupOnce(Ke,et),dt.push(e.name))})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(e){return null}}sendEvent(e,t={}){if(this._dsn){let n=lt(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Ne(n,Ue(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){const t=function(e,t,n,r){const i=ut(n);return Le({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:S(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t){if(this._options.sendClientReports){const n=`${e}:${t}`;this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,t){let n=!1,r=!1;const i=t.exception&&t.exception.values;if(i){r=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&(He(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ee((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const{normalizeDepth:r=3,normalizeMaxBreadth:i=1e3}=this.getOptions(),o={...e,event_id:e.event_id||t.event_id||ae(),timestamp:e.timestamp||Pe()};this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let s=n;t.captureContext&&(s=ze.clone(s).update(t.captureContext));let a=we(o);if(s&&s.getAttachments){const e=[...t.attachments||[],...s.getAttachments()];e.length&&(t.attachments=e),a=s.applyToEvent(o,t)}return a.then((e=>"number"==typeof r&&r>0?this._normalizeEvent(e,r,i):e))}_normalizeEvent(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:_e(e.data,t,n)}})))},...e.user&&{user:_e(e.user,t,n)},...e.contexts&&{contexts:_e(e.contexts,t,n)},...e.extra&&{extra:_e(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=_e(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=_e(e.data,t,n)),e)))),r}_applyClientOptions(e){const t=this.getOptions(),{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=I(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=I(s.value,o));const a=e.request;a&&a.url&&(a.url=I(a.url,o))}_applyIntegrationsMetadata(e){const t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r;if(!this._isEnabled())return Se(new b("SDK not enabled, will not capture event.","log"));const o="transaction"===e.type,s=o?"beforeSendTransaction":"beforeSend",c=r[s];return!o&&"number"==typeof i&&Math.random()>i?(this.recordDroppedEvent("sample_rate","error"),Se(new b(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"))):this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",e.type||"error"),new b("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__||!c)return n;return function(e,t){const n=`\`${t}\` must return \`null\` or a valid event.`;if(l(e))return e.then((e=>{if(!a(e)&&null!==e)throw new b(n);return e}),(e=>{throw new b(`\`${t}\` rejected with ${e}`)}));if(!a(e)&&null!==e)throw new b(n);return e}(c(n,t),s)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",e.type||"error"),new b(`\`${s}\` returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);const a=r.transaction_info;if(o&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e,changes:[...a.changes,{source:e,timestamp:r.timestamp,propagations:a.propagations}]}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof b)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing+=1,e.then((e=>(this._numProcessing-=1,e)),(e=>(this._numProcessing-=1,e)))}_sendEnvelope(e){this._transport&&this._dsn&&this._transport.send(e).then(null,(e=>{}))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function ht(e,t,n=xe(e.bufferSize||30)){let r={};return{send:function(i){const o=[];if(Me(i,((t,n)=>{const i=We(n);!function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,i)?o.push(t):e.recordDroppedEvent("ratelimit_backoff",i)})),0===o.length)return we();const s=Le(i[0],o),a=t=>{Me(s,((n,r)=>{e.recordDroppedEvent(t,We(r))}))};return n.add((()=>t({body:je(s,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode),r=qe(r,e)}),(e=>{a("network_error")})))).then((e=>e),(e=>{if(e instanceof b)return a("queue_overflow"),we();throw e}))},flush:e=>n.drain(e)}}let mt;class gt{constructor(){gt.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=gt.id}setupOnce(){mt=Function.prototype.toString,Function.prototype.toString=function(...e){const t=T(this)||this;return mt.apply(t,e)}}}gt.__initStatic();const _t=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class vt{static __initStatic(){this.id="InboundFilters"}__init(){this.name=vt.id}constructor(e={}){this._options=e,vt.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(vt);if(t){const r=n.getClient(),i=r?r.getOptions():{},o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],..._t],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return!0;if(function(e,t){if(!t||!t.length)return!1;return function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(e){return[]}return[]}(e).some((e=>A(e,t)))}(e,t.ignoreErrors))return!0;if(function(e,t){if(!t||!t.length)return!1;const n=yt(e);return!!n&&A(n,t)}(e,t.denyUrls))return!0;if(!function(e,t){if(!t||!t.length)return!0;const n=yt(e);return!n||A(n,t)}(e,t.allowUrls))return!0;return!1}(e,o)?null:e}}return e};n.id=this.name,e(n)}}function yt(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(e){return null}}vt.__initStatic();const bt=h;let wt=0;function St(){return wt>0}function Et(){wt+=1,setTimeout((()=>{wt-=1}))}function xt(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(T(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const i=r.map((e=>xt(e,t)));return e.apply(this,i)}catch(e){throw Et(),st((n=>{n.addEventProcessor((e=>(t.mechanism&&(le(e,void 0,void 0),de(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),it(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}P(r,e),D(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}function kt(e,t){const n=It(e,t),r={type:t&&t.name,value:At(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Ct(e,t){return{exception:{values:[kt(e,t)]}}}function It(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Ot.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Ot=/Minified React error #\d+;/i;function At(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Rt(e,o,s,u,l){let d;if(r(o)&&o.error){return Ct(e,o.error)}if(i(o)||n(o,"DOMException")){const t=o;if("stack"in o)d=Ct(e,o);else{const n=t.name||(i(t)?"DOMError":"DOMException"),r=t.message?`${n}: ${t.message}`:n;d=Dt(e,r,s,u),le(d,r)}return"code"in t&&(d.tags={...d.tags,"DOMException.code":`${t.code}`}),d}if(t(o))return Ct(e,o);if(a(o)||c(o)){return d=function(e,t,n,r){const i=et().getClient(),o=i&&i.getOptions().normalizeDepth,s={exception:{values:[{type:c(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${M(t)}`}]},extra:{__serialized__:ve(t,o)}};if(n){const t=It(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,o,s,l),de(d,{synthetic:!0}),d}return d=Dt(e,o,s,u),le(d,`${o}`,void 0),de(d,{synthetic:!0}),d}function Dt(e,t,n,r){const i={message:t};if(r&&n){const r=It(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}return i}class Pt{static __initStatic(){this.id="Breadcrumbs"}__init(){this.name=Pt.id}constructor(e){Pt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&X("console",Tt),this.options.dom&&X("dom",function(e){function t(t){let n,r="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{n=t.event.target?v(t.event.target,r):v(t.event,r)}catch(e){n="<unknown>"}0!==n.length&&et().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&X("xhr",Bt),this.options.fetch&&X("fetch",Lt),this.options.history&&X("history",Nt)}}function Tt(e){for(let t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:(n=e.level,"warn"===n?"warning":Ie.includes(n)?n:"log"),message:O(e.args," ")};var n;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${O(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}et().addBreadcrumb(t,{input:e.args,level:e.level})}function Bt(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:n,status_code:r,body:i}=e.xhr.__sentry_xhr__||{};et().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:r},type:"http"},{xhr:e.xhr,input:i})}else;}function Lt(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?et().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):et().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function Nt(e){let t=e.from,n=e.to;const r=ke(bt.location.href);let i=ke(t);const o=ke(n);i.path||(i=r),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),et().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}Pt.__initStatic();class Mt extends pt{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"7.21.1"}],version:"7.21.1"},super(e),e.sendClientReports&&bt.document&&bt.document.addEventListener("visibilitychange",(()=>{"hidden"===bt.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const i=Rt(e,t,n&&n.syntheticException||void 0,r);return de(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),we(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){const o=Dt(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),we(o)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){const n=this.getIntegrationById("Breadcrumbs");n&&n.options&&n.options.sentry&&et().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:ue(e)},{event:e}),super.sendEvent(e,t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return;if(!this._dsn)return;const t=ct(this._dsn,this._options),n=(r=e,Le((i=this._options.tunnel&&S(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:o||Pe(),discarded_events:r}]]));var r,i,o;try{const e="[object Navigator]"===Object.prototype.toString.call(bt&&bt.navigator);if(e&&"function"==typeof bt.navigator.sendBeacon&&!this._options.transportOptions){bt.navigator.sendBeacon.bind(bt.navigator)(t,je(n))}else this._sendEnvelope(n)}catch(e){}}}let Ft;function jt(e,t=function(){if(Ft)return Ft;if(z(bt.fetch))return Ft=bt.fetch.bind(bt);const e=bt.document;let t=bt.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){}return Ft=t.bind(bt)}()){return ht(e,(function(n){const r={body:n.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n.body.length<=65536,...e.fetchOptions};try{return t(e.url,r).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Ft=void 0,Se(e)}}))}function Ut(e){return ht(e,(function(t){return new Ee(((n,r)=>{const i=new XMLHttpRequest;i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)}))}))}function Gt(e,t,n,r){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}const Wt=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qt=/\((\S*)(?::(\d+))(?::(\d+))\)/,Vt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ht=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,zt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Yt=W(...[[30,e=>{const t=Wt.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=qt.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Kt(t[1]||"?",t[2]);return Gt(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Vt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Ht.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||"?";return[n,e]=Kt(n,e),Gt(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=zt.exec(e);return t?Gt(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}]]),Kt=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class $t{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=$t.id}__init2(){this._installFunc={onerror:Jt,onunhandledrejection:Xt}}constructor(e){$t.prototype.__init.call(this),$t.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const t in e){const n=this._installFunc[t];n&&e[t]&&(n(),this._installFunc[t]=void 0)}}}function Jt(){X("error",(e=>{const[t,n,i]=en();if(!t.getIntegration($t))return;const{msg:s,url:a,line:c,column:u,error:l}=e;if(St()||l&&l.__sentry_own_request__)return;const d=void 0===l&&o(s)?function(e,t,n,i){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=r(e)?e.message:e,a="Error";const c=s.match(o);c&&(a=c[1],s=c[2]);return Qt({exception:{values:[{type:a,value:s}]}},t,n,i)}(s,a,c,u):Qt(Rt(n,l||s,void 0,i,!1),a,c,u);d.level="error",Zt(t,l,d,"onerror")}))}function Xt(){X("unhandledrejection",(e=>{const[t,n,r]=en();if(!t.getIntegration($t))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(St()||i&&i.__sentry_own_request__)return!0;const o=s(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Rt(n,i,void 0,r,!0);o.level="error",Zt(t,i,o,"onunhandledrejection")}))}function Qt(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},c=a.stacktrace=a.stacktrace||{},u=c.frames=c.frames||[],l=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,f=o(t)&&t.length>0?t:function(){try{return _.document.location.href}catch(e){return""}}();return 0===u.length&&u.push({colno:l,filename:f,function:"?",in_app:!0,lineno:d}),e}function Zt(e,t,n,r){de(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function en(){const e=et(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}$t.__initStatic();const tn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class nn{static __initStatic(){this.id="TryCatch"}__init(){this.name=nn.id}constructor(e){nn.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&R(bt,"setTimeout",rn),this._options.setInterval&&R(bt,"setInterval",rn),this._options.requestAnimationFrame&&R(bt,"requestAnimationFrame",on),this._options.XMLHttpRequest&&"XMLHttpRequest"in bt&&R(XMLHttpRequest.prototype,"send",sn);const e=this._options.eventTarget;if(e){(Array.isArray(e)?e:tn).forEach(an)}}}function rn(e){return function(...t){const n=t[0];return t[0]=xt(n,{mechanism:{data:{function:q(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function on(e){return function(t){return e.apply(this,[xt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:q(e)},handled:!0,type:"instrument"}})])}}function sn(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&R(n,e,(function(t){const n={mechanism:{data:{function:e,handler:q(t)},handled:!0,type:"instrument"}},r=T(t);return r&&(n.mechanism.data.handler=q(r)),xt(t,n)}))})),e.apply(this,t)}}function an(e){const t=bt,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(R(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=xt(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:q(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,xt(r,{mechanism:{data:{function:"addEventListener",handler:q(r),target:e},handled:!0,type:"instrument"}}),i])}})),R(n,"removeEventListener",(function(e){return function(t,n,r){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,i,r)}})))}nn.__initStatic();class cn{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=cn.id}constructor(e={}){cn.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=et().getClient();e&&Ke(((t,n)=>{const r=et().getIntegration(cn);return r?function(e,t,n,r,i){if(!(r.exception&&r.exception.values&&i&&f(i.originalException,Error)))return r;const o=un(e,n,i.originalException,t);return r.exception.values=[...o,...r.exception.values],r}(e.getOptions().stackParser,r._key,r._limit,t,n):t}))}}function un(e,t,n,r,i=[]){if(!f(n[r],Error)||i.length+1>=t)return i;const o=kt(e,n[r]);return un(e,t,n[r],r,[o,...i])}cn.__initStatic();class ln{constructor(){ln.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=ln.id}setupOnce(){Ke((e=>{if(et().getIntegration(ln)){if(!bt.navigator&&!bt.location&&!bt.document)return e;const t=e.request&&e.request.url||bt.location&&bt.location.href,{referrer:n}=bt.document||{},{userAgent:r}=bt.navigator||{},i={...t&&{url:t},headers:{...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}}};return{...e,request:i}}return e}))}}ln.__initStatic();class dn{constructor(){dn.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=dn.id}setupOnce(e,t){const n=e=>{const n=t().getIntegration(dn);if(n){try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!pn(e,t))return!1;if(!fn(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=hn(t),r=hn(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!pn(e,t))return!1;if(!fn(e,t))return!1;return!0}(e,t))return!0;return!1}(e,n._previousEvent))return null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function fn(e,t){let n=mn(e),r=mn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function pn(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function hn(e){return e.exception&&e.exception.values&&e.exception.values[0]}function mn(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}dn.__initStatic();const gn=[new vt,new gt,new nn,new Pt,new $t,new cn,new dn,new ln];function _n(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=gn),void 0===e.release&&bt.SENTRY_RELEASE&&bt.SENTRY_RELEASE.id&&(e.release=bt.SENTRY_RELEASE.id),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Yt,Array.isArray(n)?W(...n):n),integrations:ft(e),transport:e.transport||(H()?jt:Ut)};var n;!function(e,t){!0===t.debug&&console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.");const n=et(),r=n.getScope();r&&r.update(t.initialScope);const i=new e(t);n.bindClient(i)}(Mt,t),e.autoSessionTracking&&function(){if(void 0===bt.document)return;const e=et();if(!e.captureSession)return;vn(e),X("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&vn(et())}))}()}function vn(e){e.startSession({ignoreDuration:!0}),e.captureSession()}let yn={};function bn(){const e=function(e){const t=(e||et()).getScope();return t&&t.getTransaction()}();if(e){const t="internal_error";e.setStatus(t)}}bt.Sentry&&bt.Sentry.Integrations&&(yn=bt.Sentry.Integrations);class wn{__init(){this.spans=[]}constructor(e=1e3){wn.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Sn{__init2(){this.traceId=ae()}__init3(){this.spanId=ae().substring(16)}__init4(){this.startTimestamp=Be()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(Sn.prototype.__init2.call(this),Sn.prototype.__init3.call(this),Sn.prototype.__init4.call(this),Sn.prototype.__init5.call(this),Sn.prototype.__init6.call(this),Sn.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const t=new Sn({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});return t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this}isSuccess(){return"ok"===this.status}finish(e){this.endTimestamp="number"==typeof e?e:Be()}toTraceparent(){let e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return F({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=U(e.data,(()=>({}))),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=U(e.spanId,(()=>this.spanId)),this.startTimestamp=U(e.startTimestamp,(()=>this.startTimestamp)),this.status=e.status,this.tags=U(e.tags,(()=>({}))),this.traceId=U(e.traceId,(()=>this.traceId)),this}getTraceContext(){return F({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return F({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}class En extends Sn{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,t){super(e),En.prototype.__init.call(this),En.prototype.__init2.call(this),En.prototype.__init3.call(this),this._hub=t||et(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{},changes:[],propagations:0},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){e===this.name&&t===this.metadata.source||this.metadata.changes.push({source:this.metadata.source,timestamp:Te(),propagations:this.metadata.propagations}),this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new wn(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(void 0!==this.endTimestamp)return;if(this.name||(this.name="<unlabeled transaction>"),super.finish(e),!0!==this.sampled){const e=this._hub.getClient();return void(e&&e.recordDroppedEvent("sample_rate","transaction"))}const t=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const n=this.metadata,r={contexts:{...this._contexts,trace:this.getTraceContext()},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...n,dynamicSamplingContext:this.getDynamicSamplingContext()},...n.source&&{transaction_info:{source:n.source,changes:n.changes,propagations:n.propagations}}};return Object.keys(this._measurements).length>0&&(r.measurements=this._measurements),this._hub.captureEvent(r)}toContext(){return F({...super.toContext(),name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=U(e.name,(()=>"")),this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||et(),t=e&&e.getClient();if(!t)return{};const{environment:n,release:r}=t.getOptions()||{},{publicKey:i}=t.getDsn()||{},o=this.metadata.sampleRate,s=void 0!==o?o.toString():void 0,a=e.getScope(),{segment:c}=a&&a.getUser()||{},u=this.metadata.source;return F({environment:n,release:r,transaction:u&&"url"!==u?this.name:void 0,user_segment:c,public_key:i,trace_id:this.traceId,sample_rate:s})}}function xn(){const e=this.getScope();if(e){const t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function kn(e,t,n){if(!function(e){const t=et().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})),function(e){if(d(e)||"number"!=typeof e&&"boolean"!=typeof e)return!1;if(e<0||e>1)return!1;return!0}(r)&&r?(e.sampled=Math.random()<r,e.sampled,e):(e.sampled=!1,e)}function Cn(e,t){const n=this.getClient(),r=n&&n.getOptions()||{};(r.instrumenter||"sentry")!==(e.instrumenter||"sentry")&&(e.sampled=!1);let i=new En(e,this);return i=kn(i,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),i.sampled&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),i}function In(e){const t=G([e,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);return"sentry"!==(G([t,"optionalAccess",e=>e.instrumenter])||"sentry")}class On{static __initStatic(){this.id="Express"}__init(){this.name=On.id}constructor(e={}){On.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,t){this._router&&(In(t)||(function(e,t=[]){t.forEach((t=>function(e,t){const n=e[t];return e[t]=function(...e){return n.call(this,...function(e,t){return e.map((e=>"function"==typeof e?An(e,t):Array.isArray(e)?e.map((e=>"function"==typeof e?An(e,t):e)):e))}(e,t))},e}(e,t)))}(this._router,this._methods),function(e){const t="settings"in e;t&&void 0===e._router&&e.lazyrouter&&e.lazyrouter();const n=t?e._router:e;if(!n)return;const r=Object.getPrototypeOf(n),i=r.process_params;r.process_params=function(e,t,n,r,o){n._reconstructedRoute||(n._reconstructedRoute="");const{layerRoutePath:s,isRegex:a,isArray:c,numExtraSegments:l}=function(e){const t=G([e,"access",e=>e.route,"optionalAccess",e=>e.path]),n=u(t),r=Array.isArray(t);if(!t)return{isRegex:n,isArray:r,numExtraSegments:0};const i=r?Math.max((o=t,o.reduce(((e,t)=>e+Ce(t.toString())),0)-Ce(e.path||"")),0):0;var o;return{layerRoutePath:Rn(r,t),isRegex:n,isArray:r,numExtraSegments:i}}(e);(s||a||c)&&(n._hasParameters=!0);const d=(s||e.path||"").split("/").filter((e=>e.length>0&&(a||c||!e.includes("*")))).join("/");d&&d.length>0&&(n._reconstructedRoute+=`/${d}${a?"/":""}`);if(Ce(n.originalUrl||"")+l===Ce(n._reconstructedRoute)){n._hasParameters||n._reconstructedRoute!==n.originalUrl&&(n._reconstructedRoute=n.originalUrl);const e=r.__sentry_transaction;if(e&&"custom"!==e.metadata.source){const t=n._reconstructedRoute||"/";e.setName(...function(e,t={}){const n=e.method&&e.method.toUpperCase();let r="",i="url";t.customRoute||e.route?(r=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,i="route"):(e.originalUrl||e.url)&&(r=(e.originalUrl||e.url||"").split(/[\?#]/,1)[0]);let o="";return t.method&&n&&(o+=n),t.method&&t.path&&(o+=" "),t.path&&r&&(o+=r),[o,i]}(n,{path:!0,method:!0,customRoute:t}))}}return i.call(this,e,t,n,r,o)}}(this._router)))}}function An(e,t){const n=e.length;switch(n){case 2:return function(n,r){const i=r.__sentry_transaction;if(i){const n=i.startChild({description:e.name,op:`middleware.express.${t}`});r.once("finish",(()=>{n.finish()}))}return e.call(this,n,r)};case 3:return function(n,r,i){const o=G([r.__sentry_transaction,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`})]);e.call(this,n,r,(function(...e){G([o,"optionalAccess",e=>e.finish,"call",e=>e()]),i.call(this,...e)}))};case 4:return function(n,r,i,o){const s=G([i.__sentry_transaction,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`})]);e.call(this,n,r,i,(function(...e){G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),o.call(this,...e)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}function Rn(e,t){return e?t.map((e=>e.toString())).join(","):t&&t.toString()}On.__initStatic();class Dn{static __initStatic(){this.id="Postgres"}__init(){this.name=Dn.id}constructor(e={}){Dn.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}setupOnce(e,t){const n=ge("pg");if(!n)return;if(In(t))return;if(this._usePgNative&&!G([n,"access",e=>e.native,"optionalAccess",e=>e.Client]))return;const{Client:r}=this._usePgNative?n.native:n;R(r.prototype,"query",(function(e){return function(n,r,i){const o=G([t().getScope(),"optionalAccess",e=>e.getSpan,"call",e=>e()]),s=G([o,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.text,op:"db"})]);if("function"==typeof i)return e.call(this,n,r,(function(e,t){G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,t)}));if("function"==typeof r)return e.call(this,n,(function(e,t){G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),r(e,t)}));const a=void 0!==r?e.call(this,n,r):e.call(this,n);return l(a)?a.then((e=>(G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),a)}}))}}Dn.__initStatic();class Pn{constructor(){Pn.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=Pn.id}setupOnce(e,t){const n=ge("mysql/lib/Connection.js");n&&(In(t)||R(n,"createQuery",(function(e){return function(n,r,i){const o=G([t().getScope(),"optionalAccess",e=>e.getSpan,"call",e=>e()]),s=G([o,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.sql,op:"db"})]);return"function"==typeof i?e.call(this,n,r,(function(e,t,n){G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,t,n)})):"function"==typeof r?e.call(this,n,(function(e,t,n){G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),r(e,t,n)})):e.call(this,n,r,i)}})))}}Pn.__initStatic();const Tn=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Bn={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class Ln{static __initStatic(){this.id="Mongo"}__init(){this.name=Ln.id}constructor(e={}){Ln.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:Tn,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}setupOnce(e,t){const n=ge(this._useMongoose?"mongoose":"mongodb");n&&(In(t)||this._instrumentOperations(n.Collection,this._operations,t))}_instrumentOperations(e,t,n){t.forEach((t=>this._patchOperation(e,t,n)))}_patchOperation(e,t,n){if(!(t in e.prototype))return;const r=this._getSpanContextFromOperationArguments.bind(this);R(e.prototype,t,(function(e){return function(...i){const o=i[i.length-1],s=G([n().getScope(),"optionalAccess",e=>e.getSpan,"call",e=>e()]);if("function"!=typeof o||"mapReduce"===t&&2===i.length){const n=G([s,"optionalAccess",e=>e.startChild,"call",e=>e(r(this,t,i))]),o=e.call(this,...i);return l(o)?o.then((e=>(G([n,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(G([n,"optionalAccess",e=>e.finish,"call",e=>e()]),o)}const a=G([s,"optionalAccess",e=>e.startChild,"call",e=>e(r(this,t,i.slice(0,-1)))]);return e.call(this,...i.slice(0,-1),(function(e,t){G([a,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,t)}))}}))}_getSpanContextFromOperationArguments(e,t,n){const r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},i={op:"db",description:t,data:r},o=Bn[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!o||!s)return i;try{if("mapReduce"===t){const[e,t]=n;r[o[0]]="string"==typeof e?e:e.name||"<anonymous>",r[o[1]]="string"==typeof t?t:t.name||"<anonymous>"}else for(let e=0;e<o.length;e++)r[o[e]]=JSON.stringify(n[e])}catch(e){}return i}}Ln.__initStatic();class Nn{static __initStatic(){this.id="Prisma"}__init(){this.name=Nn.id}constructor(e={}){var t;Nn.prototype.__init.call(this),(t=e.client)&&t.$use&&(this._client=e.client)}setupOnce(e,t){this._client&&(In(t)||this._client.$use(((e,n)=>{const r=G([t().getScope(),"optionalAccess",e=>e.getSpan,"call",e=>e()]),i=e.action,o=e.model,s=G([r,"optionalAccess",e=>e.startChild,"call",e=>e({description:o?`${o} ${i}`:i,op:"db.sql.prisma"})]),a=n(e);return l(a)?a.then((e=>(G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),a)})))}}Nn.__initStatic();class Mn{constructor(){Mn.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=Mn.id}setupOnce(e,t){const n=ge("graphql/execution/execute.js");n&&(In(t)||R(n,"execute",(function(e){return function(...n){const r=t().getScope(),i=G([r,"optionalAccess",e=>e.getSpan,"call",e=>e()]),o=G([i,"optionalAccess",e=>e.startChild,"call",e=>e({description:"execute",op:"graphql.execute"})]);G([r,"optionalAccess",e=>e.setSpan,"call",e=>e(o)]);const s=e.call(this,...n);return l(s)?s.then((e=>(G([o,"optionalAccess",e=>e.finish,"call",e=>e()]),G([r,"optionalAccess",e=>e.setSpan,"call",e=>e(i)]),e))):(G([o,"optionalAccess",e=>e.finish,"call",e=>e()]),G([r,"optionalAccess",e=>e.setSpan,"call",e=>e(i)]),s)}})))}}Mn.__initStatic();class Fn{constructor(){Fn.prototype.__init.call(this)}static __initStatic(){this.id="Apollo"}__init(){this.name=Fn.id}setupOnce(e,t){const n=ge("apollo-server-core");n&&(In(t)||R(n.ApolloServerBase.prototype,"constructSchema",(function(e){return function(){if(!this.config.resolvers)return e.call(this);const n=pe(this.config.resolvers);return this.config.resolvers=n.map((e=>(Object.keys(e).forEach((n=>{Object.keys(e[n]).forEach((r=>{"function"==typeof e[n][r]&&function(e,t,n,r){R(e[t],n,(function(e){return function(...i){const o=G([r().getScope(),"optionalAccess",e=>e.getSpan,"call",e=>e()]),s=G([o,"optionalAccess",e=>e.startChild,"call",e=>e({description:`${t}.${n}`,op:"graphql.resolve"})]),a=e.call(this,...i);return l(a)?a.then((e=>(G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):(G([s,"optionalAccess",e=>e.finish,"call",e=>e()]),a)}}))}(e,n,r,t)}))})),e))),e.call(this)}})))}}var jn;Fn.__initStatic(),function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(jn||(jn={})),("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(!function(){const e=Qe();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Cn),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=xn))}(),he()&&function(){const e=Qe();if(!e.__SENTRY__)return;const t={mongodb:()=>new(me(module,"./integrations/node/mongo").Mongo),mongoose:()=>new(me(module,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new(me(module,"./integrations/node/mysql").Mysql),pg:()=>new(me(module,"./integrations/node/postgres").Postgres)},n=Object.keys(t).filter((e=>!!ge(e))).map((e=>{try{return t[e]()}catch(e){return}})).filter((e=>e));n.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...n])}(),X("error",bn),X("unhandledrejection",bn));const Un=[];function Gn(e,t){const{buildId:n,debugFile:r}=function(e){const t=WebAssembly.Module.customSections(e,"build_id");let n=null,r=null;if(console.log("BuildIds",t),t.length>0){const e=new Uint8Array(t[0]);n=Array.from(e).reduce(((e,t,n)=>e+(255&t).toString(16).padStart(2,"0")),"")}const i=WebAssembly.Module.customSections(e,"external_debug_info");if(i.length>0){const e=new Uint8Array(i[0]);r=new TextDecoder("utf-8").decode(e)}return{buildId:n,debugFile:r}}(e);if(n||r){const e=Un.findIndex((e=>e.code_file===t));e>=0&&Un.splice(e,1),Un.push({type:"wasm",code_id:n,code_file:t,debug_file:r,debug_id:n.padEnd(32,"0").substr(0,32)+"0"})}}const Wn=(e,t)=>t.originalException?.message?.includes("UnknownError: If you see this error we have a bug")&&Math.random()>.05?null:e;function qn(){const e="stable";_n({dsn:"https://6c70deac249f43b58717066a0139d111@o1115554.ingest.sentry.io/6147757",environment:["dev","nightly","rc","stable"].includes(e)?e:"dev",release:"v1.34.0".replace(/\//gi,"-"),integrations:[],debug:!1,tracesSampleRate:.2,sampleRate:1,beforeSend:Wn}),Ke((e=>{let t=!1;return e.exception&&e.exception.values&&e.exception.values.forEach((e=>{e.stacktrace&&e.stacktrace.frames.forEach((e=>{let n;if(e.filename&&(n=e.filename.match(/^(.*?):wasm-function\[\d+\]:(0x[a-fA-F0-9]+)$/))){const r=0;e.instruction_addr=n[2],e.addr_mode=`rel:${r}`,e.filename=n[1],e.platform="native",t=!0}}))})),t&&(e.debug_meta={images:Un}),e}))}const Vn=e=>{let t=e.getContext("webgl2");t||(t=e.getContext("webgl"));const n={renderer:"unknown",vendor:"unknown"},r=t.getExtension("WEBGL_debug_renderer_info");null!=r&&(n.renderer=t.getParameter(r.UNMASKED_RENDERER_WEBGL),n.vendor=t.getParameter(r.UNMASKED_VENDOR_WEBGL));const i={version:t.getParameter(t.VERSION),renderer:n.renderer,vendor:n.vendor};var o,s;o="webgl_info",s={glVersion:i.version,renderer:i.renderer,vendor:i.vendor},et().setContext(o,s),ot("webgl.version",i.version),ot("webgl.renderer",i.renderer),ot("webgl.vendor",i.vendor)},Hn=new Map,zn=new Map,Yn=e=>{if(Hn.has(e))return void console.warn("Tried to start an already existing transaction",e);const t=(n={name:e},et().startTransaction({...n},r));var n,r;Hn.set(e,t)},Kn=e=>{if(!Hn.has(e))return void console.warn("Tried to finish non existing transaction",e);Hn.get(e).finish(),Hn.delete(e)},$n=(e,t)=>{const n=`${e}_${t}`;if(!Hn.has(e))return void console.warn("Tried to add child to non existing transaction");const r=Hn.get(e);if(zn.has(n))return void console.warn("Tried to add child with duplicated name",n);const i=r.startChild({op:t});zn.set(n,i)},Jn=(e,t)=>{const n=`${e}_${t}`;if(!zn.has(n))return void console.warn("Tried to finish non existing transaction child",n);zn.get(n).finish(),zn.delete(n)};var Xn,Qn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zn={},er={},tr={},nr={},rr={};var ir={},or={};Object.defineProperty(or,"__esModule",{value:!0});var sr=function(){function e(){}return e.DISABLED={code:0,name:"DISABLED",style:null},e.ERROR={code:1,name:"ERROR",style:"background: #bc1601; color: #fafafa"},e.WARNING={code:2,name:"WARNING",style:"background: #F6F35F; color: #1a1a1a"},e.INFO={code:3,name:"INFO",style:"background: #BFE8A5; color: #1a1a1a"},e.DEBUG={code:4,name:"DEBUG",style:null},e}();or.default=sr,Object.defineProperty(ir,"__esModule",{value:!0});var ar,cr=or,ur=function(){function e(e){this.config=e}return e.getInstance=function(t){return!e.instance&&t&&(e.instance=new e(t)),e.instance},e.prototype.getSettings=function(){return this.config},e.prototype.getHashKey=function(){return this.config.HashKey},e.prototype.getLogger=function(){return void 0!==this.config.Logger?this.config.Logger:{level:cr.default.DISABLED}},e.prototype.getIdentityConsent=function(){return void 0===this.config.HasIdentityConsent||this.config.HasIdentityConsent},e.prototype.getDomain=function(){return this.config.Domain},e.prototype.getAnalyticsURL=function(){return this.config.AnalyticsURL},e.prototype.getEnvironment=function(){return this.config.Environment},e.prototype.getApiURL=function(){return this.config.ApiURL},e.prototype.getAppToken=function(){return this.config.AppToken},e.prototype.setApiURL=function(e){this.config.ApiURL=e},e}();function lr(){if(ar)return nr;ar=1,Object.defineProperty(nr,"__esModule",{value:!0});var e=function(){if(Xn)return rr;Xn=1,Object.defineProperty(rr,"__esModule",{value:!0});var e=function(){function e(){}return e.sha1_hmac=function(t,n){var r,i,o,s,a,c;for(n&&n.length>64&&(n=e.sha1(n,!0)),s=[],c=n?n.length:0,a=0;a<64;++a)s[a]=c>a?n.charCodeAt(a):0;for(r="",i="",a=0;a<64;++a)r+=String.fromCharCode(92^s[a]),i+=String.fromCharCode(54^s[a]);return o=e.sha1(i+t,!0),e.sha1(r+o)},e.sha1=function(e,t){function n(e,t){return e<<t|e>>>32-t}function r(e,t){var n,r,i="";for(n=7;n>=0;n--)r=e>>>4*n&15,i+=t?String.fromCharCode(r):r.toString(16);return i}var i,o,s,a,c,u,l,d,f,p,h=new Array(80),m=1732584193,g=4023233417,_=2562383102,v=271733878,y=3285377520,b=e.length,w=[];for(o=0;o<b-3;o+=4)s=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3),w.push(s);switch(b%4){case 0:o=2147483648;break;case 1:o=e.charCodeAt(b-1)<<24|8388608;break;case 2:o=e.charCodeAt(b-2)<<24|e.charCodeAt(b-1)<<16|32768;break;case 3:o=e.charCodeAt(b-3)<<24|e.charCodeAt(b-2)<<16|e.charCodeAt(b-1)<<8|128}for(w.push(o);w.length%16!=14;)w.push(0);for(w.push(b>>>29),w.push(b<<3&4294967295),i=0;i<w.length;i+=16){for(o=0;o<16;o++)h[o]=w[i+o];for(o=16;o<=79;o++)h[o]=n(h[o-3]^h[o-8]^h[o-14]^h[o-16],1);a=m,c=g,u=_,l=v,d=y;var S=void 0;for(o=0;o<=19;o++)S=n(a,5)+(c&u|~c&l)+d+h[o]+1518500249&4294967295,d=l,l=u,u=n(c,30),c=a,a=S;for(o=20;o<=39;o++)S=n(a,5)+(c^u^l)+d+h[o]+1859775393&4294967295,d=l,l=u,u=n(c,30),c=a,a=S;for(o=40;o<=59;o++)S=n(a,5)+(c&u|c&l|u&l)+d+h[o]+2400959708&4294967295,d=l,l=u,u=n(c,30),c=a,a=S;for(o=60;o<=79;o++)S=n(a,5)+(c^u^l)+d+h[o]+3395469782&4294967295,d=l,l=u,u=n(c,30),c=a,a=S;m=m+a&4294967295,g=g+c&4294967295,_=_+u&4294967295,v=v+l&4294967295,y=y+d&4294967295}if(f=(r(m)+r(g)+r(_)+r(v)+r(y)).toLowerCase(),!t)return f;for(p="";f.length;)p+=String.fromCharCode(parseInt(f.substr(0,2),16)),f=f.substr(2);return p},e}();return rr.default=e,rr}(),t=yr(),n=ir,r=function(){function r(){}return r.patchCookie=function(e){if(e&&r.isClient()){var t=new Date(0);document.cookie=r.COOKIE_ID_KEY+"="+Math.random()+";path=/;expires="+t.toUTCString()+";"}},r.refreshCookieIfExists=function(e,t){var n=r.getCookie(e);n&&this.setCookie(e,n,t)},r.processDiveParameters=function(e,t){r.isClient()&&Object.entries(e).forEach((function(e){var n=e[0],i=e[1];-1!==n.indexOf(r.PARAMETER_PREFIX)&&(n!==r.DIVE_CID_KEY||n===r.DIVE_CID_KEY&&!r.getCookie(r.DIVE_CID_KEY))&&r.setCookie(n,i,t)}))},r.refreshAllDiveCookies=function(e){var t=r.getAllDiveCookies();Object.entries(t).forEach((function(t){var n=t[0],i=t[1];r.setCookie(n,i,e)}))},r.getAllDiveCookies=function(){var e={};if(r.isClient())for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n].split("=");-1!==i[0].indexOf(r.PARAMETER_PREFIX)&&(e[(i[0]+"").trim()]=unescape(i.slice(1).join("=")))}return e},r.processQueryStringParams=function(e){if(r.isClient()){var t=r.getQueryStringParams(window.location.search),n=r.getReferrerQueryString();n&&(t=Object.assign(r.getQueryStringParams(n),t)),r.processDiveParameters(t,e)}},r.getReferrerQueryString=function(){var e=null;if(r.isClient()&&document.referrer){var t=document.referrer.split("?");t.length>1&&(e=t[1])}return e},r.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},r.getDeviceId=function(){var e;return(e=r.getCookie(r.COOKIE_ID_KEY))||r.setCookie(r.COOKIE_ID_KEY,e=r.uuidv4(),0),e},r.paramsToObject=function(e){var n,r=e.split("=");return r[0]?(r[0].startsWith("dive_")&&t.default.SetCustomHeaderParam(r[0],r[1]),(n={})[r[0]]=r[1]||null,n):{}},r.getQueryStringParams=function(e){return e.replace("?","").split("&").map(this.paramsToObject).reduce((function(e,t){return e?Object.assign(e,t):{}}))},r.digest=function(t,n){return e.default.sha1_hmac(t,n)},r.firstSession=function(){return!this.isClient()||!this.getCookie(r.SESSION_ID_KEY)},r.setClientSessionIdCookie=function(e){var t=r.getCookie(r.SESSION_ID_KEY);t||(t=r.uuidv4()),this.setCookie(r.SESSION_ID_KEY,t,e)},r.removeClientSessionIdCookie=function(){this.removeCookie(r.SESSION_ID_KEY)},r.removeDiveCookies=function(){this.removeCookie(r.VIEWED_BEFORE_KEY),this.removeCookie(r.SESSION_ID_KEY),this.removeCookie(r.PLAYER_ID_KEY),this.removeCookie(r.GAME_VER_KEY),this.removeCookie(r.DIVE_CID_KEY)},r.refreshClientSessionId=function(e){var t=r.getCookie(r.SESSION_ID_KEY);t||(this.setClientSessionRestartedFromIdCookie(),t=r.uuidv4()),this.setCookie(r.SESSION_ID_KEY,t,e)},r.setClientSessionRestartedFromIdCookie=function(){var e=r.getCookie(r.SESSION_ID_KEY);e||this.setCookie(r.SESSION_RESTARTED_FROM_KEY,e)},r.getClientSessionId=function(){return this.getCookie(r.SESSION_ID_KEY)},r.getClientSessionRestartedFrom=function(){return this.getCookie(r.SESSION_RESTARTED_FROM_KEY)},r.inArray=function(e,t){return Array.isArray(e)?-1!==e.indexOf(t):!!Array.isArray(t)&&-1!==t.indexOf(e)},r.utcToLocal=function(e){return new Date(e.getTime()-60*e.getTimezoneOffset()*1e3)},r.setSettings=function(e){this.setCookie(r.REMOTE_SETTINGS_KEY,JSON.stringify(e))},r.getSettings=function(){var e=this.getCookie(r.REMOTE_SETTINGS_KEY);return e?JSON.parse(e):null},r.getRemoteConfig=function(){var e=this.getCookie(r.REMOTE_CONFIG_KEY);return e?JSON.parse(e):null},r.setRemoteConfig=function(e){this.setCookie(r.REMOTE_CONFIG_KEY,JSON.stringify(e))},r.isIPV4Address=function(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)},r.PARAMETER_PREFIX="dive_",r.SESSION_ID_KEY="dive_csid",r.SESSION_RESTARTED_FROM_KEY="dive_csrid",r.VIEWED_BEFORE_KEY="dive_vbk",r.DIVE_CID_KEY="dive_cid",r.COOKIE_ID_KEY="COOKIEID",r.TRACKING_STOPPED_KEY="tracking_stopped",r.PLAYER_ID_KEY="dive_plid",r.GAME_VER_KEY="dive_gmv",r.REMOTE_CONFIG_KEY="dive_rc",r.REMOTE_SETTINGS_KEY="dive_rs",r.prefabEvents=["appLaunched","beacon","errorCreated","screenViewed","sdkStarted"],r.setCookie=function(e,t,i){if(r.isClient()){var o,s=n.default.getInstance().getDomain();if(void 0!==i){var a=new Date(2147483647e3);i&&(a=new Date).setTime(a.getTime()+1e3*i),o=e+"="+t+";path=/;expires="+a.toUTCString()+";domain="+s}else o=e+"="+t+";path=/;domain="+s;document.cookie=o}},r.getCookie=function(e){if(r.isClient()){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}},r.removeCookie=function(e){var t=new Date(0);document.cookie=e+"=;path=/;expires="+t.toUTCString()+";"},r.toISO8601=function(e){return e.toISOString().split(".")[0]+"Z"},r.isClient=function(){return"undefined"!=typeof window||"undefined"!=typeof document},r}();return nr.default=r,new(function(){function e(e,t){this._LOCALSTORAGE_KEY="DIVE_WINDOW_STATE_MANAGER",this.RECHECK_WINDOW_DELAY_MS=100,this._initialized=!1,this._unloaded=!1,this._isNewWindowPromotedToMain=!1,this._onWindowUpdated=t,this._isNewWindowPromotedToMain=e,this._windowId=Date.now().toString(),this.bindUnload(),this.determineWindowState.call(this),this._initialized=!0,this._onWindowUpdated.call(this)}return e.prototype.determineWindowState=function(){var e=this,t=this._isMainWindow;"undefined"!=typeof localStorage&&(this._windowArray=localStorage.getItem(this._LOCALSTORAGE_KEY)),null===this._windowArray||"NaN"===this._windowArray?this._windowArray=[]:"undefined"!=typeof localStorage?this._windowArray=JSON.parse(this._windowArray):this._windowArray=[],this._initialized?this._windowArray.length<=1||(this._isNewWindowPromotedToMain?this._windowArray[this._windowArray.length-1]:this._windowArray[0])===this._windowId?this._isMainWindow=!0:this._isMainWindow=!1:0===this._windowArray.length?(this._isMainWindow=!0,this._windowArray[0]=this._windowId,"undefined"!=typeof localStorage&&localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(this._windowArray))):(this._isMainWindow=!1,this._windowArray.push(this._windowId),"undefined"!=typeof localStorage&&localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(this._windowArray))),t!==this._isMainWindow&&this._onWindowUpdated.call(this),setTimeout((function(){e.determineWindowState.call(e)}),this.RECHECK_WINDOW_DELAY_MS)},e.prototype.removeWindow=function(){if("undefined"!=typeof localStorage){var e=localStorage.getItem(this._LOCALSTORAGE_KEY);if(null!=e){for(var t=JSON.parse(e),n=0,i=t.length;n<i;n++)if(t[n]===this._windowId){t.splice(n,1),0==t.length&&r.removeDiveCookies(),this._unloaded=!0;break}localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(t))}}},e.prototype.bindUnload=function(){var e=this;"undefined"!=typeof window&&(window.addEventListener("beforeunload",(function(){e._unloaded||e.removeWindow()})),window.addEventListener("unload",(function(){e._unloaded||e.removeWindow()})))},e.prototype.isMainWindow=function(){return this._isMainWindow},e.prototype.resetWindows=function(){"undefined"!=typeof localStorage&&localStorage.removeItem(this._LOCALSTORAGE_KEY)},e}())(!1,(function(){})),nr}ir.default=ur;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});var fr=function(){function e(){}return e.version="TS Dive SDK 1.5.8",e.settings_url="https://public.dive.games/sdk",e.events_path="/events",e.id_type="COOKIEID",e.platform="web",e.SESSION_ID_KEY="suid",e.DIGEST_KEY="dive-digest",e.COOKIE_PATCH=!0,e}();dr.default=fr;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});var hr=function(){function e(e){this.json={},this.json=e||{}}return e.prototype.getJson=function(){return this.json},e.prototype.AddParam=function(e,t){return this.json||(this.json={}),this.json[e]=t,this},e}();pr.default=hr;var mr,gr,_r={};function vr(){if(mr)return _r;mr=1,Object.defineProperty(_r,"__esModule",{value:!0});var e=or,t=lr(),n=function(){function n(e,t){this.settings=e,this.enabled=t}return n.getInstance=function(e,t){return n.instance||(n.instance=new n(e||n.DEFAULT_SETTINGS,!!t)),n.instance},n.prototype.add=function(e,n){this.enabled&&this.settings.level.code>=n.code&&(t.default.isClient()?console.log("%c["+n.name+"] ["+(new Date).toISOString()+"] - "+e,n.style):console.log("["+n.name+"] ["+(new Date).toISOString()+"] - "+e))},n.DEFAULT_SETTINGS={level:e.default.DISABLED},n}();return _r.default=n,_r}function yr(){if(gr)return tr;gr=1;var e=Qn&&Qn.__assign||function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};Object.defineProperty(tr,"__esModule",{value:!0});var t=lr(),n=dr,r=pr,i=vr(),o=or,s=function(){function s(e,r){this.header={name:"",player_id:null,s_session_id:null,game_ver:"",app_token:"",platform:n.default.platform,env:"dev",device_id:"",c_session_id:"",uuid:t.default.uuidv4(),timezone:(new Date).toString().split("GMT")[1].split(" (")[0],ts:"",timestamp_utc:"",unixts:0,sdk_ver:n.default.version,body:{}};var i=new Date,o=new Date(+i-6e4*i.getTimezoneOffset());if(this.header.ts=t.default.toISO8601(o),this.header.unixts=Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds())/1e3,this.header.timestamp_utc=t.default.toISO8601(i),this.header.uuid=t.default.uuidv4(),this.header.player_id=t.default.getCookie(t.default.PLAYER_ID_KEY),this.header.game_ver=t.default.getCookie(t.default.GAME_VER_KEY),this.header.c_session_id=t.default.getClientSessionId(),this.setSessionRestartedFrom(),t.default.isClient()){var s=void 0;(s=t.default.getCookie(t.default.COOKIE_ID_KEY))||t.default.setCookie(t.default.COOKIE_ID_KEY,s=t.default.uuidv4(),0),this.header.device_id=s}this.setName(e),this.setEventBody(r),this.SetPlatform(n.default.platform)}return s.prototype._setTs=function(e){return this.header.ts=e,this},s.prototype._setUnixts=function(e){return this.header.unixts=e,this},s.prototype._mergeEventBody=function(e){var t=e.getJson();for(var n in t)this.eventBody.AddParam(n,t[n])},s.prototype.getEventBody=function(){return this.eventBody},s.prototype.setEventBody=function(e){return e instanceof r.default?this.eventBody=e:this.eventBody=new r.default(e),this},s.prototype.toJson=function(){try{return this.header.c_session_id=t.default.getClientSessionId(),this.header=e(e({},this.header),s.customHeaderParams),this.header.body=this.eventBody?this.eventBody.getJson():{},this.header}catch(e){return i.default.getInstance().add("Event error. Couldn't stringify event. Error says \""+e+'"',o.default.ERROR),{}}},s.prototype.SetAppToken=function(e){return this.header.app_token=e,this},s.prototype._isPrefab=function(){return!1},s.prototype.setSessionRestartedFrom=function(){var e=t.default.getClientSessionRestartedFrom();e&&e.length>0&&(this.header.c_session_restarted_from=e)},s.prototype.setName=function(e){if(!this._isPrefab()&&-1!==t.default.prefabEvents.indexOf(e))throw new Error("An event with the name "+e+" cannot be created because there is a prefab event with the same name. Modify the name or try the prefab.");return this.header.name=e,this},s.prototype.getName=function(){return this.header.name},s.prototype.SetPlayerLevel=function(e){return this.header.level_before=e,this},s.prototype.GetPlayerLevel=function(){return this.header.level_before},s.prototype.SetPlayerXp=function(e){return this.header.xp_before=e,this},s.prototype.GetPlayerXp=function(){return this.header.xp_before},s.prototype.SetPlayerId=function(e){return t.default.setCookie(t.default.PLAYER_ID_KEY,e,0),this.header.player_id=e,this},s.prototype.GetPlayerId=function(){return this.header.player_id},s.prototype.SetServerSessionId=function(e){return this.header.s_session_id=e,this},s.prototype.GetServerSessionId=function(){return this.header.s_session_id},s.prototype.SetGameVersion=function(e){return t.default.setCookie(t.default.GAME_VER_KEY,e,0),this.header.game_ver=e,this},s.prototype.GetGameVersion=function(){return this.header.game_ver},s.prototype.GetClientSessionId=function(){return this.header.c_session_id},s.prototype.SetPlatform=function(e){return this.header.platform=e,this},s.prototype.GetPlatform=function(){return this.header.platform},s.prototype.SetEnv=function(e){return this.header.env=e,this},s.prototype.getEnv=function(){return this.header.env},s.prototype.getUuid=function(){return this.header.uuid},s.prototype.getTimezone=function(){return this.header.timezone},s.prototype.getUnixts=function(){return this.header.unixts},s.prototype.getTs=function(){return this.header.ts},s.prototype.getTimestampUTC=function(){return this.header.timestamp_utc},s.prototype.addCustomHeader=function(e,t){return this.SetCustomHeaderParam(e,t)},s.prototype.SetCustomHeaderParam=function(e,t){return this.header[e]=t,this},s.SetCustomHeaderParam=function(e,t){this.customHeaderParams[e]=t},s.ResetCustomHeaders=function(){this.customHeaderParams={}},s.customHeaderParams={},s}();return tr.default=s,tr}var br={exports:{}};!function(e,t){!function(n,r){var i="function",o="undefined",s="object",a="string",c="model",u="name",l="type",d="vendor",f="version",p="architecture",h="console",m="mobile",g="tablet",_="smarttv",v="wearable",y="embedded",b="Amazon",w="Apple",S="ASUS",E="BlackBerry",x="Firefox",k="Google",C="Huawei",I="LG",O="Microsoft",A="Motorola",R="Opera",D="Samsung",P="Sharp",T="Sony",B="Xiaomi",L="Zebra",N="Facebook",M=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===a&&-1!==j(t).indexOf(j(e))},j=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===o?e:e.substring(0,350)},G=function(e,t){for(var n,o,a,c,u,l,d=0;d<t.length&&!u;){var f=t[d],p=t[d+1];for(n=o=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(a=0;a<p.length;a++)l=u[++o],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):r:this[c[0]]=l?c[1].call(this,l,c[2]):r:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):r):this[c]=l||r;d+=2}},W=function(e,t){for(var n in t)if(typeof t[n]===s&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(F(t[n][i],e))return"?"===n?r:n}else if(F(t[n],e))return"?"===n?r:n;return e},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[u,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,N],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,W,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,j]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",j]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,D],[l,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,D],[l,m]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[d,w],[l,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,w],[l,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,C],[l,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[d,C],[l,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,B],[l,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,B],[l,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[l,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[l,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[l,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,A],[l,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,A],[l,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,I],[l,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,I],[l,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[l,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[l,m]],[/(pixel c)\b/i],[c,[d,k],[l,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,k],[l,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,T],[l,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,T],[l,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[l,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,b],[l,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,b],[l,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[l,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,E],[l,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,S],[l,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,S],[l,m]],[/(nexus 9)/i],[c,[d,"HTC"],[l,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[l,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[l,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[l,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,P],[l,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[l,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[l,g]],[/(surface duo)/i],[c,[d,O],[l,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[l,m]],[/(u304aa)/i],[c,[d,"AT&T"],[l,m]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[l,m]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[l,g]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[l,g]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[l,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[l,g]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[l,g]],[/\b(k88) b/i],[c,[d,"ZTE"],[l,g]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[l,m]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[l,m]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[l,g]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[l,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[l,g]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[l,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[l,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[l,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[l,m]],[/\b(ph-1) /i],[c,[d,"Essential"],[l,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[l,g]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[l,g]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[l,g]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[l,g]],[/(sprint) (\w+)/i],[d,c,[l,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,O],[l,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,L],[l,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,L],[l,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[l,h]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[l,h]],[/(playstation [345portablevi]+)/i],[c,[d,T],[l,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,O],[l,h]],[/smart-tv.+(samsung)/i],[d,[l,_]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,D],[l,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,I],[l,_]],[/(apple) ?tv/i],[d,[c,"Apple TV"],[l,_]],[/crkey/i],[[c,"Chromecast"],[d,k],[l,_]],[/droid.+aft(\w)( bui|\))/i],[c,[d,b],[l,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[d,P],[l,_]],[/(bravia[\w ]+)( bui|\))/i],[c,[d,T],[l,_]],[/(mitv-\w{5}) bui/i],[c,[d,B],[l,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,U],[c,U],[l,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,_]],[/((pebble))app/i],[d,c,[l,v]],[/droid.+; (glass) \d/i],[c,[d,k],[l,v]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,L],[l,v]],[/(quest( 2)?)/i],[c,[d,N],[l,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[l,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[l,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[l,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,W,q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,W,q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,f]]},H=function(e,t){if(typeof e===s&&(t=e,e=r),!(this instanceof H))return new H(e,t).getResult();var i=e||(typeof n!==o&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),c=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(V,t):V;return this.getBrowser=function(){var e,t={};return t.name=r,t.version=r,G.call(t,i,c.browser),t.major=typeof(e=t.version)===a?e.replace(/[^\d\.]/g,"").split(".")[0]:r,t},this.getCPU=function(){var e={};return e.architecture=r,G.call(e,i,c.cpu),e},this.getDevice=function(){var e={};return e.vendor=r,e.model=r,e.type=r,G.call(e,i,c.device),e},this.getEngine=function(){var e={};return e.name=r,e.version=r,G.call(e,i,c.engine),e},this.getOS=function(){var e={};return e.name=r,e.version=r,G.call(e,i,c.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===a&&e.length>350?U(e,350):e,this},this.setUA(i),this};H.VERSION="0.7.32",H.BROWSER=M([u,f,"major"]),H.CPU=M([p]),H.DEVICE=M([c,d,l,h,m,_,g,v,y]),H.ENGINE=H.OS=M([u,f]),e.exports&&(t=e.exports=H),t.UAParser=H;var z=typeof n!==o&&(n.jQuery||n.Zepto);if(z&&!z.ua){var Y=new H;z.ua=Y.getResult(),z.ua.get=function(){return Y.getUA()},z.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)z.ua[n]=t[n]}}}("object"==typeof window?window:Qn)}(br,br.exports);var wr,Sr=Qn&&Qn.__extends||(wr=function(e,t){return wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wr(e,t)},function(e,t){function n(){this.constructor=e}wr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(er,"__esModule",{value:!0});var Er=yr(),xr=lr(),kr=dr,Cr=br.exports,Ir=function(e){function t(){var t=this,n={device:"",user_agent:"",connection:"",id_type:kr.default.id_type,id_value:null,lang:"",os_version:"",is_refreshed:0,query_string_params:{},screen:{}};if(xr.default.isClient()){var r=new Cr.UAParser,i=r.getDevice().vendor||r.getDevice().model?r.getDevice().vendor+" "+r.getDevice().model:r.getCPU().architecture?"pc":"unknown",o=void 0;(o=xr.default.getCookie(xr.default.COOKIE_ID_KEY))||xr.default.setCookie(xr.default.COOKIE_ID_KEY,o=xr.default.uuidv4(),0);var s=window.screen?{height:window.screen.height,width:window.screen.width}:{};n={device:i,user_agent:null===navigator||void 0===navigator?void 0:navigator.userAgent,connection:"",id_type:kr.default.id_type,id_value:o,lang:null===navigator||void 0===navigator?void 0:navigator.language,os_version:null===navigator||void 0===navigator?void 0:navigator.platform,is_refreshed:0,query_string_params:{},screen:s}}return(t=e.call(this,"appLaunched",n)||this).setQueryStringParams(),t}return Sr(t,e),t.prototype.GetDevice=function(){return this.getEventBody().getJson().device},t.prototype.GetUserAgent=function(){return this.getEventBody().getJson().user_agent},t.prototype.GetConnection=function(){return this.getEventBody().getJson().connection},t.prototype.SetConnection=function(e){return this.getEventBody().getJson().connection=e,this},t.prototype.GetIdType=function(){return this.getEventBody().getJson().id_type},t.prototype.setQueryStringParams=function(){return xr.default.isClient()&&(this.getEventBody().getJson().query_string_params=xr.default.getQueryStringParams(window.location.search)),this},t.prototype.GetIdValue=function(){return this.getEventBody().getJson().id_value},t.prototype.GetLang=function(){return this.getEventBody().getJson().lang},t.prototype.GetOsVersion=function(){return this.getEventBody().getJson().os_version},t.prototype.SetIsRefreshed=function(e){return this.getEventBody().getJson().is_refreshed=e,this},t.prototype.GetIsRefreshed=function(){return this.getEventBody().getJson().is_refreshed},t.prototype._isPrefab=function(){return!0},t}(Er.default);er.default=Ir;var Or={},Ar=Qn&&Qn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Or,"__esModule",{value:!0});var Rr=function(e){function t(){return e.call(this,"errorCreated",{code:"",description:""})||this}return Ar(t,e),t.prototype.GetCode=function(){return this.getEventBody().getJson().code},t.prototype.SetCode=function(e){return this.getEventBody().getJson().code=e,this},t.prototype.GetDescription=function(){return this.getEventBody().getJson().description},t.prototype.SetDescription=function(e){return this.getEventBody().getJson().description=e,this},t.prototype._isPrefab=function(){return!0},t}(yr().default);Or.default=Rr;var Dr={},Pr={},Tr={},Br=Qn&&Qn.__assign||function(){return Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Br.apply(this,arguments)};Object.defineProperty(Tr,"__esModule",{value:!0});var Lr=dr,Nr=vr(),Mr=or,Fr=lr(),jr={is_sdk_enabled:1,is_beacon_enabled:1,beacon_freq_sec:60,tracking_url:"",retries_no:3,retries_sleep_sec:10,request_timeout_sec:100,session_lifetime_sec:0,api_url:"",is_background_tracking_enabled:0},Ur=function(){function e(e){this.results=!1,this.token=e}return e.getInstance=function(t){return!e.instance&&t&&(e.instance=new e(t)),e.instance},e.prototype.init=function(){var e=this;if(!this.results){var t="";return"undefined"!=typeof window&&(t=window.location.origin),fetch(Lr.default.settings_url+"/"+this.token+".json",{headers:{origin:t}}).then((function(e){return e.json()})).then((function(t){e.data=Br(Br({},jr),e.tryGetSettingsForPlatfrom(t)),e.results=!0,Fr.default.setSettings(e.data),Nr.default.getInstance().add("Remote Settings loaded",Mr.default.INFO),Promise.resolve(e.data)})).catch((function(t){Nr.default.getInstance().add('Can not retrieve Settings data from "'+Lr.default.settings_url+"/"+e.token+'.json". Error says "'+t+'"',Mr.default.WARNING);var n=Fr.default.getSettings();n?(Nr.default.getInstance().add("Remote Settings loaded from local storage",Mr.default.INFO),e.data=n,e.results=!0,Promise.resolve(e.data)):(Nr.default.getInstance().add("Remote Settings loaded from defaults",Mr.default.INFO),e.data=jr,Promise.resolve(e.data))}))}return Promise.resolve(this.data)},e.prototype.tryGetSettingsForPlatfrom=function(e){var t=e[Lr.default.platform];return null==t&&(t=e.default),t},e.prototype.hasResults=function(){return this.results},e.prototype.get=function(e,t){return void 0!==this.data[e]?this.data[e]:void 0!==t?t:null},e.prototype.getApiURL=function(){return this.get("api_url","")},e}();Tr.default=Ur;var Gr={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});var qr=function(){function e(t,n,r){this._iteration=1,this.state={},this.handler=function(e,t){},this.onStart=function(){},this.onEnd=function(){},this.settings=n||e.DEFAULT_SETTINGS,this.handler=t||this.handler,this.state=r||this.state}return e.prototype.start=function(){var e=this;return(void 0===this.settings.iterations||this.settings.iterations>0)&&(void 0===this.settings.iterations?this._interval=setInterval((function(){e.onStart.call(e,e.state),e.handler.call(e,e._iteration++,e.state)}),this.settings.repeating_time):this._interval=setInterval((function(){e.run()}),this.settings.repeating_time)),this},e.prototype.run=function(){this._iteration<=this.settings.iterations?(this.onStart.call(this,this.state),this.handler.call(this,this._iteration++,this.state)):this.settings.iterations&&this.stop()},e.prototype.stop=function(){this._iteration--,clearInterval(this._interval),this.onEnd.call(this,this._iteration,this.state)},e.DEFAULT_SETTINGS={repeating_time:2e3,iterations:1},e}();Wr.default=qr;var Vr={},Hr=Qn&&Qn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Vr,"__esModule",{value:!0});var zr=yr(),Yr=lr(),Kr=function(e){function t(){var t=e.call(this,"sdkStarted",{location_href:"",query_string_params:{},notifications_enabled:"",navigator_app_code_name:"",navigator_app_name:"",navigator_app_version:"",navigator_cookie_enabled:!1,navigator_product:""})||this;return t.prefab=!0,t.setLocationHref().setQueryStringParams().setNotificationsEnabled().setNavigatorAppCodeName().setNavigatorAppName().setNavigatorAppVersion().setNavigatorCookieEnabled().setNavigatorProduct().setScreen().setLanguage(),t.prefab=!0,t}return Hr(t,e),t.prototype.setQueryStringParams=function(){return Yr.default.isClient()&&(this.getEventBody().getJson().query_string_params=Yr.default.getQueryStringParams(window.location.search)),this},t.prototype.setLocationHref=function(){return Yr.default.isClient()&&(this.getEventBody().getJson().location_href=window.location.href),this},t.prototype.setLanguage=function(){return window.navigator.language&&(this.getEventBody().getJson().lang=navigator.language),this},t.prototype.setNotificationsEnabled=function(){return Yr.default.isClient()&&"undefined"!=typeof Notification&&(this.getEventBody().getJson().notifications_enabled=Notification.permission),this},t.prototype.setNavigatorAppCodeName=function(){return Yr.default.isClient()&&navigator&&void 0!==navigator.appCodeName&&(this.getEventBody().getJson().navigator_app_code_name=navigator.appCodeName),this},t.prototype.setNavigatorAppName=function(){return Yr.default.isClient()&&navigator&&void 0!==navigator.appName&&(this.getEventBody().getJson().navigator_app_name=navigator.appName),this},t.prototype.setNavigatorAppVersion=function(){return Yr.default.isClient()&&navigator&&void 0!==navigator.appVersion&&(this.getEventBody().getJson().navigator_app_version=navigator.appVersion),this},t.prototype.setNavigatorCookieEnabled=function(){return Yr.default.isClient()&&(this.getEventBody().getJson().navigator_cookie_enabled=navigator.cookieEnabled),this},t.prototype.setNavigatorProduct=function(){return Yr.default.isClient()&&navigator&&void 0!==navigator.product&&(this.getEventBody().getJson().navigator_product=navigator.product),this},t.prototype.setScreen=function(){if(Yr.default.isClient()){var e=void 0!==window.screen?{height:window.screen.height,width:window.screen.width}:{};this.getEventBody().getJson().screen=e}return this},t.prototype._isPrefab=function(){return!0},t}(zr.default);Vr.default=Kr;var $r={},Jr=Qn&&Qn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty($r,"__esModule",{value:!0});var Xr=function(e){function t(){return e.call(this,"beacon",{})||this}return Jr(t,e),t.prototype._isPrefab=function(){return!0},t}(yr().default);$r.default=Xr;var Qr={},Zr=Qn&&Qn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Qr,"__esModule",{value:!0});var ei=yr(),ti=lr(),ni=dr,ri=br.exports,ii=function(e){function t(){var t=this,n={device:"",user_agent:"",connection:"",id_type:ni.default.id_type,id_value:null,lang:"",os_version:"",is_refreshed:0,query_string_params:{}};if(ti.default.isClient()){var r=new ri.UAParser,i=r.getDevice().vendor||r.getDevice().model?r.getDevice().vendor+" "+r.getDevice().model:r.getCPU().architecture?"pc":"unknown",o=void 0;(o=ti.default.getCookie(ti.default.COOKIE_ID_KEY))||ti.default.setCookie(ti.default.COOKIE_ID_KEY,o=ti.default.uuidv4(),0),n={device:i,user_agent:null===navigator||void 0===navigator?void 0:navigator.userAgent,connection:"",id_type:ni.default.id_type,id_value:o,lang:null===navigator||void 0===navigator?void 0:navigator.language,os_version:null===navigator||void 0===navigator?void 0:navigator.platform,is_refreshed:0,query_string_params:{}}}return(t=e.call(this,"trackingStopped",n)||this).setQueryStringParams(),t}return Zr(t,e),t.prototype.GetDevice=function(){return this.getEventBody().getJson().device},t.prototype.GetUserAgent=function(){return this.getEventBody().getJson().user_agent},t.prototype.GetConnection=function(){return this.getEventBody().getJson().connection},t.prototype.SetConnection=function(e){return this.getEventBody().getJson().connection=e,this},t.prototype.GetIdType=function(){return this.getEventBody().getJson().id_type},t.prototype.setQueryStringParams=function(){return ti.default.isClient()&&(this.getEventBody().getJson().query_string_params=ti.default.getQueryStringParams(window.location.search)),this},t.prototype.GetIdValue=function(){return this.getEventBody().getJson().id_value},t.prototype.GetLang=function(){return this.getEventBody().getJson().lang},t.prototype.GetOsVersion=function(){return this.getEventBody().getJson().os_version},t.prototype.SetIsRefreshed=function(e){return this.getEventBody().getJson().is_refreshed=e,this},t.prototype.GetIsRefreshed=function(){return this.getEventBody().getJson().is_refreshed},t.prototype._isPrefab=function(){return!0},t}(ei.default);Qr.default=ii;var oi,si={};var ai,ci={};var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.DiveRemoteConfig=ui.RemoteConfig=void 0;var li=lr(),di=function(){function e(e){this.params=e}return e.prototype.GetValueOrDefault=function(e,t){return this.params[e]?this.params[e]:t},e}();ui.RemoteConfig=di;var fi=function(){function e(){this.config=null,this.loaded=!1}return e.prototype.GetRemoteConfig=function(e){if(null===e&&null!==this.config)return this.config;if(null===e){if(null===(e=li.default.getRemoteConfig()))return null}else this.loaded=!0;return this.config={configVersion:e.config_version,metadataExperiments:e.metadata_experiments,remoteConfig:new di(e.remote_config)},li.default.setRemoteConfig(e),this.config},e}();ui.DiveRemoteConfig=fi;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});var hi,mi,gi,_i=function(){function e(){if(void 0!==document.hidden)this.visibilityChange="visibilitychange";else if(void 0!==document.mozHidden)this.visibilityChange="mozvisibilitychange";else if(void 0!==document.msHidden)this.visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)throw new Error("Page Visibility API not supported.");this.visibilityChange="webkitvisibilitychange"}document.addEventListener(this.visibilityChange,this.handleVisibilityChange,!1)}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.onBackground=function(e){return this.onBackgroundCallback=e,this},e.prototype.onForeground=function(e){return this.onForegroundCallback=e,this},e.prototype.handleVisibilityChange=function(){switch(document.visibilityState){case"hidden":e.instance.onBackgroundCallback();break;case"visible":e.instance.onForegroundCallback()}},e}();function vi(){if(hi)return Gr;hi=1;var e=Qn&&Qn.__assign||function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)},t=Qn&&Qn.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},n=Qn&&Qn.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(Gr,"__esModule",{value:!0});var r=or,i=ir,o=vr(),s=Wr,a=Tr,c=Vr,u=yr(),l=dr,d=lr(),f=$r,p=er,h=Or,m=bi(),g=Qr,_=yi(),v=function(){if(oi)return si;oi=1;var e=Qn&&Qn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(si,"__esModule",{value:!0});var t=yr(),n=yi(),r=function(t){function r(){var e=n.default.Start("dive_background_checkpoint",!1);if(!e)throw new Error("An error occurred while trying to instantiate the appBackground event. It may be because an instance of this event already exists.");return t.call(this,"appBackground",{id:e.getUuid()})||this}return e(r,t),r.prototype._isPrefab=function(){return!0},r}(t.default);return si.default=r,si}(),y=function(){if(ai)return ci;ai=1;var e=Qn&&Qn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ci,"__esModule",{value:!0});var t=yr(),n=yi(),r=function(t){function r(){var e=n.default.End("dive_background_checkpoint");if(!e)throw new Error("An error occurred while trying to instantiate the appForeground event. This may be because an instance of the appBackground event was not created before.");var r=e.getEventBody().getJson().total_milliseconds/1e3;return t.call(this,"appForeground",{id:e.getUuid(),total_seconds:Math.round(100*r)/100})||this}return e(r,t),r.prototype._isPrefab=function(){return!0},r}(t.default);return ci.default=r,ci}(),b=ui,w=pi,S=function(){function S(e){var t=this;this.env="",this.game_ver="",this.current_level=0,this.player_xp=0,this.player_id="",this.s_sessionid="",this.sdkStarted=!1,this.appLauchedSent=!1,this.remoteConfig=new b.DiveRemoteConfig,this.beaconScheduler=new s.default((function(){})),this.token=e.AppToken,this.env=e.Environment,this.game_ver=e.GameVersion,i.default.getInstance(e),o.default.getInstance(e.Logger,e.ShowLogs),a.default.getInstance(e.AppToken),this.initSettings().then((function(){t.trackingStopped()?o.default.getInstance().add("SDK is Opt Out. Cal SetOptOut(false) and call Init ",r.default.INFO):o.default.getInstance().add("SDK initializated",r.default.INFO),a.default.getInstance().get("is_background_tracking_enabled")&&w.default.getInstance().onBackground((function(){return t.appBackground()})).onForeground((function(){return t.appForeground()}))}))}return Object.defineProperty(S.prototype,"SdkStarted",{get:function(){return this.sdkStarted},enumerable:!1,configurable:!0}),S.prototype.initSettings=function(){var e=this;return this.onSettingsLoaded=a.default.getInstance().init().then((function(){e.begin()})),this.onSettingsLoaded},S.prototype.SetOptOut=function(e){var t=this,n=d.default.getCookie(d.default.TRACKING_STOPPED_KEY);if(e){if(null===n){var i=new g.default;this.s_sessionid&&i.SetServerSessionId(this.s_sessionid),this.token&&i.SetAppToken(this.token),this.env&&i.SetEnv(this.env),this.game_ver&&i.SetGameVersion(this.game_ver),this.player_id&&i.SetPlayerId(this.player_id),this.current_level&&i.SetPlayerLevel(this.current_level),this.player_xp&&i.SetPlayerXp(this.player_xp),this.s_sessionid&&i.SetServerSessionId(this.s_sessionid),this.postEvent(i).then((function(){t.beaconScheduler.stop(),d.default.setCookie(d.default.TRACKING_STOPPED_KEY,!0,0)})).catch((function(e){o.default.getInstance().add("Error sending the event "+i.getName()+" "+JSON.stringify(i.toJson(),null,2)+' via fallback url. Error says "'+e+'"',r.default.WARNING)}))}}else n&&d.default.removeCookie(d.default.TRACKING_STOPPED_KEY);return this},S.prototype.SetDiveCid=function(e){d.default.setCookie(d.default.DIVE_CID_KEY,e,this.getSessionLifeTimeSec())},S.prototype.trackingStopped=function(){var e=d.default.getCookie(d.default.TRACKING_STOPPED_KEY);return null!==e&&e},S.Init=function(e){return S.instance&&(o.default.getInstance().add("DiveSDK Instance is already running. Re-initializing SDK",r.default.INFO),this.reset()),this.init(e)},S.init=function(t){return t&&t.AppToken&&t.HashKey||o.default.getInstance({level:r.default.ERROR}).add("You must set AppToken and HashKey",r.default.ERROR),t&&!t.GameVersion&&o.default.getInstance({level:r.default.WARNING}).add("Missing parameter GameVersion. You must set GameVersion when calling DiveSDK.Init().",r.default.WARNING),S.instance=new S(e(e({},this.DEFAULT_CONFIG),t)),S.instance},S.reset=function(){_.default.Reset(),S.instance.player_xp=0,S.instance.game_ver="",S.instance.player_id="",S.instance.current_level=0,S.instance.s_sessionid="",S.instance.ResetCustomHeaders(),S.instance.beaconScheduler.stop(),d.default.setClientSessionRestartedFromIdCookie(),d.default.removeDiveCookies()},S.getInstance=function(){if(!S.instance)throw new Error("Method DiveSdk.getInstance(token,settings) is deprecated. Call DiveSdk.Init(settings) now. Then, you can use DiveSdk.getInstance() (without parameters) to get the initializated instance");return S.instance},S.prototype.begin=function(){var e=this;this.trackingStopped()||(this.sdkStarted=!0,d.default.firstSession()&&d.default.isClient()&&(this.refreshClientSessionIdCookie(),this.RecordEvent(new c.default)),this.onSettingsLoaded.then((function(){e.refreshClientSessionIdCookie(),e.initBeaconScheduler();var t=a.default.getInstance().getApiURL();""!=t&&i.default.getInstance().setApiURL(t),a.default.getInstance().get("is_clean_orphan_cookies_enabled")&&(o.default.getInstance().add("Running device_id patch",r.default.DEBUG),d.default.patchCookie(1===a.default.getInstance().get("is_clean_orphan_cookies_enabled")))})),d.default.processQueryStringParams(this.getSessionLifeTimeSec()))},S.prototype.SetPlayerXp=function(e){return this.player_xp=e,this},S.prototype.SetGameVersion=function(e){return this.game_ver=e,this},S.prototype.SetPlayerId=function(e){return this.player_id=e,this},S.prototype.SetPlayerLevel=function(e){return this.current_level=e,this},S.prototype.SetServerSessionId=function(e){return this.s_sessionid=e,this},S.prototype.SetCustomHeaderParam=function(e,t){return o.default.getInstance().add("Set Custom Headers for all events -> "+e+" : "+t+".",r.default.INFO),u.default.SetCustomHeaderParam(e,t),this},S.prototype.ResetCustomHeaders=function(){u.default.ResetCustomHeaders()},S.prototype.ensureMissingSetters=function(){return this.s_sessionid&&this.s_sessionid.length||o.default.getInstance().add("Missing parameter s_session_id. You must call SetServerSessionId before call Launch.",r.default.WARNING),this.player_id&&this.player_id.length||o.default.getInstance().add("Missing parameter player_id. You must call SetPlayerId before call Launch.",r.default.WARNING),this},S.prototype.GetDeviceId=function(){return d.default.getDeviceId()},S.prototype.Launch=function(e){if(!this.trackingStopped()){this.ensureMissingSetters();var t=new p.default;return e&&t._mergeEventBody(e),this.appLauchedSent&&o.default.getInstance().add("The launch method is being called more than once.",r.default.WARNING),this.appLauchedSent=!0,S.getInstance().RecordEvent(t)}return this},S.prototype.RecordError=function(e,t){if(!this.trackingStopped()){var n=new h.default;return n.SetCode(e).SetDescription(t),S.getInstance().RecordEvent(n)}return this},S.prototype.ScreenViewed=function(e){if(!this.trackingStopped()){var t=new m.default;return t.SetViewed(e,this.getSessionLifeTimeSec()),S.getInstance().RecordEvent(t)}return this},S.prototype.refreshViewedBeforeKey=function(){return d.default.refreshCookieIfExists(d.default.VIEWED_BEFORE_KEY,this.getSessionLifeTimeSec()),this},S.prototype.refreshClientSessionIdCookie=function(){return d.default.setClientSessionIdCookie(this.getSessionLifeTimeSec()),this},S.prototype.refreshAllDiveCookies=function(){return d.default.refreshAllDiveCookies(this.getSessionLifeTimeSec()),this},S.prototype.getSessionLifeTimeSec=function(){return a.default.getInstance().get("session_lifetime_sec")?a.default.getInstance().get("session_lifetime_sec"):900},S.prototype.initBeaconScheduler=function(){var e=this;!this.trackingStopped()&&d.default.isClient()&&(this.beaconScheduler=new s.default((function(){e.refreshClientSessionIdCookie().refreshViewedBeforeKey().refreshAllDiveCookies(),a.default.getInstance().get("is_beacon_enabled",0)&&e.RecordEvent(new f.default)}),{repeating_time:1e3*a.default.getInstance().get("beacon_freq_sec",5)}).start())},S.prototype.postEvent=function(e){var t;if(!this.trackingStopped()){var n="*";"undefined"!=typeof window&&(n=window.location.origin);var s=JSON.stringify([e.toJson()]);return fetch(a.default.getInstance().get("tracking_url")+l.default.events_path,{method:"POST",body:s,headers:(t={Authorization:"Bearer "+this.token},t[l.default.DIGEST_KEY]=d.default.digest(s,i.default.getInstance().getHashKey()),t["Content-type"]="application/json",t.origin=n,t)}).then((function(t){404===t.status?o.default.getInstance().add("There was an error trying to send the event. Server return status code 404",r.default.WARNING):o.default.getInstance().add("Event "+e.getName()+" "+JSON.stringify(e.toJson(),null,2)+" sent",r.default.INFO)}))}return new Promise((function(){}))},S.prototype.postEventFallback=function(e){var t;if(!this.trackingStopped()){var n="*";"undefined"!=typeof window&&(n=window.location.origin);var s=JSON.stringify([e.toJson()]);return fetch(i.default.getInstance().getAnalyticsURL()+l.default.events_path,{method:"POST",body:s,headers:(t={Authorization:"Bearer "+this.token},t[l.default.DIGEST_KEY]=d.default.digest(s,i.default.getInstance().getHashKey()),t["Content-type"]="application/json",t.origin=n,t)}).then((function(t){404===t.status?o.default.getInstance().add("Error sending the event "+e.getName()+" "+JSON.stringify(e.toJson(),null,2)+" via fallback url. Response code: "+t.status,r.default.WARNING):o.default.getInstance().add("Event "+e.getName()+" "+JSON.stringify(e.toJson(),null,2)+" sent to fallback url",r.default.INFO)})).catch((function(t){o.default.getInstance().add("Error sending the event "+e.getName()+" "+JSON.stringify(e.toJson(),null,2)+' via fallback url. Error says "'+t+'"',r.default.WARNING)}))}return this},S.prototype.RecordEvent=function(e,t){var n=this;return!this.trackingStopped()&&d.default.isClient()&&this.onSettingsLoaded.then((function(){return n.sendEvent(e,t)})),this},S.prototype.StartCheckpoint=function(e){if(!this.trackingStopped()){var t=_.default.Start(e);t&&S.getInstance().RecordEvent(t)}return this},S.prototype.EndCheckpoint=function(e){if(!this.trackingStopped()){var t=_.default.End(e);t&&S.getInstance().RecordEvent(t)}return this},S.prototype.appBackground=function(){var e=a.default.getInstance().get("background_tracking_enabled",!0);if(!this.trackingStopped()&&e){_.default.StartDowntime();var t=new v.default;S.getInstance().RecordEvent(t)}},S.prototype.appForeground=function(){var e=a.default.getInstance().get("background_tracking_enabled",!0);if(!this.trackingStopped()&&e){_.default.EndDowntime();var t=new y.default;S.getInstance().RecordEvent(t)}},S.prototype.sendEvent=function(e,t){var n=this;if(!this.trackingStopped()){var c=e instanceof u.default?e:new u.default(e,t||{});if(this.token&&c.SetAppToken(this.token),this.env&&c.SetEnv(this.env),this.game_ver&&c.SetGameVersion(this.game_ver),this.player_id&&c.SetPlayerId(this.player_id),this.current_level&&c.SetPlayerLevel(this.current_level),this.player_xp&&c.SetPlayerXp(this.player_xp),this.s_sessionid&&c.SetServerSessionId(this.s_sessionid),1===a.default.getInstance().get("is_sdk_enabled"))try{this.postEvent(c).catch((function(e){o.default.getInstance().add("Event "+c.getName()+' submission failed. Error says "'+e+'"',r.default.WARNING);var t=new s.default((function(e){o.default.getInstance().add("Implementing event submission retries. Retrie number: "+e,r.default.DEBUG),n.postEvent(c).then((function(){t.stop()})).catch((function(t){o.default.getInstance().add("Event resubmission failed on retrie number: "+e+". Server says "+t,r.default.WARNING)}))}),{repeating_time:1e3*a.default.getInstance().get("retries_sleep_sec"),iterations:a.default.getInstance().get("retries_no")});return t.start(),n}))}catch(e){o.default.getInstance().add("Event submission failed. Error says "+e,r.default.WARNING)}else null===a.default.getInstance().get("is_sdk_enabled")&&(i.default.getInstance().getAnalyticsURL()&&this.postEventFallback(c),d.default.isClient()||!1===a.default.getInstance().hasResults()&&this.initSettings())}return this},S.prototype.GetRemoteConfig=function(e,a,c){var u=this;if(null===i.default.getInstance().getApiURL()||void 0===i.default.getInstance().getApiURL()||""===i.default.getInstance().getApiURL())return o.default.getInstance().add("ApiURL is not set. Add ApiURL to RemoteSettings and Re-initialize SDK",r.default.WARNING),c("ApiURL is not set. Add ApiURL to RemoteSettings and Re-initialize SDK");var l=this.loadRemoteConfig(null);if(this.remoteConfig.loaded&&null!==l)a(l);else{var d=i.default.getInstance().getApiURL()+"/remoteConfig/player?api_key="+this.token+"&player_id="+e;try{this.fetchRemoteConfig(d).then((function(e){return t(u,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return 404===e.status&&o.default.getInstance().add("Fetching "+d+" Failed With Status 404",r.default.WARNING),[4,e.json()];case 1:return t=n.sent(),o.default.getInstance().add("Config Server responded: "+JSON.stringify(t,null,2),r.default.DEBUG),[2,null!==(l=this.loadRemoteConfig(t))?a(l):c("Fetching Remote Config From "+d+" Failed With Status 404")]}}))}))})).catch((function(e){o.default.getInstance().add('Fetching Remote Config Failed. Error says "'+e+'"',r.default.WARNING);var i=new s.default((function(e){o.default.getInstance().add("Fetching Remote Config retries. Retry number: "+e,r.default.DEBUG),u.fetchRemoteConfig(d).then((function(e){return t(u,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:return 404===e.status&&o.default.getInstance().add("Fetching "+d+" Failed With Status 404",r.default.WARNING),[4,e.json()];case 1:return t=n.sent(),o.default.getInstance().add("Config Server responded: "+JSON.stringify(t,null,2),r.default.DEBUG),l=this.loadRemoteConfig(t),i.stop(),[2]}}))}))})).catch((function(t){o.default.getInstance().add("Fetching Remote Config Failed on retry number: "+e+". Server says "+t,r.default.WARNING)}))}),{repeating_time:100,iterations:3});i.start(),i.onEnd=function(){null!==l?a(l):c("Fetching Remote Config Failed")}}))}catch(e){var f="Fetching Remote Config Failed. Error says "+e;o.default.getInstance().add(f,r.default.WARNING),c(f)}}},S.prototype.loadRemoteConfig=function(e){var t=this.remoteConfig.GetRemoteConfig(e);return null!==t&&t.metadataExperiments&&this.SetCustomHeaderParam("metadata_experiments",t.metadataExperiments),t},S.prototype.fetchRemoteConfig=function(e){return fetch(e,{method:"GET",headers:{origin:"*"}})},S.DEFAULT_CONFIG={AppToken:"",Environment:"",HashKey:"",HasIdentityConsent:!0,Logger:{level:r.default.DEBUG},AnalyticsURL:"/events",ServerURL:"",ApiURL:"",GameVersion:"",ShowLogs:!0,Domain:""},S}();return Gr.default=S,Gr}function yi(){if(mi)return Pr;mi=1,Object.defineProperty(Pr,"__esModule",{value:!0});var e=Tr,t=pr,n=vi(),r=yr(),i=vr(),o=or,s=lr(),a=function(){function e(e,t){this._name=e,this._id=s.default.uuidv4(),this._timestamp=performance.now(),this._ignoreDowntime=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.createStartEventBody=function(){return{name:this._name,id:this._id}},e.prototype.createEndEventBody=function(){return{name:this._name,id:this._id,total_milliseconds:Math.round(100*this.calculateElapsedTime())/100}},e.prototype.subtractDowntime=function(e){this._ignoreDowntime&&(this._timestamp+=e)},e.prototype.calculateElapsedTime=function(){return performance.now()-this._timestamp},e}(),c=function(){function c(){if(this instanceof c)throw new Error("A Checkpoint class cannot be instantiated.")}return c.Start=function(e,t){if(void 0===t&&(t=!0),this._findCheckpointIndex(e)>-1)return i.default.getInstance().add('Checkpoints names are unique, you have to end the "'+e+'" checkpoint before starting a new one with the same name.',o.default.WARNING),null;var n=new a(e,t);return this._checkpoints.push(n),new r.default("checkpointStarted",n.createStartEventBody())},c.End=function(e){var t=this._findCheckpointIndex(e);if(-1===t)return i.default.getInstance().add('WARNING: No checkpoint found with the name "'+e+'".',o.default.WARNING),null;var n=this._checkpoints[t];this._checkpoints.splice(t,1);var s=this._calculateDowntime();return s&&n.subtractDowntime(s),new r.default("checkpointEnded",n.createEndEventBody())},c.StartDowntime=function(){this._lastActivityTimestamp=performance.now()},c.EndDowntime=function(){var r=this._calculateDowntime();if(r){var i=e.default.getInstance().get("session_lifetime_sec",900);if(0!=i&&r>i){s.default.refreshClientSessionId(i);var o=Math.round(r/1e3*100)/100,a=new t.default({total_seconds:o});n.default.getInstance().RecordEvent("appResumed",a)}this._lastActivityTimestamp=null,this._checkpoints.forEach((function(e){e.subtractDowntime(r)}))}},c.EndViewedScreen=function(){var e=this._findCheckpointIndex("dive_screen_track");if(-1===e)return 0;var t=0,n=new a("dive_screen_track",!0);return e>-1?(t=Math.round(100*this._checkpoints[e].calculateElapsedTime())/100,this._checkpoints[e]=n):this._checkpoints.push(n),t},c.Reset=function(){this._checkpoints=[],this._lastActivityTimestamp=null},c._findCheckpointIndex=function(e){return this._checkpoints.findIndex((function(t){return t.name===e}))},c._calculateDowntime=function(){return this._lastActivityTimestamp?performance.now()-this._lastActivityTimestamp:0},c._lastActivityTimestamp=null,c._checkpoints=[],c}();return Pr.default=c,Pr}function bi(){if(gi)return Dr;gi=1;var e=Qn&&Qn.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Dr,"__esModule",{value:!0});var t=yi(),n=yr(),r=lr(),i=function(n){function i(){return n.call(this,"screenViewed",{viewed:"",viewed_before:r.default.getCookie(r.default.VIEWED_BEFORE_KEY)?r.default.getCookie(r.default.VIEWED_BEFORE_KEY):"",screen_before_milliseconds:t.default.EndViewedScreen()?t.default.EndViewedScreen():""})||this}return e(i,n),i.prototype.GetViewed=function(){return this.getEventBody().getJson().viewed},i.prototype.GetViewedBefore=function(){return this.getEventBody().getJson().viewed_before},i.prototype.SetViewed=function(e,t){return this.getEventBody().getJson().viewed=e,r.default.setCookie(r.default.VIEWED_BEFORE_KEY,e,t),this},i.prototype._isPrefab=function(){return!0},i}(n.default);return Dr.default=i,Dr}pi.default=_i,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=er;Object.defineProperty(e,"AppLaunched",{enumerable:!0,get:function(){return t.default}});var n=Or;Object.defineProperty(e,"ErrorCreated",{enumerable:!0,get:function(){return n.default}});var r=bi();Object.defineProperty(e,"ScreenViewed",{enumerable:!0,get:function(){return r.default}});var i=Tr;Object.defineProperty(e,"Settings",{enumerable:!0,get:function(){return i.default}});var o=vi();Object.defineProperty(e,"DiveSDK",{enumerable:!0,get:function(){return o.default}});var s=yr();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return s.default}});var a=pr;Object.defineProperty(e,"EventBody",{enumerable:!0,get:function(){return a.default}});var c=or;Object.defineProperty(e,"LogLevels",{enumerable:!0,get:function(){return c.default}});var u=pi;Object.defineProperty(e,"AppState",{enumerable:!0,get:function(){return u.default}});var l=dr;Object.defineProperty(e,"Globals",{enumerable:!0,get:function(){return l.default}})}(Zn);const wi=e=>{const t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length&&t.pop().split(";").shift()||null};const Si=()=>{let e=window.RID||wi("rid");if(e)return e;{let e=0;"function"==typeof crypto.randomUUID?e=crypto.randomUUID():"function"==typeof crypto.randomBytes&&(e=crypto.randomBytes(20).toString("hex"));const t=(new Date).getTime()+36e6;let n=new Date;return n.setTime(t),document.cookie=`rid=${e};expires=${n.toUTCString()};domain=${function(){let e=document.domain.split(".");return e.length>2?e.slice(1,e.length).join("."):document.domain}()};path=/;SameSite=None;Secure;`,e}},Ei=()=>{const e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries())["Platform.APIEndpoint"];return!t||"https://api.hiberworld.com"===t};function xi(){const e=window.USER_ID||wi("userId"),t=Si();Zn.DiveSDK.getInstance().SetPlayerId(e||t||"unknown")}function ki(e,t){Zn.DiveSDK.getInstance()?Zn.DiveSDK.getInstance().RecordEvent(e,t):console.warn("Dive not initialized")}const Ci=e=>{var t=document.body.querySelector("#overlay_container"),n=document.body.querySelector("#overlay_iframe");return n.remove(),n.src=e,t.append(n),null},Ii=()=>(document.body.querySelector("#overlay_container").style.display="initial",document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock(),null),Oi=()=>(document.body.querySelector("#overlay_container").style.display="none",Ci("about:blank"),null),Ai=()=>(Oi(),("pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document)&&(canvas.requestPointerLock=canvas.requestPointerLock||canvas.mozRequestPointerLock||canvas.webkitRequestPointerLock,"function"==typeof canvas.requestPointerLock&&canvas.requestPointerLock()),null),Ri=()=>"none"!=document.body.querySelector("#overlay_container").style.display,Di='\n    <div id="overlay_container" style="display: none">\n      <iframe\n        title="Hiberworld - overlay"\n        id="overlay_iframe"\n        style="\n          padding: 8px;\n          width: 82%;\n          height: 82%;\n          position: fixed;\n          left: 9%;\n          top: 9%;\n          z-index: 10000;\n          background-color: #292a31;\n          border-style: solid;\n          border-color: #292a31;\n          border-radius: 8px;\n        ">\n      </iframe>\n\n      <button\n        id="overlay_close_button"\n        style="\n          padding: 8px;\n          border: none;\n          background-color: #292a31;\n          border-radius: 50%;\n          width: 40px;\n          height: 40px;\n          position: fixed;\n          left: 91%;\n          top: 7.2%;\n          z-index: 10001;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n        ">\n        <svg\n          width="24"\n          height="24"\n          viewBox="0 0 24 24"\n          fill="white"\n          xmlns="http://www.w3.org/2000/svg"\n          style="flex-shrink: 0">\n          <path\n            fill-rule="evenodd"\n            clip-rule="evenodd"\n            d="M15.9504 17.5058C16.3767 17.9321 17.0679 17.9321 17.4942 17.5058C17.9205 17.0794 17.9205 16.3882 17.4942 15.9619L13.544 12L17.5059 8.0498C17.9323 7.62348 17.9323 6.93226 17.5059 6.50594C17.0796 6.07961 16.3884 6.07961 15.9621 6.50594L12.0002 10.4561L8.04979 6.49408C7.62346 6.06775 6.93225 6.06775 6.50592 6.49408C6.07959 6.92041 6.07959 7.61162 6.50592 8.03795L10.4563 12L6.49423 15.9504C6.06791 16.3767 6.06791 17.0679 6.49423 17.4942C6.92056 17.9206 7.61177 17.9206 8.0381 17.4942L12.0002 13.5439L15.9504 17.5058Z"\n            fill="white" />\n        </svg>\n      </button>\n\n      <button\n        id="overlay_close_background"\n        style="\n          top: 0%;\n          width: 100%;\n          height: 100%;\n          position: fixed;\n          background-color: #292a31;\n          opacity: 50%;\n          cursor: pointer;\n          z-index: 9999;\n        "></button>\n    </div>';var Pi,Ti=(Pi="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e={}){var t,n,r=void 0!==e?e:{};r.ready=new Promise((function(e,r){t=e,n=r}));var i=Object.assign({},r),o=[],s="./this.program",a=(e,t)=>{throw t},c="";"undefined"!=typeof document&&document.currentScript&&(c=document.currentScript.src),Pi&&(c=Pi),c=0!==c.indexOf("blob:")?c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var u,l=r.print||console.log.bind(console),d=r.printErr||console.warn.bind(console);Object.assign(r,i),i=null,r.arguments&&(o=r.arguments),r.thisProgram&&(s=r.thisProgram),r.quit&&(a=r.quit),r.wasmBinary&&(u=r.wasmBinary);var f,p=r.noExitRuntime||!0;"object"!=typeof WebAssembly&&V("no native wasm support detected");var h,m,g,_,v,y,b,w,S,E,x=!1,k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&k)return k.decode(e.subarray(t,i));for(var o="";t<i;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var c=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|c:(7&s)<<18|a<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var u=s-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o}function I(e,t){return e?C(g,e,t):""}function O(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++s)),a<=127){if(n>=o)break;t[n++]=a}else if(a<=2047){if(n+1>=o)break;t[n++]=192|a>>6,t[n++]=128|63&a}else if(a<=65535){if(n+2>=o)break;t[n++]=224|a>>12,t[n++]=128|a>>6&63,t[n++]=128|63&a}else{if(n+3>=o)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63,t[n++]=128|a>>6&63,t[n++]=128|63&a}}return t[n]=0,n-i}function A(e,t,n){return O(e,g,t,n)}function R(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function D(){var e=f.buffer;r.HEAP8=m=new Int8Array(e),r.HEAP16=_=new Int16Array(e),r.HEAP32=y=new Int32Array(e),r.HEAPU8=g=new Uint8Array(e),r.HEAPU16=v=new Uint16Array(e),r.HEAPU32=b=new Uint32Array(e),r.HEAPF32=w=new Float32Array(e),r.HEAPF64=S=new Float64Array(e)}var P,T,B,L,N=[],M=[],F=[],j=[],U=0,G=null;function W(e){U++,r.monitorRunDependencies&&r.monitorRunDependencies(U)}function q(e){if(U--,r.monitorRunDependencies&&r.monitorRunDependencies(U),0==U&&G){var t=G;G=null,t()}}function V(e){r.onAbort&&r.onAbort(e),d(e="Aborted("+e+")"),x=!0,h=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}function H(e){return e.startsWith("data:application/octet-stream;base64,")}function z(e){try{if(e==P&&u)return new Uint8Array(u);throw"both async and sync fetching of the wasm failed"}catch(e){V(e)}}H(P="Hiberworld.wasm")||(T=P,P=r.locateFile?r.locateFile(T,c):c+T);var Y={2122200:e=>{r&&r.onExit&&r.onExit(e)},2122262:(e,t,n,r,i)=>{const o=st(e),s=st(t),a=st(n),c=r,u=i;window.HiberWebview||("creations"===a?location.href=`${o}/${a}`:"0"!==s&&c?u?location.replace(`${o}/${a}/${s}`):location.href=`${o}/${a}/${s}`:location.href=`${o}`)},2122904:()=>{window.addEventListener("blur",K,!1),window.addEventListener("focus",$,!1)},2123022:()=>{window.removeEventListener("blur",K),window.removeEventListener("focus",$)},2123132:()=>{const e=document.getElementById("hiber-watermark-button");e&&(e.onclick=function(e){r.ccall("handleOnClicked","void",[],[])})},2123343:()=>{r.onReady&&r.onReady()},2123395:e=>{r.onShowLoadingScreen&&r.onShowLoadingScreen(e)},2123473:e=>{const t=I(e);document.title=t+" - HiberWorld"},2123561:()=>{document.title="HiberWorld"},2123596:(e,t)=>{const n=st(e),i=st(t);window.HiberWebview?window.HiberWebview.onEvent(n,i):r.onMessage&&r.onMessage({action:n,value:i})},2123838:()=>void 0===(window.AudioContext||window.webkitAudioContext)?0:(void 0===window.miniaudio&&(window.miniaudio={},miniaudio.devices=[],miniaudio.track_device=function(e){for(var t=0;t<miniaudio.devices.length;++t)if(null==miniaudio.devices[t])return miniaudio.devices[t]=e,t;return miniaudio.devices.push(e),miniaudio.devices.length-1},miniaudio.untrack_device_by_index=function(e){for(miniaudio.devices[e]=null;miniaudio.devices.length>0&&null==miniaudio.devices[miniaudio.devices.length-1];)miniaudio.devices.pop()},miniaudio.untrack_device=function(e){for(var t=0;t<miniaudio.devices.length;++t)if(miniaudio.devices[t]==e)return miniaudio.untrack_device_by_index(t)},miniaudio.get_device_by_index=function(e){return miniaudio.devices[e]},miniaudio.unlock_event_types=["touchstart","touchend","click"],miniaudio.unlock=function(){for(var e=0;e<miniaudio.devices.length;++e){var t=miniaudio.devices[e];null!=t&&null!=t.webaudio&&2===t.state&&t.webaudio.resume()}miniaudio.unlock_event_types.map((function(e){document.removeEventListener(e,miniaudio.unlock,!0)}))},miniaudio.unlock_event_types.map((function(e){document.addEventListener(e,miniaudio.unlock,!0)}))),1),2125450:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia,2125554:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch(e){return 0}},2125725:(e,t,n,i,o)=>{var s=e,a=t,c=n,u=i,l=o;if(void 0===window.miniaudio)return-1;var d={};return d.webaudio=new(window.AudioContext||window.webkitAudioContext)({sampleRate:a}),d.webaudio.suspend(),d.state=1,d.intermediaryBufferSizeInBytes=s*c*4,d.intermediaryBuffer=r._malloc(d.intermediaryBufferSizeInBytes),d.intermediaryBufferView=new Float32Array(r.HEAPF32.buffer,d.intermediaryBuffer,d.intermediaryBufferSizeInBytes),d.scriptNode=d.webaudio.createScriptProcessor(c,u?s:0,u?0:s),u?(d.scriptNode.onaudioprocess=function(e){if(void 0!==d.intermediaryBuffer){0==d.intermediaryBufferView.length&&(d.intermediaryBufferView=new Float32Array(r.HEAPF32.buffer,d.intermediaryBuffer,d.intermediaryBufferSizeInBytes));for(var t=0;t<e.outputBuffer.numberOfChannels;++t)e.outputBuffer.getChannelData(t).fill(0);var n=!1;void 0===d.streamNode&&(n=!0),e.inputBuffer.numberOfChannels!=s&&(console.log("Capture: Channel count mismatch. "+e.inputBufer.numberOfChannels+" != "+s+". Sending silence."),n=!0);for(var i=0;i<e.inputBuffer.length;){var o=e.inputBuffer.length-i;if(o>d.intermediaryBufferSizeInBytes/s/4&&(o=d.intermediaryBufferSizeInBytes/s/4),n)d.intermediaryBufferView.fill(0);else for(var a=0;a<o;++a)for(t=0;t<e.inputBuffer.numberOfChannels;++t)d.intermediaryBufferView[a*s+t]=e.inputBuffer.getChannelData(t)[i+a];ot("ma_device_process_pcm_frames_capture__webaudio","undefined",["number","number","number"],[l,o,d.intermediaryBuffer]),i+=o}}},navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){d.streamNode=d.webaudio.createMediaStreamSource(e),d.streamNode.connect(d.scriptNode),d.scriptNode.connect(d.webaudio.destination)})).catch((function(e){d.scriptNode.connect(d.webaudio.destination)}))):(d.scriptNode.onaudioprocess=function(e){if(void 0!==d.intermediaryBuffer){0==d.intermediaryBufferView.length&&(d.intermediaryBufferView=new Float32Array(r.HEAPF32.buffer,d.intermediaryBuffer,d.intermediaryBufferSizeInBytes));var t=!1;if(e.outputBuffer.numberOfChannels!=s)return console.log("Playback: Channel count mismatch. "+e.outputBufer.numberOfChannels+" != "+s+". Outputting silence."),void(t=!0);for(var n=0;n<e.outputBuffer.length;){var i=e.outputBuffer.length-n;if(i>d.intermediaryBufferSizeInBytes/s/4&&(i=d.intermediaryBufferSizeInBytes/s/4),ot("ma_device_process_pcm_frames_playback__webaudio","undefined",["number","number","number"],[l,i,d.intermediaryBuffer]),t)for(var o=0;o<e.outputBuffer.numberOfChannels;++o)e.outputBuffer.getChannelData(o).fill(0);else for(o=0;o<e.outputBuffer.numberOfChannels;++o)for(var a=e.outputBuffer.getChannelData(o),c=d.intermediaryBufferView,u=0;u<i;++u)a[n+u]=c[u*s+o];n+=i}}},d.scriptNode.connect(d.webaudio.destination)),miniaudio.track_device(d)},2130125:e=>miniaudio.get_device_by_index(e).webaudio.sampleRate,2130191:e=>{var t=miniaudio.get_device_by_index(e);void 0!==t.scriptNode&&(t.scriptNode.onaudioprocess=function(e){},t.scriptNode.disconnect(),t.scriptNode=void 0),void 0!==t.streamNode&&(t.streamNode.disconnect(),t.streamNode=void 0),t.webaudio.close(),t.webaudio=void 0,void 0!==t.intermediaryBuffer&&(r._free(t.intermediaryBuffer),t.intermediaryBuffer=void 0,t.intermediaryBufferView=void 0,t.intermediaryBufferSizeInBytes=void 0),miniaudio.untrack_device_by_index(e)},2130817:e=>{var t=miniaudio.get_device_by_index(e);t.webaudio.resume(),t.state=2},2130913:e=>{var t=miniaudio.get_device_by_index(e);t.webaudio.resume(),t.state=2},2131009:e=>{var t=miniaudio.get_device_by_index(e);t.webaudio.suspend(),t.state=1},2131106:e=>{var t=miniaudio.get_device_by_index(e);t.webaudio.suspend(),t.state=1},2131203:e=>{const t=st(e);var n=document.createElement("form"),i=document.createElement("input");i.classList.add("CrossPlatformTextboxInput"),n.append(i),n.autocomplete="off",i.type="text",i.id="CrossPlatformTextBox"+t,i.style.position="fixed",i.style.visibility="hidden",document.body.append(n),n.onsubmit=function(e){r.ccall("handleOnSubmitCb","void",["string","string"],[t,i.value]),i.value=String(),i.blur(),e.preventDefault()},i.onfocus=function(e){r.ccall("handleOnFocusCb","void",["string"],[t])},i.onblur=function(e){r.ccall("handleOnBlurCb","void",["string"],[t])},i.oninput=function(e){r.ccall("handleOnInputCb","void",["string","string"],[t,i.value])}},2132261:(e,t,n,r,i,o)=>{const s=st(e);var a=document.getElementById("CrossPlatformTextBox"+s);document.activeElement!=a&&(a.style.left=t.toString()+"px",a.style.top=n.toString()+"px",a.style.width=r.toString()+"px",a.style.height=i.toString()+"px"),a.style.visibility=o?"visible":"hidden"},2132656:e=>{var t="CrossPlatformTextBox"+st(e);document.getElementById(t)&&document.getElementById(t).parentNode.remove()},2132916:e=>{const t=st(e);document.getElementById("CrossPlatformTextBox"+t).focus()},2133034:e=>{const t=st(e);document.getElementById("CrossPlatformTextBox"+t).blur()},2133151:()=>{window.document.addEventListener("keydown",(e=>{"k"!==e.key&&"K"!==e.key||ot("FullscreenPressedWeb","void",[],[])}))},2133303:e=>{const t=st(e);document.getElementById("CrossPlatformTextBox"+t).value=String()},2133453:()=>{window.document.addEventListener("keydown",(e=>{"o"!==e.key&&"O"!==e.key||ot("OpenInNewTabPressedWeb","void",[],[])}))}};function K(){r.ccall("handleOnWindowFocusCb","void",["bool"],[!1])}function $(){r.ccall("handleOnWindowFocusCb","void",["bool"],[!0])}function J(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function X(e){for(;e.length>0;)e.shift()(r)}function Q(e){return e%4==0&&(e%100!=0||e%400==0)}var Z=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334];function te(e){var t=R(e)+1,n=pt(t);return n&&O(e,m,n,t),n}var ne=[];function re(e,t,n){var r=function(e,t){var n;for(ne.length=0,t>>=2;n=g[e++];)t+=105!=n&t,ne.push(105==n?y[t]:S[t++>>1]),++t;return ne}(t,n);return Y[e].apply(null,r)}function ie(e){var t=St(),n=e();return Et(t),n}var oe,se={inEventHandler:0,removeAllEventListeners:function(){for(var e=se.eventHandlers.length-1;e>=0;--e)se._removeHandler(e);se.eventHandlers=[],se.deferredCalls=[]},registerRemoveEventListeners:function(){se.removeEventListenersRegistered||(se.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,n){function r(e,t){if(e.length!=t.length)return!1;for(var n in e)if(e[n]!=t[n])return!1;return!0}for(var i in se.deferredCalls){var o=se.deferredCalls[i];if(o.targetFunction==e&&r(o.argsList,n))return}se.deferredCalls.push({targetFunction:e,precedence:t,argsList:n}),se.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<se.deferredCalls.length;++t)se.deferredCalls[t].targetFunction==e&&(se.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return se.inEventHandler&&se.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(se.canPerformEventHandlerRequests())for(var e=0;e<se.deferredCalls.length;++e){var t=se.deferredCalls[e];se.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var n=0;n<se.eventHandlers.length;++n)se.eventHandlers[n].target!=e||t&&t!=se.eventHandlers[n].eventTypeString||se._removeHandler(n--)},_removeHandler:function(e){var t=se.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),se.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++se.inEventHandler,se.currentEventHandler=e,se.runDeferredCalls(),e.handlerFunc(t),se.runDeferredCalls(),--se.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),se.eventHandlers.push(e),se.registerRemoveEventListeners();else for(var n=0;n<se.eventHandlers.length;++n)se.eventHandlers[n].target==e.target&&se.eventHandlers[n].eventTypeString==e.eventTypeString&&se._removeHandler(n--)},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},ae=[0,document,window];function ce(e){var t;return e=(t=e)>2?I(t):t,ae[e]||document.querySelector(e)}function ue(e){return ae.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0}}oe=()=>performance.now();var le=[];function de(e){var t=le[e];return t||(e>=le.length&&(le.length=e+1),le[e]=t=E.get(e)),t}function fe(e){var t=f.buffer;try{return f.grow(e-t.byteLength+65535>>>16),D(),1}catch(e){}}function pe(e,t,n,r,i,o,s){se.focusEvent||(se.focusEvent=pt(256));var a={target:ce(e),eventTypeString:o,callbackfunc:r,handlerFunc:function(e=event){var n=se.getNodeNameForTarget(e.target),o=e.target.id?e.target.id:"",s=se.focusEvent;A(n,s+0,128),A(o,s+128,128),de(r)(i,s,t)&&e.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}function he(e){return ce(e)}function me(e,t,n,r,i,o,s){se.keyEvent||(se.keyEvent=pt(176));var a={target:ce(e),allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:r,handlerFunc:function(e){var n=se.keyEvent;S[n>>3]=e.timeStamp;var o=n>>2;y[o+2]=e.location,y[o+3]=e.ctrlKey,y[o+4]=e.shiftKey,y[o+5]=e.altKey,y[o+6]=e.metaKey,y[o+7]=e.repeat,y[o+8]=e.charCode,y[o+9]=e.keyCode,y[o+10]=e.which,A(e.key||"",n+44,32),A(e.code||"",n+76,32),A(e.char||"",n+108,32),A(e.locale||"",n+140,32),de(r)(i,n,t)&&e.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}function ge(e,t,n){S[e>>3]=t.timeStamp;var r=e>>2;y[r+2]=t.screenX,y[r+3]=t.screenY,y[r+4]=t.clientX,y[r+5]=t.clientY,y[r+6]=t.ctrlKey,y[r+7]=t.shiftKey,y[r+8]=t.altKey,y[r+9]=t.metaKey,_[2*r+20]=t.button,_[2*r+21]=t.buttons,y[r+11]=t.movementX,y[r+12]=t.movementY;var i=ue(n);y[r+13]=t.clientX-i.left,y[r+14]=t.clientY-i.top}function _e(e,t,n,r,i,o,s){se.mouseEvent||(se.mouseEvent=pt(72));var a={target:e=ce(e),allowsDeferredCalls:"mousemove"!=o&&"mouseenter"!=o&&"mouseleave"!=o,eventTypeString:o,callbackfunc:r,handlerFunc:function(n=event){ge(se.mouseEvent,n,e),de(r)(i,se.mouseEvent,t)&&n.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}function ve(e){var t=function(){if(screen)return screen.orientation||screen.mozOrientation||screen.webkitOrientation||screen.msOrientation}(),n=["portrait-primary","portrait-secondary","landscape-primary","landscape-secondary"].indexOf(t);-1==n&&(n=["portrait","portrait","landscape","landscape"].indexOf(t)),y[e>>2]=1<<n,y[e+4>>2]=n}function ye(e,t,n,r,i,o,s){se.pointerlockChangeEvent||(se.pointerlockChangeEvent=pt(260));var a={target:e,eventTypeString:o,callbackfunc:r,handlerFunc:function(e=event){var n=se.pointerlockChangeEvent;!function(e){var t=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,n=!!t;y[e>>2]=n;var r=se.getNodeNameForTarget(t),i=t&&t.id?t.id:"";A(r,e+4,128),A(i,e+132,128)}(n),de(r)(i,n,t)&&e.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}function be(e,t,n,r,i,o,s){var a={target:e,eventTypeString:o,callbackfunc:r,handlerFunc:function(e=event){de(r)(i,0,t)&&e.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}function we(e,t,n,r,i,o,s){se.touchEvent||(se.touchEvent=pt(1696));var a={target:e=ce(e),allowsDeferredCalls:"touchstart"==o||"touchend"==o,eventTypeString:o,callbackfunc:r,handlerFunc:function(n){for(var o,s={},a=n.touches,c=0;c<a.length;++c)(o=a[c]).isChanged=o.onTarget=0,s[o.identifier]=o;for(c=0;c<n.changedTouches.length;++c)(o=n.changedTouches[c]).isChanged=1,s[o.identifier]=o;for(c=0;c<n.targetTouches.length;++c)s[n.targetTouches[c].identifier].onTarget=1;var u=se.touchEvent;S[u>>3]=n.timeStamp;var l=u>>2;y[l+3]=n.ctrlKey,y[l+4]=n.shiftKey,y[l+5]=n.altKey,y[l+6]=n.metaKey,l+=7;var d=ue(e),f=0;for(var c in s)if(o=s[c],y[l+0]=o.identifier,y[l+1]=o.screenX,y[l+2]=o.screenY,y[l+3]=o.clientX,y[l+4]=o.clientY,y[l+5]=o.pageX,y[l+6]=o.pageY,y[l+7]=o.isChanged,y[l+8]=o.onTarget,y[l+9]=o.clientX-d.left,y[l+10]=o.clientY-d.top,l+=13,++f>31)break;y[u+8>>2]=f,de(r)(i,u,t)&&n.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}function Se(e,t,n,r,i,o,s){var a={target:ce(e),eventTypeString:o,callbackfunc:r,handlerFunc:function(e=event){de(r)(i,0,t)&&e.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}var Ee={xhrs:{},setu64:function(e,t){b[e>>2]=t,b[e+4>>2]=t/4294967296|0},openDatabase:function(e,t,n,r){try{var i=indexedDB.open(e,t)}catch(e){return r(e)}i.onupgradeneeded=e=>{var t=e.target.result;t.objectStoreNames.contains("FILES")&&t.deleteObjectStore("FILES"),t.createObjectStore("FILES")},i.onsuccess=e=>n(e.target.result),i.onerror=e=>r(e)},staticInit:function(){W(),Ee.openDatabase("emscripten_filesystem",1,(e=>{Ee.dbInstance=e,q()}),(()=>{Ee.dbInstance=!1,q()}))}};function xe(e,t,n,r,i){var o=b[e+8>>2];if(o){var s=I(o),a=e+112,c=I(a);c||(c="GET"),b[e+4>>2];var u=b[a+52>>2],l=b[a+56>>2],d=!!b[a+60>>2];b[a+64>>2];var f=b[a+68>>2],p=b[a+72>>2],h=b[a+76>>2],m=b[a+80>>2],_=b[a+84>>2],y=b[a+88>>2],w=!!(1&u),S=!!(2&u),E=!!(64&u),x=f?I(f):void 0,k=p?I(p):void 0,C=new XMLHttpRequest;if(C.withCredentials=d,C.open(c,s,!E,x,k),E||(C.timeout=l),C.url_=s,C.responseType="arraybuffer",m){var O=I(m);C.overrideMimeType(O)}if(h)for(;;){var R=b[h>>2];if(!R)break;var D=b[h+4>>2];if(!D)break;h+=8;var P=I(R),T=I(D);C.setRequestHeader(P,T)}var B=b[e+0>>2];Ee.xhrs[B]=C;var L=_&&y?g.slice(_,_+y):null;C.onload=r=>{B in Ee.xhrs&&(N(),C.status>=200&&C.status<300?t&&t(e,C,r):n&&n(e,C,r))},C.onerror=t=>{B in Ee.xhrs&&(N(),n&&n(e,C,t))},C.ontimeout=t=>{B in Ee.xhrs&&n&&n(e,C,t)},C.onprogress=t=>{if(B in Ee.xhrs){var n=w&&S&&C.response?C.response.byteLength:0,i=0;n>0&&w&&S&&(i=pt(n),g.set(new Uint8Array(C.response),i)),b[e+12>>2]=i,Ee.setu64(e+16,n),Ee.setu64(e+24,t.loaded-n),Ee.setu64(e+32,t.total),v[e+40>>1]=C.readyState,C.readyState>=3&&0===C.status&&t.loaded>0&&(C.status=200),v[e+42>>1]=C.status,C.statusText&&A(C.statusText,e+44,64),r&&r(e,C,t),i&&ft(i)}},C.onreadystatechange=t=>{B in Ee.xhrs&&(v[e+40>>1]=C.readyState,C.readyState>=2&&(v[e+42>>1]=C.status),i&&i(e,C,t))};try{C.send(L)}catch(t){n&&n(e,C,t)}}else n(e,0,"no url specified!");function N(){var t=0,n=0;C.response&&w&&0===b[e+12>>2]&&(n=C.response.byteLength),n>0&&(t=pt(n),g.set(new Uint8Array(C.response),t)),b[e+12>>2]=t,Ee.setu64(e+16,n),Ee.setu64(e+24,0);var r=C.response?C.response.byteLength:0;r&&Ee.setu64(e+32,r),v[e+40>>1]=C.readyState,v[e+42>>1]=C.status,C.statusText&&A(C.statusText,e+44,64)}}function ke(e){if(e instanceof J||"unwind"==e)return h;a(1,e)}function Ce(e,t,n,r,i){if(e){var o=b[t+112+64>>2];o||(o=b[t+8>>2]);var s=I(o);try{var a=e.transaction(["FILES"],"readwrite").objectStore("FILES").put(n,s);a.onsuccess=e=>{v[t+40>>1]=4,v[t+42>>1]=200,A("OK",t+44,64),r(t,0,s)},a.onerror=e=>{v[t+40>>1]=4,v[t+42>>1]=413,A("Payload Too Large",t+44,64),i(t,0,e)}}catch(e){i(t,0,e)}}else i(t,0,"IndexedDB not available!")}function Ie(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)return e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,i){t.drawArraysInstancedANGLE(e,n,r,i)},e.drawElementsInstanced=function(e,n,r,i,o){t.drawElementsInstancedANGLE(e,n,r,i,o)},1}function Oe(e){var t=e.getExtension("OES_vertex_array_object");if(t)return e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)},1}function Ae(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)return e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)},1}function Re(e){return!!(e.dibvbi=e.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"))}function De(e){return!!(e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"))}function Pe(e){return!!(e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw"))}var Te={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(e){Te.lastError||(Te.lastError=e)},getNewId:function(e){for(var t=Te.counter++,n=e.length;n<t;n++)e[n]=null;return t},getSource:function(e,t,n,r){for(var i="",o=0;o<t;++o){var s=r?y[r+4*o>>2]:-1;i+=I(y[n+4*o>>2],s<0?void 0:s)}return i},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,n){var r=e.getContextSafariWebGL2Fixed(t,n);return"webgl"==t==r instanceof WebGLRenderingContext?r:null});var n=t.majorVersion>1?e.getContext("webgl2",t):e.getContext("webgl",t);return n?Te.registerContext(n,t):0},registerContext:function(e,t){var n=Te.getNewId(Te.contexts),r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),Te.contexts[n]=r,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Te.initExtensions(r),n},makeContextCurrent:function(e){return Te.currentContext=Te.contexts[e],r.ctx=Je=Te.currentContext&&Te.currentContext.GLctx,!(e&&!Je)},getContext:function(e){return Te.contexts[e]},deleteContext:function(e){Te.currentContext===Te.contexts[e]&&(Te.currentContext=null),"object"==typeof se&&se.removeAllHandlersOnTarget(Te.contexts[e].GLctx.canvas),Te.contexts[e]&&Te.contexts[e].GLctx.canvas&&(Te.contexts[e].GLctx.canvas.GLctxObject=void 0),Te.contexts[e]=null},initExtensions:function(e){if(e||(e=Te.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;Ie(t),Oe(t),Ae(t),Re(t),De(t),e.version>=2&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!t.disjointTimerQueryExt)&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query")),Pe(t),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}},Be=["default","low-power","high-performance"],Le=function(e,t){var n=t>>2,r=y[n+6],i={alpha:!!y[n+0],depth:!!y[n+1],stencil:!!y[n+2],antialias:!!y[n+3],premultipliedAlpha:!!y[n+4],preserveDrawingBuffer:!!y[n+5],powerPreference:Be[r],failIfMajorPerformanceCaveat:!!y[n+7],majorVersion:y[n+8],minorVersion:y[n+9],enableExtensionsByDefault:y[n+10],explicitSwapControl:y[n+11],proxyContextToMainThread:y[n+12],renderViaOffscreenBackBuffer:y[n+13]},o=he(e);return o?i.explicitSwapControl?0:Te.createContext(o,i):0},Ne={sockets:[null],socketEvent:null};function Me(e){var t=Ne.sockets[e];return t?(t.onopen=t.onerror=t.onclose=t.onmessage=null,delete Ne.sockets[e],0):-3}var Fe={};function je(){if(!je.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"};for(var t in Fe)void 0===Fe[t]?delete e[t]:e[t]=Fe[t];var n=[];for(var t in e)n.push(t+"="+e[t]);je.strings=n}return je.strings}var Ue=[null,[],[]],Ge=[];function We(e,t,n,r){for(var i=0;i<e;i++){var o=Je[n](),s=o&&Te.getNewId(r);o?(o.name=s,r[s]=o):Te.recordError(1282),y[t+4*i>>2]=s}}function qe(e,t,n){if(t){var r,i,o=void 0;switch(e){case 36346:o=1;break;case 36344:return void(0!=n&&1!=n&&Te.recordError(1280));case 34814:case 36345:o=0;break;case 34466:var s=Je.getParameter(34467);o=s?s.length:0;break;case 33309:if(Te.currentContext.version<2)return void Te.recordError(1282);o=2*(Je.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(Te.currentContext.version<2)return void Te.recordError(1280);o=33307==e?3:0}if(void 0===o){var a=Je.getParameter(e);switch(typeof a){case"number":o=a;break;case"boolean":o=a?1:0;break;case"string":return void Te.recordError(1280);case"object":if(null===a)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:o=0;break;default:return void Te.recordError(1280)}else{if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(var c=0;c<a.length;++c)switch(n){case 0:y[t+4*c>>2]=a[c];break;case 2:w[t+4*c>>2]=a[c];break;case 4:m[t+c>>0]=a[c]?1:0}return}try{o=0|a.name}catch(t){return Te.recordError(1280),void d("GL_INVALID_ENUM in glGet"+n+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+t+")")}}break;default:return Te.recordError(1280),void d("GL_INVALID_ENUM in glGet"+n+"v: Native code calling glGet"+n+"v("+e+") and it returns "+a+" of type "+typeof a+"!")}}switch(n){case 1:i=o,b[(r=t)>>2]=i,b[r+4>>2]=(i-b[r>>2])/4294967296;break;case 0:y[t>>2]=o;break;case 2:w[t>>2]=o;break;case 4:m[t>>0]=o?1:0}}else Te.recordError(1281)}function Ve(e){var t=R(e)+1,n=pt(t);return A(e,n,t),n}function He(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")}function ze(e){return 0==(e-=5120)?m:1==e?g:2==e?_:4==e?y:6==e?w:5==e||28922==e||28520==e||30779==e||30782==e?b:v}function Ye(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function Ke(e,t,n,r,i,o){var s=ze(e),a=Ye(s),c=1<<a,u=function(e){return{5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1}(t)*c,l=function(e,t,n,r){var i;return t*(e*n+(i=r)-1&-i)}(n,r,u,Te.unpackAlignment);return s.subarray(i>>a,i+l>>a)}function $e(e){var t=Je.currentProgram;if(t){var n=t.uniformLocsById[e];return"number"==typeof n&&(t.uniformLocsById[e]=n=Je.getUniformLocation(t,t.uniformArrayNamesById[e]+(n>0?"["+n+"]":""))),n}Te.recordError(1282)}var Je,Xe=[],Qe=[],Ze=[31,29,31,30,31,30,31,31,30,31,30,31],et=[31,28,31,30,31,30,31,31,30,31,30,31];function tt(e,t){m.set(e,t)}function nt(e,t,n,r){var i=y[r+40>>2],o={tm_sec:y[r>>2],tm_min:y[r+4>>2],tm_hour:y[r+8>>2],tm_mday:y[r+12>>2],tm_mon:y[r+16>>2],tm_year:y[r+20>>2],tm_wday:y[r+24>>2],tm_yday:y[r+28>>2],tm_isdst:y[r+32>>2],tm_gmtoff:y[r+36>>2],tm_zone:i?I(i):""},s=I(n),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in a)s=s.replace(new RegExp(c,"g"),a[c]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function f(e,t){return d(e,t,"0")}function p(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function h(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=function(e,t){for(var n=new Date(e.getTime());t>0;){var r=Q(n.getFullYear()),i=n.getMonth(),o=(r?Ze:et)[i];if(!(t>o-n.getDate()))return n.setDate(n.getDate()+t),n;t-=o-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=h(n),o=h(r);return p(i,t)<=0?p(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var g={"%a":function(e){return u[e.tm_wday].substring(0,3)},"%A":function(e){return u[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return d(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+function(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}(Q(e.tm_year+1900)?Ze:et,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return f(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var n=(e.tm_wday+371-e.tm_yday)%7;4==n||3==n&&Q(e.tm_year)||(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(4==r||5==r&&Q(e.tm_year%400-1))&&t++}return f(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return f(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var c in s=s.replace(/%%/g,"\0\0"),g)s.includes(c)&&(s=s.replace(new RegExp(c,"g"),g[c](o)));s=s.replace(/\0\0/g,"%");var _,v,b,w,S,E,x=(_=s,v=!1,w=b>0?b:R(_)+1,S=new Array(w),E=O(_,S,0,S.length),v&&(S.length=E),S);return x.length>t?0:(tt(x,e),x.length-1)}function rt(e){h=e,p||(r.onExit&&r.onExit(e),x=!0),a(e,new J(e))}function it(e){var t=R(e)+1,n=xt(t);return O(e,m,n,t),n}function ot(e,t,n,i,o){var s={string:e=>{var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);A(e,t=xt(n),n)}return t},array:e=>{var t=xt(e.length);return tt(e,t),t}},a=function(e){return r["_"+e]}(e),c=[],u=0;if(i)for(var l=0;l<i.length;l++){var d=s[n[l]];d?(0===u&&(u=St()),c[l]=d(i[l])):c[l]=i[l]}var f=a.apply(null,c);return f=function(e){return 0!==u&&Et(u),function(e){return"string"===t?I(e):"boolean"===t?Boolean(e):e}(e)}(f)}function st(e){for(var t="";;){var n=g[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}Ee.staticInit();for(var at=0;at<32;++at)Ge.push(new Array(at));var ct=new Float32Array(288);for(at=0;at<288;++at)Xe[at]=ct.subarray(0,at+1);var ut=new Int32Array(288);for(at=0;at<288;++at)Qe[at]=ut.subarray(0,at+1);var lt={__syscall_fcntl64:function(e,t,n){return 0},__syscall_ioctl:function(e,t,n){return 0},__syscall_openat:function(e,t,n,r){},_emscripten_fetch_free:function(e){var t=Ee.xhrs[e];t&&(delete Ee.xhrs[e],t.readyState>0&&t.readyState<4&&t.abort())},_emscripten_get_now_is_monotonic:function(){return!0},_localtime_js:function(e,t){var n,r=new Date(1e3*(b[(n=e)>>2]+4294967296*y[n+4>>2]));y[t>>2]=r.getSeconds(),y[t+4>>2]=r.getMinutes(),y[t+8>>2]=r.getHours(),y[t+12>>2]=r.getDate(),y[t+16>>2]=r.getMonth(),y[t+20>>2]=r.getFullYear()-1900,y[t+24>>2]=r.getDay();var i=0|function(e){return(Q(e.getFullYear())?Z:ee)[e.getMonth()]+e.getDate()-1}(r);y[t+28>>2]=i,y[t+36>>2]=-60*r.getTimezoneOffset();var o=new Date(r.getFullYear(),0,1),s=new Date(r.getFullYear(),6,1).getTimezoneOffset(),a=o.getTimezoneOffset(),c=0|(s!=a&&r.getTimezoneOffset()==Math.min(a,s));y[t+32>>2]=c},_tzset_js:function(e,t,n){var r=(new Date).getFullYear(),i=new Date(r,0,1),o=new Date(r,6,1),s=i.getTimezoneOffset(),a=o.getTimezoneOffset(),c=Math.max(s,a);function u(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}b[e>>2]=60*c,y[t>>2]=Number(s!=a);var l=u(i),d=u(o),f=te(l),p=te(d);a<s?(b[n>>2]=f,b[n+4>>2]=p):(b[n>>2]=p,b[n+4>>2]=f)},abort:function(){V("")},emscriptenGetDeviceInfo:function(e){{var t=document.getElementById(I(e));let i=t.getContext("webgl2");i||(i=t.getContext("webgl"));var n={version:i.getParameter(i.VERSION),renderer:"unknown",vendor:"unknown"},r=i.getExtension("WEBGL_debug_renderer_info");null!=r&&(n.renderer=i.getParameter(r.UNMASKED_RENDERER_WEBGL),n.vendor=i.getParameter(r.UNMASKED_VENDOR_WEBGL)),ot("setDeviceInfoGPU","void",["string"],[n.renderer]),ot("setDeviceInfoGPUVendor","void",["string"],[n.vendor])}ot("setDeviceInfoUserAgent","void",["string"],[navigator.userAgent]),null!=window.safari?ot("setDeviceInfoBrowserFamily","void",["string"],["safari"]):null!=window.chrome?ot("setDeviceInfoBrowserFamily","void",["string"],["chrome"]):null!=window.firefox?ot("setDeviceInfoBrowserFamily","void",["string"],["firefox"]):ot("setDeviceInfoBrowserFamily","void",["string"],["unknown"]),window.navigator.platform.toLowerCase().includes("mac")?ot("setIsMac","void",["int"],["1"]):ot("setIsMac","void",["int"],["0"]),window.navigator.userAgent.toLowerCase().includes("android")?ot("setIsAndroid","void",["int"],["1"]):ot("setIsAndroid","void",["int"],["0"])},emscripten_asm_const_int:function(e,t,n){return re(e,t,n)},emscripten_date_now:function(){return Date.now()},emscripten_debugger:function(){},emscripten_get_device_pixel_ratio:function(){return devicePixelRatio},emscripten_get_element_css_size:function(e,t,n){if(!(e=ce(e)))return-4;var r=ue(e);return S[t>>3]=r.width,S[n>>3]=r.height,0},emscripten_get_now:oe,emscripten_is_main_browser_thread:function(){return!0},emscripten_request_animation_frame_loop:function(e,t){return requestAnimationFrame((function n(r){de(e)(r,t)&&requestAnimationFrame(n)}))},emscripten_resize_heap:function(e){var t,n,r=g.length,i=2147483648;if((e>>>=0)>i)return!1;for(var o=1;o<=4;o*=2){var s=r*(1+.2/o);if(s=Math.min(s,e+100663296),fe(Math.min(i,(t=Math.max(e,s))+((n=65536)-t%n)%n)))return!0}return!1},emscripten_set_blur_callback_on_thread:function(e,t,n,r,i){return pe(e,t,n,r,12,"blur"),0},emscripten_set_canvas_element_size:function(e,t,n){var r=he(e);return r?(r.width=t,r.height=n,0):-4},emscripten_set_focus_callback_on_thread:function(e,t,n,r,i){return pe(e,t,n,r,13,"focus"),0},emscripten_set_keydown_callback_on_thread:function(e,t,n,r,i){return me(e,t,n,r,2,"keydown"),0},emscripten_set_keypress_callback_on_thread:function(e,t,n,r,i){return me(e,t,n,r,1,"keypress"),0},emscripten_set_keyup_callback_on_thread:function(e,t,n,r,i){return me(e,t,n,r,3,"keyup"),0},emscripten_set_mousedown_callback_on_thread:function(e,t,n,r,i){return _e(e,t,n,r,5,"mousedown"),0},emscripten_set_mouseenter_callback_on_thread:function(e,t,n,r,i){return _e(e,t,n,r,33,"mouseenter"),0},emscripten_set_mouseleave_callback_on_thread:function(e,t,n,r,i){return _e(e,t,n,r,34,"mouseleave"),0},emscripten_set_mousemove_callback_on_thread:function(e,t,n,r,i){return _e(e,t,n,r,8,"mousemove"),0},emscripten_set_mouseup_callback_on_thread:function(e,t,n,r,i){return _e(e,t,n,r,6,"mouseup"),0},emscripten_set_orientationchange_callback_on_thread:function(e,t,n,r){return screen&&screen.addEventListener?(function(e,t,n,r,i,o,s){se.orientationChangeEvent||(se.orientationChangeEvent=pt(8)),"orientationchange"==o&&void 0!==screen.mozOrientation&&(o="mozorientationchange");var a={target:e,eventTypeString:o,callbackfunc:r,handlerFunc:function(e=event){var n=se.orientationChangeEvent;ve(n),de(r)(i,n,t)&&e.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}(screen,e,t,n,18,"orientationchange"),0):-1},emscripten_set_pointerlockchange_callback_on_thread:function(e,t,n,r,i){return document&&document.body&&(document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock)?(e=ce(e))?(ye(e,t,n,r,20,"pointerlockchange"),ye(e,t,n,r,20,"mozpointerlockchange"),ye(e,t,n,r,20,"webkitpointerlockchange"),ye(e,t,n,r,20,"mspointerlockchange"),0):-4:-1},emscripten_set_pointerlockerror_callback_on_thread:function(e,t,n,r,i){return document&&(document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock)?(e=ce(e))?(be(e,t,n,r,38,"pointerlockerror"),be(e,t,n,r,38,"mozpointerlockerror"),be(e,t,n,r,38,"webkitpointerlockerror"),be(e,t,n,r,38,"mspointerlockerror"),0):-4:-1},emscripten_set_resize_callback_on_thread:function(e,t,n,r,i){return function(e,t,n,r,i,o,s){se.uiEvent||(se.uiEvent=pt(36));var a={target:e=ce(e),eventTypeString:o,callbackfunc:r,handlerFunc:function(n=event){if(n.target==e){var o=document.body;if(o){var s=se.uiEvent;y[s>>2]=n.detail,y[s+4>>2]=o.clientWidth,y[s+8>>2]=o.clientHeight,y[s+12>>2]=innerWidth,y[s+16>>2]=innerHeight,y[s+20>>2]=outerWidth,y[s+24>>2]=outerHeight,y[s+28>>2]=pageXOffset,y[s+32>>2]=pageYOffset,de(r)(i,s,t)&&n.preventDefault()}}},useCapture:n};se.registerOrRemoveHandler(a)}(e,t,n,r,10,"resize"),0},emscripten_set_touchcancel_callback_on_thread:function(e,t,n,r,i){return we(e,t,n,r,25,"touchcancel"),0},emscripten_set_touchend_callback_on_thread:function(e,t,n,r,i){return we(e,t,n,r,23,"touchend"),0},emscripten_set_touchmove_callback_on_thread:function(e,t,n,r,i){return we(e,t,n,r,24,"touchmove"),0},emscripten_set_touchstart_callback_on_thread:function(e,t,n,r,i){return we(e,t,n,r,22,"touchstart"),0},emscripten_set_webglcontextlost_callback_on_thread:function(e,t,n,r,i){return Se(e,t,n,r,31,"webglcontextlost"),0},emscripten_set_webglcontextrestored_callback_on_thread:function(e,t,n,r,i){return Se(e,t,n,r,32,"webglcontextrestored"),0},emscripten_set_wheel_callback_on_thread:function(e,t,n,r,i){return void 0!==(e=ce(e)).onwheel?(function(e,t,n,r,i,o,s){se.wheelEvent||(se.wheelEvent=pt(104));var a={target:e,allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:r,handlerFunc:function(n=event){var o=se.wheelEvent;ge(o,n,e),S[o+72>>3]=n.deltaX,S[o+80>>3]=n.deltaY,S[o+88>>3]=n.deltaZ,y[o+96>>2]=n.deltaMode,de(r)(i,o,t)&&n.preventDefault()},useCapture:n};se.registerOrRemoveHandler(a)}(e,t,n,r,9,"wheel"),0):-1},emscripten_start_fetch:function(e,t,n,r,i){var o=e+112,s=I(o),a=b[o+36>>2],c=b[o+40>>2],u=b[o+44>>2],l=b[o+48>>2],d=b[o+52>>2],f=!!(4&d),p=!!(32&d),h=!!(16&d),m=!!(64&d);function _(e){m?e():function(e){if(!x)try{e()}catch(e){ke(e)}}(e)}var y=(e,n,r)=>{_((()=>{a?de(a)(e):t&&t(e)}))},w=(e,t,n)=>{_((()=>{u?de(u)(e):r&&r(e)}))},S=(e,t,r)=>{_((()=>{c?de(c)(e):n&&n(e)}))},E=(e,t,n)=>{_((()=>{l?de(l)(e):i&&i(e)}))},k=(e,n,r)=>{Ce(Ee.dbInstance,e,n.response,((e,n,r)=>{_((()=>{a?de(a)(e):t&&t(e)}))}),((e,n,r)=>{_((()=>{a?de(a)(e):t&&t(e)}))}))};if("EM_IDB_STORE"===s){var C=b[o+84>>2];Ce(Ee.dbInstance,e,g.slice(C,C+b[o+88>>2]),y,S)}else if("EM_IDB_DELETE"===s)!function(e,t,n,r){if(e){var i=b[t+112+64>>2];i||(i=b[t+8>>2]);var o=I(i);try{var s=e.transaction(["FILES"],"readwrite").objectStore("FILES").delete(o);s.onsuccess=e=>{var r=e.target.result;b[t+12>>2]=0,Ee.setu64(t+16,0),Ee.setu64(t+24,0),Ee.setu64(t+32,0),v[t+40>>1]=4,v[t+42>>1]=200,A("OK",t+44,64),n(t,0,r)},s.onerror=e=>{v[t+40>>1]=4,v[t+42>>1]=404,A("Not Found",t+44,64),r(t,0,e)}}catch(e){r(t,0,e)}}else r(t,0,"IndexedDB not available!")}(Ee.dbInstance,e,y,S);else if(h){if(p)return 0;xe(e,f?k:y,S,w,E)}else!function(e,t,n,r){if(e){var i=b[t+112+64>>2];i||(i=b[t+8>>2]);var o=I(i);try{var s=e.transaction(["FILES"],"readonly").objectStore("FILES").get(o);s.onsuccess=e=>{if(e.target.result){var i=e.target.result,o=i.byteLength||i.length,s=pt(o);g.set(new Uint8Array(i),s),b[t+12>>2]=s,Ee.setu64(t+16,o),Ee.setu64(t+24,0),Ee.setu64(t+32,o),v[t+40>>1]=4,v[t+42>>1]=200,A("OK",t+44,64),n(t,0,i)}else v[t+40>>1]=4,v[t+42>>1]=404,A("Not Found",t+44,64),r(t,0,"no data")},s.onerror=e=>{v[t+40>>1]=4,v[t+42>>1]=404,A("Not Found",t+44,64),r(t,0,e)}}catch(e){r(t,0,e)}}else r(t,0,"IndexedDB not available!")}(Ee.dbInstance,e,y,p?S:f?(e,t,n)=>{xe(e,k,S,w,E)}:(e,t,n)=>{xe(e,y,S,w,E)});return e},emscripten_webgl_create_context:Le,emscripten_webgl_enable_extension:function(e,t){var n=Te.getContext(e),r=I(t);return r.startsWith("GL_")&&(r=r.substr(3)),"ANGLE_instanced_arrays"==r&&Ie(Je),"OES_vertex_array_object"==r&&Oe(Je),"WEBGL_draw_buffers"==r&&Ae(Je),"WEBGL_draw_instanced_base_vertex_base_instance"==r&&Re(Je),"WEBGL_multi_draw_instanced_base_vertex_base_instance"==r&&De(Je),"WEBGL_multi_draw"==r&&Pe(Je),!!n.GLctx.getExtension(r)},emscripten_webgl_init_context_attributes:function(e){for(var t=e>>2,n=0;n<14;++n)y[t+n]=0;y[t+0]=y[t+1]=y[t+3]=y[t+4]=y[t+8]=y[t+10]=1},emscripten_webgl_make_context_current:function(e){return Te.makeContextCurrent(e)?0:-5},emscripten_websocket_close:function(e,t,n){var r=Ne.sockets[e];return r?(n&&I(n),n?r.close(t||void 0,I(n)):t?r.close(t):r.close(),0):-3},emscripten_websocket_deinitialize:function(){for(var e in Ne.sockets){var t=Ne.sockets[e];t&&(t.close(),Me(e))}Ne.sockets=[]},emscripten_websocket_is_supported:function(){return"undefined"!=typeof WebSocket},emscripten_websocket_new:function(e){if("undefined"==typeof WebSocket)return-1;if(!e)return-5;var t=e>>2,n=I(y[t]),r=y[t+1],i=r?new WebSocket(n,I(r).split(",")):new WebSocket(n);i.binaryType="arraybuffer";var o=Ne.sockets.length;return Ne.sockets[o]=i,o},emscripten_websocket_send_binary:function(e,t,n){var r=Ne.sockets[e];return r?(r.send(g.subarray(t,t+n)),0):-3},emscripten_websocket_set_onclose_callback_on_thread:function(e,t,n,r){Ne.socketEvent||(Ne.socketEvent=pt(1024));var i=Ne.sockets[e];return i?(i.onclose=function(r){b[Ne.socketEvent>>2]=e,b[Ne.socketEvent+4>>2]=r.wasClean,b[Ne.socketEvent+8>>2]=r.code,A(r.reason,Ne.socketEvent+10,512),de(n)(0,Ne.socketEvent,t)},0):-3},emscripten_websocket_set_onerror_callback_on_thread:function(e,t,n,r){Ne.socketEvent||(Ne.socketEvent=pt(1024));var i=Ne.sockets[e];return i?(i.onerror=function(r){b[Ne.socketEvent>>2]=e,de(n)(0,Ne.socketEvent,t)},0):-3},emscripten_websocket_set_onmessage_callback_on_thread:function(e,t,n,r){Ne.socketEvent||(Ne.socketEvent=pt(1024));var i=Ne.sockets[e];return i?(i.onmessage=function(r){if(b[Ne.socketEvent>>2]=e,"string"==typeof r.data){var i=R(r.data)+1,o=pt(i);A(r.data,o,i),b[Ne.socketEvent+12>>2]=1}else i=r.data.byteLength,o=pt(i),m.set(new Uint8Array(r.data),o),b[Ne.socketEvent+12>>2]=0;b[Ne.socketEvent+4>>2]=o,b[Ne.socketEvent+8>>2]=i,de(n)(0,Ne.socketEvent,t),ft(o)},0):-3},emscripten_websocket_set_onopen_callback_on_thread:function(e,t,n,r){Ne.socketEvent||(Ne.socketEvent=pt(1024));var i=Ne.sockets[e];return i?(i.onopen=function(r){b[Ne.socketEvent>>2]=e,de(n)(0,Ne.socketEvent,t)},0):-3},environ_get:function(e,t){var n=0;return je().forEach((function(r,i){var o=t+n;b[e+4*i>>2]=o,function(e,t,n){for(var r=0;r<e.length;++r)m[t++>>0]=e.charCodeAt(r);n||(m[t>>0]=0)}(r,o),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=je();b[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),b[t>>2]=r,0},fd_close:function(e){return 52},fd_read:function(e,t,n,r){return 52},fd_seek:function(e,t,n,r,i){return 70},fd_write:function(e,t,n,r){for(var i,o,s,a=0,c=0;c<n;c++){var u=b[t>>2],f=b[t+4>>2];t+=8;for(var p=0;p<f;p++)i=e,o=g[u+p],s=void 0,s=Ue[i],0===o||10===o?((1===i?l:d)(C(s,0)),s.length=0):s.push(o);a+=f}return b[r>>2]=a,0},getCookieValue:function(e){const t=st(e),n={};for(const e of document.cookie.split(";")){const[t,r]=e.trim().split("=");t&&(n[t.trim()]=r)}const r=n[t]||"";var i=R(r)+1,o=pt(i);return A(r,o,i),o},getExtraArgs:function(e){const t=r.wasmArguments[e]||"";var n=R(t)+1,i=xt(n);return A(t,i,n),i},getNumExtraArgs:function(){return r.wasmArguments?r.wasmArguments.length:0},getUrl:function(){var e=`${location.origin}${location.pathname}`,t=R(e)+1,n=pt(t);return A(e,n,t),n},getWasmLoadedDuration:function(){return r.wasmLoadedDuration},getentropy:function e(t,n){e.randomDevice||(e.randomDevice=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}return()=>V("randomDevice")}());for(var r=0;r<n;r++)m[t+r>>0]=e.randomDevice();return 0},glActiveTexture:function(e){Je.activeTexture(e)},glAttachShader:function(e,t){Je.attachShader(Te.programs[e],Te.shaders[t])},glBindAttribLocation:function(e,t,n){Je.bindAttribLocation(Te.programs[e],t,I(n))},glBindBuffer:function(e,t){35051==e?Je.currentPixelPackBufferBinding=t:35052==e&&(Je.currentPixelUnpackBufferBinding=t),Je.bindBuffer(e,Te.buffers[t])},glBindFramebuffer:function(e,t){Je.bindFramebuffer(e,Te.framebuffers[t])},glBindRenderbuffer:function(e,t){Je.bindRenderbuffer(e,Te.renderbuffers[t])},glBindSampler:function(e,t){Je.bindSampler(e,Te.samplers[t])},glBindTexture:function(e,t){Je.bindTexture(e,Te.textures[t])},glBindVertexArray:function(e){Je.bindVertexArray(Te.vaos[e])},glBlendColor:function(e,t,n,r){Je.blendColor(e,t,n,r)},glBlendEquation:function(e){Je.blendEquation(e)},glBlendEquationSeparate:function(e,t){Je.blendEquationSeparate(e,t)},glBlendFunc:function(e,t){Je.blendFunc(e,t)},glBlendFuncSeparate:function(e,t,n,r){Je.blendFuncSeparate(e,t,n,r)},glBlitFramebuffer:function(e,t,n,r,i,o,s,a,c,u){Je.blitFramebuffer(e,t,n,r,i,o,s,a,c,u)},glBufferData:function(e,t,n,r){Te.currentContext.version>=2?n&&t?Je.bufferData(e,g,r,n,t):Je.bufferData(e,t,r):Je.bufferData(e,n?g.subarray(n,n+t):t,r)},glBufferSubData:function(e,t,n,r){Te.currentContext.version>=2?n&&Je.bufferSubData(e,t,g,r,n):Je.bufferSubData(e,t,g.subarray(r,r+n))},glCheckFramebufferStatus:function(e){return Je.checkFramebufferStatus(e)},glClear:function(e){Je.clear(e)},glClearBufferfi:function(e,t,n,r){Je.clearBufferfi(e,t,n,r)},glClearBufferfv:function(e,t,n){Je.clearBufferfv(e,t,w,n>>2)},glClearBufferiv:function(e,t,n){Je.clearBufferiv(e,t,y,n>>2)},glClearColor:function(e,t,n,r){Je.clearColor(e,t,n,r)},glClearDepthf:function(e){Je.clearDepth(e)},glClearStencil:function(e){Je.clearStencil(e)},glClientWaitSync:function(e,t,n,r){var i=(n>>>0)+4294967296*r;return Je.clientWaitSync(Te.syncs[e],t,i)},glColorMask:function(e,t,n,r){Je.colorMask(!!e,!!t,!!n,!!r)},glCompileShader:function(e){Je.compileShader(Te.shaders[e])},glCompressedTexImage2D:function(e,t,n,r,i,o,s,a){Te.currentContext.version>=2?Je.currentPixelUnpackBufferBinding||!s?Je.compressedTexImage2D(e,t,n,r,i,o,s,a):Je.compressedTexImage2D(e,t,n,r,i,o,g,a,s):Je.compressedTexImage2D(e,t,n,r,i,o,a?g.subarray(a,a+s):null)},glCompressedTexImage3D:function(e,t,n,r,i,o,s,a,c){Je.currentPixelUnpackBufferBinding?Je.compressedTexImage3D(e,t,n,r,i,o,s,a,c):Je.compressedTexImage3D(e,t,n,r,i,o,s,g,c,a)},glCreateProgram:function(){var e=Te.getNewId(Te.programs),t=Je.createProgram();return t.name=e,t.maxUniformLength=t.maxAttributeLength=t.maxUniformBlockNameLength=0,t.uniformIdCounter=1,Te.programs[e]=t,e},glCreateShader:function(e){var t=Te.getNewId(Te.shaders);return Te.shaders[t]=Je.createShader(e),t},glCullFace:function(e){Je.cullFace(e)},glDeleteBuffers:function(e,t){for(var n=0;n<e;n++){var r=y[t+4*n>>2],i=Te.buffers[r];i&&(Je.deleteBuffer(i),i.name=0,Te.buffers[r]=null,r==Je.currentPixelPackBufferBinding&&(Je.currentPixelPackBufferBinding=0),r==Je.currentPixelUnpackBufferBinding&&(Je.currentPixelUnpackBufferBinding=0))}},glDeleteFramebuffers:function(e,t){for(var n=0;n<e;++n){var r=y[t+4*n>>2],i=Te.framebuffers[r];i&&(Je.deleteFramebuffer(i),i.name=0,Te.framebuffers[r]=null)}},glDeleteProgram:function(e){if(e){var t=Te.programs[e];t?(Je.deleteProgram(t),t.name=0,Te.programs[e]=null):Te.recordError(1281)}},glDeleteRenderbuffers:function(e,t){for(var n=0;n<e;n++){var r=y[t+4*n>>2],i=Te.renderbuffers[r];i&&(Je.deleteRenderbuffer(i),i.name=0,Te.renderbuffers[r]=null)}},glDeleteSamplers:function(e,t){for(var n=0;n<e;n++){var r=y[t+4*n>>2],i=Te.samplers[r];i&&(Je.deleteSampler(i),i.name=0,Te.samplers[r]=null)}},glDeleteShader:function(e){if(e){var t=Te.shaders[e];t?(Je.deleteShader(t),Te.shaders[e]=null):Te.recordError(1281)}},glDeleteSync:function(e){if(e){var t=Te.syncs[e];t?(Je.deleteSync(t),t.name=0,Te.syncs[e]=null):Te.recordError(1281)}},glDeleteTextures:function(e,t){for(var n=0;n<e;n++){var r=y[t+4*n>>2],i=Te.textures[r];i&&(Je.deleteTexture(i),i.name=0,Te.textures[r]=null)}},glDeleteVertexArrays:function(e,t){for(var n=0;n<e;n++){var r=y[t+4*n>>2];Je.deleteVertexArray(Te.vaos[r]),Te.vaos[r]=null}},glDepthFunc:function(e){Je.depthFunc(e)},glDepthMask:function(e){Je.depthMask(!!e)},glDetachShader:function(e,t){Je.detachShader(Te.programs[e],Te.shaders[t])},glDisable:function(e){Je.disable(e)},glDisableVertexAttribArray:function(e){Je.disableVertexAttribArray(e)},glDrawArrays:function(e,t,n){Je.drawArrays(e,t,n)},glDrawArraysInstanced:function(e,t,n,r){Je.drawArraysInstanced(e,t,n,r)},glDrawBuffers:function(e,t){for(var n=Ge[e],r=0;r<e;r++)n[r]=y[t+4*r>>2];Je.drawBuffers(n)},glDrawElements:function(e,t,n,r){Je.drawElements(e,t,n,r)},glDrawElementsInstanced:function(e,t,n,r,i){Je.drawElementsInstanced(e,t,n,r,i)},glEnable:function(e){Je.enable(e)},glEnableVertexAttribArray:function(e){Je.enableVertexAttribArray(e)},glFenceSync:function(e,t){var n=Je.fenceSync(e,t);if(n){var r=Te.getNewId(Te.syncs);return n.name=r,Te.syncs[r]=n,r}return 0},glFramebufferRenderbuffer:function(e,t,n,r){Je.framebufferRenderbuffer(e,t,n,Te.renderbuffers[r])},glFramebufferTexture2D:function(e,t,n,r,i){Je.framebufferTexture2D(e,t,n,Te.textures[r],i)},glFramebufferTextureLayer:function(e,t,n,r,i){Je.framebufferTextureLayer(e,t,Te.textures[n],r,i)},glFrontFace:function(e){Je.frontFace(e)},glGenBuffers:function(e,t){We(e,t,"createBuffer",Te.buffers)},glGenFramebuffers:function(e,t){We(e,t,"createFramebuffer",Te.framebuffers)},glGenRenderbuffers:function(e,t){We(e,t,"createRenderbuffer",Te.renderbuffers)},glGenSamplers:function(e,t){We(e,t,"createSampler",Te.samplers)},glGenTextures:function(e,t){We(e,t,"createTexture",Te.textures)},glGenVertexArrays:function(e,t){We(e,t,"createVertexArray",Te.vaos)},glGetAttribLocation:function(e,t){return Je.getAttribLocation(Te.programs[e],I(t))},glGetError:function(){var e=Je.getError()||Te.lastError;return Te.lastError=0,e},glGetIntegerv:function(e,t){qe(e,t,0)},glGetProgramInfoLog:function(e,t,n,r){var i=Je.getProgramInfoLog(Te.programs[e]);null===i&&(i="(unknown error)");var o=t>0&&r?A(i,r,t):0;n&&(y[n>>2]=o)},glGetProgramiv:function(e,t,n){if(n)if(e>=Te.counter)Te.recordError(1281);else if(e=Te.programs[e],35716==t){var r=Je.getProgramInfoLog(e);null===r&&(r="(unknown error)"),y[n>>2]=r.length+1}else if(35719==t){if(!e.maxUniformLength)for(var i=0;i<Je.getProgramParameter(e,35718);++i)e.maxUniformLength=Math.max(e.maxUniformLength,Je.getActiveUniform(e,i).name.length+1);y[n>>2]=e.maxUniformLength}else if(35722==t){if(!e.maxAttributeLength)for(i=0;i<Je.getProgramParameter(e,35721);++i)e.maxAttributeLength=Math.max(e.maxAttributeLength,Je.getActiveAttrib(e,i).name.length+1);y[n>>2]=e.maxAttributeLength}else if(35381==t){if(!e.maxUniformBlockNameLength)for(i=0;i<Je.getProgramParameter(e,35382);++i)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,Je.getActiveUniformBlockName(e,i).length+1);y[n>>2]=e.maxUniformBlockNameLength}else y[n>>2]=Je.getProgramParameter(e,t);else Te.recordError(1281)},glGetShaderInfoLog:function(e,t,n,r){var i=Je.getShaderInfoLog(Te.shaders[e]);null===i&&(i="(unknown error)");var o=t>0&&r?A(i,r,t):0;n&&(y[n>>2]=o)},glGetShaderiv:function(e,t,n){if(n)if(35716==t){var r=Je.getShaderInfoLog(Te.shaders[e]);null===r&&(r="(unknown error)");var i=r?r.length+1:0;y[n>>2]=i}else if(35720==t){var o=Je.getShaderSource(Te.shaders[e]),s=o?o.length+1:0;y[n>>2]=s}else y[n>>2]=Je.getShaderParameter(Te.shaders[e],t);else Te.recordError(1281)},glGetString:function(e){var t=Te.stringCache[e];if(!t){switch(e){case 7939:var n=Je.getSupportedExtensions()||[];t=Ve((n=n.concat(n.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var r=Je.getParameter(e);r||Te.recordError(1280),t=r&&Ve(r);break;case 7938:var i=Je.getParameter(7938);t=Ve(i=Te.currentContext.version>=2?"OpenGL ES 3.0 ("+i+")":"OpenGL ES 2.0 ("+i+")");break;case 35724:var o=Je.getParameter(35724),s=o.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==s&&(3==s[1].length&&(s[1]=s[1]+"0"),o="OpenGL ES GLSL ES "+s[1]+" ("+o+")"),t=Ve(o);break;default:Te.recordError(1280)}Te.stringCache[e]=t}return t},glGetStringi:function(e,t){if(Te.currentContext.version<2)return Te.recordError(1282),0;var n=Te.stringiCache[e];if(n)return t<0||t>=n.length?(Te.recordError(1281),0):n[t];if(7939===e){var r=Je.getSupportedExtensions()||[];return r=(r=r.concat(r.map((function(e){return"GL_"+e})))).map((function(e){return Ve(e)})),n=Te.stringiCache[e]=r,t<0||t>=n.length?(Te.recordError(1281),0):n[t]}return Te.recordError(1280),0},glGetUniformLocation:function(e,t){if(t=I(t),e=Te.programs[e]){!function(e){var t,n,r=e.uniformLocsById,i=e.uniformSizeAndIdsByName;if(!r)for(e.uniformLocsById=r={},e.uniformArrayNamesById={},t=0;t<Je.getProgramParameter(e,35718);++t){var o=Je.getActiveUniform(e,t),s=o.name,a=o.size,c=He(s),u=c>0?s.slice(0,c):s,l=e.uniformIdCounter;for(e.uniformIdCounter+=a,i[u]=[a,l],n=0;n<a;++n)r[l]=n,e.uniformArrayNamesById[l++]=u}}(e);var n=e.uniformLocsById,r=0,i=t,o=He(t);o>0&&(a=t.slice(o+1),r=parseInt(a)>>>0,i=t.slice(0,o));var s=e.uniformSizeAndIdsByName[i];if(s&&r<s[0]&&(n[r+=s[1]]=n[r]||Je.getUniformLocation(e,t)))return r}else Te.recordError(1281);var a;return-1},glInvalidateFramebuffer:function(e,t,n){for(var r=Ge[t],i=0;i<t;i++)r[i]=y[n+4*i>>2];Je.invalidateFramebuffer(e,r)},glIsVertexArray:function(e){var t=Te.vaos[e];return t?Je.isVertexArray(t):0},glLinkProgram:function(e){e=Te.programs[e],Je.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},glPixelStorei:function(e,t){3317==e&&(Te.unpackAlignment=t),Je.pixelStorei(e,t)},glPolygonOffset:function(e,t){Je.polygonOffset(e,t)},glReadBuffer:function(e){Je.readBuffer(e)},glReadPixels:function(e,t,n,r,i,o,s){if(Te.currentContext.version>=2)if(Je.currentPixelPackBufferBinding)Je.readPixels(e,t,n,r,i,o,s);else{var a=ze(o);Je.readPixels(e,t,n,r,i,o,a,s>>Ye(a))}else{var c=Ke(o,i,n,r,s);c?Je.readPixels(e,t,n,r,i,o,c):Te.recordError(1280)}},glRenderbufferStorage:function(e,t,n,r){Je.renderbufferStorage(e,t,n,r)},glRenderbufferStorageMultisample:function(e,t,n,r,i){Je.renderbufferStorageMultisample(e,t,n,r,i)},glSamplerParameteri:function(e,t,n){Je.samplerParameteri(Te.samplers[e],t,n)},glScissor:function(e,t,n,r){Je.scissor(e,t,n,r)},glShaderSource:function(e,t,n,r){var i=Te.getSource(e,t,n,r);Je.shaderSource(Te.shaders[e],i)},glStencilFunc:function(e,t,n){Je.stencilFunc(e,t,n)},glStencilFuncSeparate:function(e,t,n,r){Je.stencilFuncSeparate(e,t,n,r)},glStencilMask:function(e){Je.stencilMask(e)},glStencilOp:function(e,t,n){Je.stencilOp(e,t,n)},glStencilOpSeparate:function(e,t,n,r){Je.stencilOpSeparate(e,t,n,r)},glTexImage2D:function(e,t,n,r,i,o,s,a,c){if(Te.currentContext.version>=2)if(Je.currentPixelUnpackBufferBinding)Je.texImage2D(e,t,n,r,i,o,s,a,c);else if(c){var u=ze(a);Je.texImage2D(e,t,n,r,i,o,s,a,u,c>>Ye(u))}else Je.texImage2D(e,t,n,r,i,o,s,a,null);else Je.texImage2D(e,t,n,r,i,o,s,a,c?Ke(a,s,r,i,c):null)},glTexImage3D:function(e,t,n,r,i,o,s,a,c,u){if(Je.currentPixelUnpackBufferBinding)Je.texImage3D(e,t,n,r,i,o,s,a,c,u);else if(u){var l=ze(c);Je.texImage3D(e,t,n,r,i,o,s,a,c,l,u>>Ye(l))}else Je.texImage3D(e,t,n,r,i,o,s,a,c,null)},glTexParameterf:function(e,t,n){Je.texParameterf(e,t,n)},glTexParameteri:function(e,t,n){Je.texParameteri(e,t,n)},glTexStorage2D:function(e,t,n,r,i){Je.texStorage2D(e,t,n,r,i)},glTexSubImage2D:function(e,t,n,r,i,o,s,a,c){if(Te.currentContext.version>=2)if(Je.currentPixelUnpackBufferBinding)Je.texSubImage2D(e,t,n,r,i,o,s,a,c);else if(c){var u=ze(a);Je.texSubImage2D(e,t,n,r,i,o,s,a,u,c>>Ye(u))}else Je.texSubImage2D(e,t,n,r,i,o,s,a,null);else{var l=null;c&&(l=Ke(a,s,i,o,c)),Je.texSubImage2D(e,t,n,r,i,o,s,a,l)}},glTexSubImage3D:function(e,t,n,r,i,o,s,a,c,u,l){if(Je.currentPixelUnpackBufferBinding)Je.texSubImage3D(e,t,n,r,i,o,s,a,c,u,l);else if(l){var d=ze(u);Je.texSubImage3D(e,t,n,r,i,o,s,a,c,u,d,l>>Ye(d))}else Je.texSubImage3D(e,t,n,r,i,o,s,a,c,u,null)},glUniform1f:function(e,t){Je.uniform1f($e(e),t)},glUniform1fv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform1fv($e(e),w,n>>2,t);else{if(t<=288)for(var r=Xe[t-1],i=0;i<t;++i)r[i]=w[n+4*i>>2];else r=w.subarray(n>>2,n+4*t>>2);Je.uniform1fv($e(e),r)}},glUniform1i:function(e,t){Je.uniform1i($e(e),t)},glUniform1iv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform1iv($e(e),y,n>>2,t);else{if(t<=288)for(var r=Qe[t-1],i=0;i<t;++i)r[i]=y[n+4*i>>2];else r=y.subarray(n>>2,n+4*t>>2);Je.uniform1iv($e(e),r)}},glUniform2f:function(e,t,n){Je.uniform2f($e(e),t,n)},glUniform2fv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform2fv($e(e),w,n>>2,2*t);else{if(t<=144)for(var r=Xe[2*t-1],i=0;i<2*t;i+=2)r[i]=w[n+4*i>>2],r[i+1]=w[n+(4*i+4)>>2];else r=w.subarray(n>>2,n+8*t>>2);Je.uniform2fv($e(e),r)}},glUniform2iv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform2iv($e(e),y,n>>2,2*t);else{if(t<=144)for(var r=Qe[2*t-1],i=0;i<2*t;i+=2)r[i]=y[n+4*i>>2],r[i+1]=y[n+(4*i+4)>>2];else r=y.subarray(n>>2,n+8*t>>2);Je.uniform2iv($e(e),r)}},glUniform3fv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform3fv($e(e),w,n>>2,3*t);else{if(t<=96)for(var r=Xe[3*t-1],i=0;i<3*t;i+=3)r[i]=w[n+4*i>>2],r[i+1]=w[n+(4*i+4)>>2],r[i+2]=w[n+(4*i+8)>>2];else r=w.subarray(n>>2,n+12*t>>2);Je.uniform3fv($e(e),r)}},glUniform3iv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform3iv($e(e),y,n>>2,3*t);else{if(t<=96)for(var r=Qe[3*t-1],i=0;i<3*t;i+=3)r[i]=y[n+4*i>>2],r[i+1]=y[n+(4*i+4)>>2],r[i+2]=y[n+(4*i+8)>>2];else r=y.subarray(n>>2,n+12*t>>2);Je.uniform3iv($e(e),r)}},glUniform4f:function(e,t,n,r,i){Je.uniform4f($e(e),t,n,r,i)},glUniform4fv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform4fv($e(e),w,n>>2,4*t);else{if(t<=72){var r=Xe[4*t-1],i=w;n>>=2;for(var o=0;o<4*t;o+=4){var s=n+o;r[o]=i[s],r[o+1]=i[s+1],r[o+2]=i[s+2],r[o+3]=i[s+3]}}else r=w.subarray(n>>2,n+16*t>>2);Je.uniform4fv($e(e),r)}},glUniform4iv:function(e,t,n){if(Te.currentContext.version>=2)t&&Je.uniform4iv($e(e),y,n>>2,4*t);else{if(t<=72)for(var r=Qe[4*t-1],i=0;i<4*t;i+=4)r[i]=y[n+4*i>>2],r[i+1]=y[n+(4*i+4)>>2],r[i+2]=y[n+(4*i+8)>>2],r[i+3]=y[n+(4*i+12)>>2];else r=y.subarray(n>>2,n+16*t>>2);Je.uniform4iv($e(e),r)}},glUniformMatrix4fv:function(e,t,n,r){if(Te.currentContext.version>=2)t&&Je.uniformMatrix4fv($e(e),!!n,w,r>>2,16*t);else{if(t<=18){var i=Xe[16*t-1],o=w;r>>=2;for(var s=0;s<16*t;s+=16){var a=r+s;i[s]=o[a],i[s+1]=o[a+1],i[s+2]=o[a+2],i[s+3]=o[a+3],i[s+4]=o[a+4],i[s+5]=o[a+5],i[s+6]=o[a+6],i[s+7]=o[a+7],i[s+8]=o[a+8],i[s+9]=o[a+9],i[s+10]=o[a+10],i[s+11]=o[a+11],i[s+12]=o[a+12],i[s+13]=o[a+13],i[s+14]=o[a+14],i[s+15]=o[a+15]}}else i=w.subarray(r>>2,r+64*t>>2);Je.uniformMatrix4fv($e(e),!!n,i)}},glUseProgram:function(e){e=Te.programs[e],Je.useProgram(e),Je.currentProgram=e},glVertexAttribDivisor:function(e,t){Je.vertexAttribDivisor(e,t)},glVertexAttribPointer:function(e,t,n,r,i,o){Je.vertexAttribPointer(e,t,n,!!r,i,o)},glViewport:function(e,t,n,r){Je.viewport(e,t,n,r)},hasKeyOnDeviceStorageJS:function(e){return"undefined"!=typeof Storage&&null!==localStorage.getItem(I(e))},isEmbedded:function(){return window.HiberWebview&&window.HiberWebview.isEmbedded&&window.HiberWebview.isEmbedded()},isMobileWebJS:function(){return Math.min(window.screen.width,window.screen.height)<768||navigator.userAgent.indexOf("Mobi")>-1},js_enter_fullscreen:function(e){var t=document.getElementById(I(e));null!=t?t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):t.msRequestFullScreen?t.msRequestFullScreen():console.log("no requestFullscreen() api found"):console.log("hiber canvas was not found")},js_exit_fullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozExitFullScreen?document.mozExitFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():console.log("no exitFullscreen() api found")},js_is_fullscreen_enabled:function(){return document.fullscreenEnabled||document.mozFullScreenEnable||document.webkitFullscreenEnabled||document.msFullscreenEnabled},js_is_in_fullscreen:function(){return null!=document.fullscreenElement||null!=document.mozFullScreenElement||null!=document.webkitFullscreenElement||null!=document.webkitCurrentFullScreenElement||null!=document.msFullscreenElement},loadBoolFromDeviceStorageJS:function(e){return localStorage.getItem(I(e))},loadFloatFromDeviceStorageJS:function(e){return localStorage.getItem(I(e))},loadIntFromDeviceStorageJS:function(e){return localStorage.getItem(I(e))},loadStringFromDeviceStorageJS:function(e,t,n){A(localStorage.getItem(I(e)),t,n)},performanceGetMemoryUsageEmscripten:function(){return"performance"in window&&"memory"in window.performance?window.performance.memory.usedJSHeapSize/1e6:0},sapp_js_add_beforeunload_listener:function(){r.sokol_beforeunload=e=>{0!=gt()&&(e.preventDefault(),e.returnValue=" ")},window.addEventListener("beforeunload",r.sokol_beforeunload)},sapp_js_add_clipboard_listener:function(){r.sokol_paste=e=>{const t=e.clipboardData.getData("text");ie((()=>{const e=it(t);mt(e)}))},window.addEventListener("paste",r.sokol_paste)},sapp_js_add_dragndrop_listeners:function(e){r.sokol_drop_files=[];const t=I(e),n=document.getElementById(t);r.sokol_dragenter=e=>{e.stopPropagation(),e.preventDefault()},r.sokol_dragleave=e=>{e.stopPropagation(),e.preventDefault()},r.sokol_dragover=e=>{e.stopPropagation(),e.preventDefault()},r.sokol_drop=e=>{e.stopPropagation(),e.preventDefault();const t=e.dataTransfer.files;r.sokol_dropped_files=t,_t(t.length);for(let e=0;e<t.length;e++)ie((()=>{const n=it(t[e].name);vt(e,n)}));yt(e.clientX,e.clientY)},n.addEventListener("dragenter",r.sokol_dragenter,!1),n.addEventListener("dragleave",r.sokol_dragleave,!1),n.addEventListener("dragover",r.sokol_dragover,!1),n.addEventListener("drop",r.sokol_drop,!1)},sapp_js_clear_favicon:function(){const e=document.getElementById("sokol-app-favicon");e&&document.head.removeChild(e)},sapp_js_create_textfield:function(){const e=document.createElement("input");e.type="text",e.id="_sokol_app_input_element",e.autocapitalize="none",e.addEventListener("focusout",(function(e){ht()})),document.body.append(e)},sapp_js_delay_resize:function(){setTimeout((()=>{ot("_sapp_emsc_do_resize","void")}),50)},sapp_js_exit_pointerlock:function(){document.exitPointerLock&&document.exitPointerLock()},sapp_js_focus_textfield:function(){document.getElementById("_sokol_app_input_element").focus()},sapp_js_init:function(e){const t=I(e);r.sapp_emsc_target=document.getElementById(t),r.sapp_emsc_target||console.log("sokol_app.h: invalid target:"+t),r.sapp_emsc_target.requestPointerLock||console.log("sokol_app.h: target doesn't support requestPointerLock:"+t)},sapp_js_remove_beforeunload_listener:function(){window.removeEventListener("beforeunload",r.sokol_beforeunload)},sapp_js_remove_clipboard_listener:function(){window.removeEventListener("paste",r.sokol_paste)},sapp_js_remove_dragndrop_listeners:function(e){const t=I(e),n=document.getElementById(t);n.removeEventListener("dragenter",r.sokol_dragenter),n.removeEventListener("dragleave",r.sokol_dragleave),n.removeEventListener("dragover",r.sokol_dragover),n.removeEventListener("drop",r.sokol_drop)},sapp_js_request_pointerlock:function(){r.sapp_emsc_target&&r.sapp_emsc_target.requestPointerLock&&r.sapp_emsc_target.requestPointerLock()},sapp_js_set_cursor:function(e,t){if(r.sapp_emsc_target){let n;if(0===t)n="none";else switch(e){case 0:default:n="auto";break;case 1:n="default";break;case 2:n="text";break;case 3:n="crosshair";break;case 4:n="pointer";break;case 5:n="ew-resize";break;case 6:n="ns-resize";break;case 7:n="nwse-resize";break;case 8:n="nesw-resize";break;case 9:n="all-scroll";break;case 10:n="not-allowed"}r.sapp_emsc_target.style.cursor=n}},sapp_js_set_favicon:function(e,t,n){const r=document.createElement("canvas");r.width=e,r.height=t;const i=r.getContext("2d"),o=i.createImageData(e,t);o.data.set(g.subarray(n,n+e*t*4)),i.putImageData(o,0,0);const s=document.createElement("link");s.id="sokol-app-favicon",s.rel="shortcut icon",s.href=r.toDataURL(),document.head.appendChild(s)},sapp_js_unfocus_textfield:function(){document.getElementById("_sokol_app_input_element").blur()},sapp_js_write_clipboard:function(e){const t=I(e),n=document.createElement("textarea");n.setAttribute("autocomplete","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),n.style.left="-100px",n.style.top="-100px",n.style.height=1,n.style.width=1,n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)},sargs_js_parse_url:function(){const e=new URLSearchParams(window.location.search).entries();for(let t=e.next();!t.done;t=e.next()){const e=t.value[0],n=t.value[1];ie((()=>{const t=it(e),r=it(n);bt(t,r)}))}},saveBoolOnDeviceStorageJS:function(e,t){"undefined"!=typeof Storage&&localStorage.setItem(I(e),t)},saveFloatOnDeviceStorageJS:function(e,t){"undefined"!=typeof Storage&&localStorage.setItem(I(e),t)},saveIntOnDeviceStorageJS:function(e,t){"undefined"!=typeof Storage&&localStorage.setItem(I(e),t)},saveStringOnDeviceStorageJS:function(e,t){"undefined"!=typeof Storage&&localStorage.setItem(I(e),I(t))},simgui_js_is_osx:function(){return navigator.userAgent.includes("Macintosh")?1:0},socialWebReplaceUrl:function(e){const t=st(e);history.replaceState({helloworld:!0},"Hiberworld",`${t}`)},strftime_l:function(e,t,n,r,i){return nt(e,t,n,r)},unmuteVideoElements:function(){for(const e of r.videoElementPool)e.videoElement.muted=!1;for(const e of Object.values(r.videoTextureElements))e.videoElement.muted=!1},webAllocateVideoElement:function(e,t){const n=st(t),i=r.videoElementPool.pop();if(!i)return void console.warn("No video element exists");const o=i.videoElement;if(n.includes(".m3u8")&&!o.canPlayType("application/vnd.apple.mpegurl")){const e=e=>new Promise(((t,n)=>{const r=document.createElement("script");r.type="text/javascript",r.src=e;let i=!1;r.onload=r.onreadystatechange=function(){i||this.readyState&&"complete"!=this.readyState||(i=!0,t())},document.body.append(r)}));(async()=>{window.Hls||(console.log("Loading hls.js..."),await e("https://cdn.jsdelivr.net/npm/hls.js@latest"),console.log("Loading hls.js... Done!")),window.Hls&&window.Hls.isSupported()?(i.hls||(i.hls=new window.Hls),i.hls.startLevel=0,i.hls.lowLatencyMode=!0,i.hls.loadSource(n),i.hls.attachMedia(o),console.log(i.hls.autoLevelEnabled,i.hls.levels)):console.error("This is a legacy browser that doesn't support MSE"),o.play()})()}else o.src=n,o.play();r.videoTextureElements[e]=i},webCreateVideoElementPool:function(e){r.videoTextureElements={},r.videoElementPool=[];for(let t=0;t<e;++t){const e={videoElement:null,videoTextureFrameNeedsUpload:!1,hasRequestVideoFrameCallback:!1,hls:null};e.videoElement=document.createElement("video"),e.videoElement.crossOrigin="anonymous",e.videoElement.autoplay=!0,e.videoElement.muted=!0,e.videoElement.loop=!0,e.videoElement.playsInline=!0;const t=()=>{e.videoTextureFrameNeedsUpload=!0,e.videoElement.requestVideoFrameCallback(t)};"requestVideoFrameCallback"in e.videoElement&&(e.videoElement.requestVideoFrameCallback(t),e.hasRequestVideoFrameCallback=!0),r.videoElementPool.push(e)}},webGetDuration:function(e){return r.videoTextureElements[e].videoElement.duration||0},webGetPlaybackTime:function(e){return r.videoTextureElements[e].videoElement.currentTime},webMuteVideo:function(e,t){r.videoTextureElements[e].videoElement.muted=t},webReleaseVideoElement:function(e){const t=r.videoTextureElements[e];t?(t.videoElement.currentTime>0&&!t.videoElement.paused&&!t.videoElement.ended&&t.videoElement.readyState>t.videoElement.HAVE_CURRENT_DATA&&t.videoElement.pause(),t.videoElement.currentTime=0,t.videoTextureFrameNeedsUpload=!1,t.hls&&(t.hls.removeAllListeners(),t.hls.detachMedia()),r.videoTextureElements[e]=null,r.videoElementPool.push(t)):console.warn("Cant release non existing video element")},webResumeVideo:function(e){return r.videoTextureElements[e].videoElement.play()},webSentryTransactionAddChild:function(e,t){if(!r.sentry)return;const n=st(e),i=st(t);r.sentry.sentryTransactionAddChild(n,i)},webSentryTransactionFinish:function(e){if(!r.sentry)return;const t=st(e);r.sentry.sentryTransactionFinish(t)},webSentryTransactionFinishChild:function(e,t){if(!r.sentry)return;const n=st(e),i=st(t);r.sentry.sentryTransactionFinishChild(n,i)},webSentryTransactionStart:function(e){if(!r.sentry)return;const t=st(e);r.sentry.sentryTransactionStart(t)},webSetCurrentTime:function(e,t){r.videoTextureElements[e].videoElement.currentTime=t/1e3},webSetLoop:function(e,t){r.videoTextureElements[e].videoElement.loop=t||void 0},webSetPlaybackRate:function(e,t){r.videoTextureElements[e].videoElement.playbackRate=t},webSetVolume:function(e,t){r.videoTextureElements[e].videoElement.volume=t},webUpdateTextureWithVideo:function(e,t){const n=r.ctx,i=r.videoTextureElements[e];if(!i)return;if(i.videoElement.readyState<i.videoElement.HAVE_CURRENT_DATA)return;if(i.hasRequestVideoFrameCallback||(i.videoTextureFrameNeedsUpload=!0),!i.videoTextureFrameNeedsUpload)return;const o=n.RGBA,s=n.RGBA,a=n.UNSIGNED_BYTE;n.bindTexture(n.TEXTURE_2D,Te.textures[t]),n.texImage2D(n.TEXTURE_2D,0,o,s,a,i.videoElement),i.videoTextureFrameNeedsUpload=!1},webVideoIsPlaying:function(e){const t=r.videoTextureElements[e];return!t.videoElement.paused&&!t.videoElement.ended}};!function(){var e={env:lt,wasi_snapshot_preview1:lt};function t(e,t){var n=e.exports;r.asm=n,f=r.asm.memory,D(),E=r.asm.__indirect_function_table,q()}function i(e){t(e.instance)}function o(t){return(u||"function"!=typeof fetch?Promise.resolve().then((function(){return z(P)})):fetch(P,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+P+"'";return e.arrayBuffer()})).catch((function(){return z(P)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){d("failed to asynchronously prepare wasm: "+e),V(e)}))}if(W(),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(e){d("Module.instantiateWasm callback failed with error: "+e),n(e)}(u||"function"!=typeof WebAssembly.instantiateStreaming||H(P)||"function"!=typeof fetch?o(i):fetch(P,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(i,(function(e){return d("wasm streaming compile failed: "+e),d("falling back to ArrayBuffer instantiation"),o(i)}))}))).catch(n)}();var dt=r._main=function(){return(dt=r._main=r.asm.__main_argc_argv).apply(null,arguments)};r._hbrMute=function(){return(r._hbrMute=r.asm.hbrMute).apply(null,arguments)},r._hbrUnmute=function(){return(r._hbrUnmute=r.asm.hbrUnmute).apply(null,arguments)},r._hbrShutdown=function(){return(r._hbrShutdown=r.asm.hbrShutdown).apply(null,arguments)},r._hbrLoginFromCookie=function(){return(r._hbrLoginFromCookie=r.asm.hbrLoginFromCookie).apply(null,arguments)},r._hbrReloadAvatar=function(){return(r._hbrReloadAvatar=r.asm.hbrReloadAvatar).apply(null,arguments)},r._hbrHasPendingResourceIO=function(){return(r._hbrHasPendingResourceIO=r.asm.hbrHasPendingResourceIO).apply(null,arguments)},r._hbrWorldBeginChange=function(){return(r._hbrWorldBeginChange=r.asm.hbrWorldBeginChange).apply(null,arguments)},r._hbrWorldChangeEnvironment=function(){return(r._hbrWorldChangeEnvironment=r.asm.hbrWorldChangeEnvironment).apply(null,arguments)},r._hbrWorldCreateObject=function(){return(r._hbrWorldCreateObject=r.asm.hbrWorldCreateObject).apply(null,arguments)},r._hbrWorldApplyPropertyToObject=function(){return(r._hbrWorldApplyPropertyToObject=r.asm.hbrWorldApplyPropertyToObject).apply(null,arguments)},r._hbrWorldCommitChange=function(){return(r._hbrWorldCommitChange=r.asm.hbrWorldCommitChange).apply(null,arguments)},r._hbrWorldGetJson=function(){return(r._hbrWorldGetJson=r.asm.hbrWorldGetJson).apply(null,arguments)},r._hbrWorldRayCast=function(){return(r._hbrWorldRayCast=r.asm.hbrWorldRayCast).apply(null,arguments)},r._hbrGetAvatarPosition=function(){return(r._hbrGetAvatarPosition=r.asm.hbrGetAvatarPosition).apply(null,arguments)},r._hbrGetAvatarDirection=function(){return(r._hbrGetAvatarDirection=r.asm.hbrGetAvatarDirection).apply(null,arguments)},r._hbrGetCameraPosition=function(){return(r._hbrGetCameraPosition=r.asm.hbrGetCameraPosition).apply(null,arguments)},r._hbrGetCameraDirection=function(){return(r._hbrGetCameraDirection=r.asm.hbrGetCameraDirection).apply(null,arguments)},r._hbrGetDirFromScreenCoords=function(){return(r._hbrGetDirFromScreenCoords=r.asm.hbrGetDirFromScreenCoords).apply(null,arguments)},r._hbrSetPlayerAvatar=function(){return(r._hbrSetPlayerAvatar=r.asm.hbrSetPlayerAvatar).apply(null,arguments)},r._hbrSetPlayerAvatarUrl=function(){return(r._hbrSetPlayerAvatarUrl=r.asm.hbrSetPlayerAvatarUrl).apply(null,arguments)},r._hbrSetPlayerMovementMode=function(){return(r._hbrSetPlayerMovementMode=r.asm.hbrSetPlayerMovementMode).apply(null,arguments)},r._hbrRespawnPlayer=function(){return(r._hbrRespawnPlayer=r.asm.hbrRespawnPlayer).apply(null,arguments)};var ft=r._free=function(){return(ft=r._free=r.asm.free).apply(null,arguments)},pt=r._malloc=function(){return(pt=r._malloc=r.asm.malloc).apply(null,arguments)};r._handleOnWindowFocusCb=function(){return(r._handleOnWindowFocusCb=r.asm.handleOnWindowFocusCb).apply(null,arguments)},r._markSettingAsSetFromQueryParam=function(){return(r._markSettingAsSetFromQueryParam=r.asm.markSettingAsSetFromQueryParam).apply(null,arguments)};var ht=r.__sapp_emsc_notify_keyboard_hidden=function(){return(ht=r.__sapp_emsc_notify_keyboard_hidden=r.asm._sapp_emsc_notify_keyboard_hidden).apply(null,arguments)},mt=r.__sapp_emsc_onpaste=function(){return(mt=r.__sapp_emsc_onpaste=r.asm._sapp_emsc_onpaste).apply(null,arguments)},gt=r.__sapp_html5_get_ask_leave_site=function(){return(gt=r.__sapp_html5_get_ask_leave_site=r.asm._sapp_html5_get_ask_leave_site).apply(null,arguments)},_t=r.__sapp_emsc_begin_drop=function(){return(_t=r.__sapp_emsc_begin_drop=r.asm._sapp_emsc_begin_drop).apply(null,arguments)},vt=r.__sapp_emsc_drop=function(){return(vt=r.__sapp_emsc_drop=r.asm._sapp_emsc_drop).apply(null,arguments)},yt=r.__sapp_emsc_end_drop=function(){return(yt=r.__sapp_emsc_end_drop=r.asm._sapp_emsc_end_drop).apply(null,arguments)};r.__sapp_emsc_invoke_fetch_cb=function(){return(r.__sapp_emsc_invoke_fetch_cb=r.asm._sapp_emsc_invoke_fetch_cb).apply(null,arguments)},r.__sapp_emsc_do_resize=function(){return(r.__sapp_emsc_do_resize=r.asm._sapp_emsc_do_resize).apply(null,arguments)};var bt=r.__sargs_add_kvp=function(){return(bt=r.__sargs_add_kvp=r.asm._sargs_add_kvp).apply(null,arguments)};r._FullscreenPressedWeb=function(){return(r._FullscreenPressedWeb=r.asm.FullscreenPressedWeb).apply(null,arguments)},r._handleOnSubmitCb=function(){return(r._handleOnSubmitCb=r.asm.handleOnSubmitCb).apply(null,arguments)},r._handleOnFocusCb=function(){return(r._handleOnFocusCb=r.asm.handleOnFocusCb).apply(null,arguments)},r._handleOnBlurCb=function(){return(r._handleOnBlurCb=r.asm.handleOnBlurCb).apply(null,arguments)},r._handleOnInputCb=function(){return(r._handleOnInputCb=r.asm.handleOnInputCb).apply(null,arguments)},r._OpenInNewTabPressedWeb=function(){return(r._OpenInNewTabPressedWeb=r.asm.OpenInNewTabPressedWeb).apply(null,arguments)},r._handleOnClicked=function(){return(r._handleOnClicked=r.asm.handleOnClicked).apply(null,arguments)},r._setDeviceInfoGPU=function(){return(r._setDeviceInfoGPU=r.asm.setDeviceInfoGPU).apply(null,arguments)},r._setDeviceInfoGPUVendor=function(){return(r._setDeviceInfoGPUVendor=r.asm.setDeviceInfoGPUVendor).apply(null,arguments)},r._setDeviceInfoGLVersion=function(){return(r._setDeviceInfoGLVersion=r.asm.setDeviceInfoGLVersion).apply(null,arguments)},r._setDeviceInfoUserAgent=function(){return(r._setDeviceInfoUserAgent=r.asm.setDeviceInfoUserAgent).apply(null,arguments)},r._setDeviceInfoBrowserFamily=function(){return(r._setDeviceInfoBrowserFamily=r.asm.setDeviceInfoBrowserFamily).apply(null,arguments)},r._setDeviceInfoBrowserVersion=function(){return(r._setDeviceInfoBrowserVersion=r.asm.setDeviceInfoBrowserVersion).apply(null,arguments)},r._setIsMac=function(){return(r._setIsMac=r.asm.setIsMac).apply(null,arguments)},r._setIsAndroid=function(){return(r._setIsAndroid=r.asm.setIsAndroid).apply(null,arguments)},r._ma_device_process_pcm_frames_capture__webaudio=function(){return(r._ma_device_process_pcm_frames_capture__webaudio=r.asm.ma_device_process_pcm_frames_capture__webaudio).apply(null,arguments)},r._ma_device_process_pcm_frames_playback__webaudio=function(){return(r._ma_device_process_pcm_frames_playback__webaudio=r.asm.ma_device_process_pcm_frames_playback__webaudio).apply(null,arguments)};var wt,St=function(){return(St=r.asm.stackSave).apply(null,arguments)},Et=function(){return(Et=r.asm.stackRestore).apply(null,arguments)},xt=r.stackAlloc=function(){return(xt=r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)};function kt(e=[]){var t=dt;e.unshift(s);var n,r=e.length,i=xt(4*(r+1)),o=i>>2;e.forEach((e=>{y[o++]=it(e)})),y[o]=0;try{var a=t(r,i);return h=n=a,rt(n),a}catch(e){return ke(e)}}function Ct(e=o){function n(){wt||(wt=!0,r.calledRun=!0,x||(X(M),X(F),t(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),It&&kt(e),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),j.unshift(e);var e;X(j)}()))}U>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)e=r.preRun.shift(),N.unshift(e);var e;X(N)}(),U>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n()))}if(r.dynCall_iiiij=function(){return(r.dynCall_iiiij=r.asm.dynCall_iiiij).apply(null,arguments)},r.dynCall_vj=function(){return(r.dynCall_vj=r.asm.dynCall_vj).apply(null,arguments)},r.dynCall_vjii=function(){return(r.dynCall_vjii=r.asm.dynCall_vjii).apply(null,arguments)},r.dynCall_vji=function(){return(r.dynCall_vji=r.asm.dynCall_vji).apply(null,arguments)},r.dynCall_ji=function(){return(r.dynCall_ji=r.asm.dynCall_ji).apply(null,arguments)},r.dynCall_jj=function(){return(r.dynCall_jj=r.asm.dynCall_jj).apply(null,arguments)},r.dynCall_ij=function(){return(r.dynCall_ij=r.asm.dynCall_ij).apply(null,arguments)},r.dynCall_jji=function(){return(r.dynCall_jji=r.asm.dynCall_jji).apply(null,arguments)},r.dynCall_jij=function(){return(r.dynCall_jij=r.asm.dynCall_jij).apply(null,arguments)},r.dynCall_viji=function(){return(r.dynCall_viji=r.asm.dynCall_viji).apply(null,arguments)},r.dynCall_jijii=function(){return(r.dynCall_jijii=r.asm.dynCall_jijii).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.dynCall_jii=function(){return(r.dynCall_jii=r.asm.dynCall_jii).apply(null,arguments)},r.dynCall_iiiji=function(){return(r.dynCall_iiiji=r.asm.dynCall_iiiji).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.dynCall_viijii).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.dynCall_iiiiij).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.dynCall_iiiiijj).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.dynCall_iiiiiijj).apply(null,arguments)},r.___start_em_js=2133607,r.___stop_em_js=2151321,r.callMain=kt,r.ccall=ot,r.setValue=function(e,t,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":m[e>>0]=t;break;case"i16":_[e>>1]=t;break;case"i32":y[e>>2]=t;break;case"i64":L=[t>>>0,(B=t,+Math.abs(B)>=1?B>0?(0|Math.min(+Math.floor(B/4294967296),4294967295))>>>0:~~+Math.ceil((B-+(~~B>>>0))/4294967296)>>>0:0)],y[e>>2]=L[0],y[e+4>>2]=L[1];break;case"float":w[e>>2]=t;break;case"double":S[e>>3]=t;break;case"*":b[e>>2]=t;break;default:V("invalid type for setValue: "+n)}},r.getValue=function(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return m[e>>0];case"i16":return _[e>>1];case"i32":case"i64":return y[e>>2];case"float":return w[e>>2];case"double":return S[e>>3];case"*":return b[e>>2];default:V("invalid type for getValue: "+t)}return null},r.AsciiToString=st,G=function e(){wt||Ct(),wt||(G=e)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var It=!0;return r.noInitialRun&&(It=!1),Ct(),e.ready});const Bi=(e,t)=>e.HEAPU32[t>>2],Li=(e,t)=>[e.getValue(t,"float"),e.getValue(t+4,"float"),e.getValue(t+8,"float")],Ni=e=>({mute:()=>{e.ccall("hbrMute","void",[],[])},unmute:()=>{e.ccall("hbrUnmute","void",[],[])},shutdown:()=>{e.ccall("hbrShutdown","void",[],[])},loginFromCookie:()=>{e.ccall("hbrLoginFromCookie","void",[],[])},reloadAvatar:()=>{e.ccall("hbrReloadAvatar","void",[],[])},hasPendingResourceIO:()=>e.ccall("hbrHasPendingResourceIO","bool",[],[]),worldBeginChange:()=>e.ccall("hbrWorldBeginChange","bool",[],[]),worldChangeEnvironment:t=>{if(!t)throw new Error("Missing argument");return e.ccall("hbrWorldChangeEnvironment","bool",["string"],[t])},worldCreateObject:t=>{if(!t)throw new Error("Missing argument");return e.ccall("hbrWorldCreateObject","bool",["string"],[t])},worldApplyPropertyToObject:(t,n,r)=>{if(!t||!n||!r)throw new Error("Missing argument");const i=JSON.stringify(r);return e.ccall("hbrWorldApplyPropertyToObject","bool",["string","string","string"],[t,n,i])},worldCommitChange:()=>e.ccall("hbrWorldCommitChange","bool",[],[]),worldGetJson:()=>e.ccall("hbrWorldGetJson","string",[],[]),worldRayCast:(t,n)=>{if(!t||!n)throw new Error("Missing argument");const r=e.stackAlloc(24);e.setValue(r,t[0],"float"),e.setValue(r+4,t[1],"float"),e.setValue(r+8,t[2],"float"),e.setValue(r+12,n[0],"float"),e.setValue(r+16,n[1],"float"),e.setValue(r+20,n[2],"float");const i=e.ccall("hbrWorldRayCast","number",["*","*"],[r,r+12]);return((e,t)=>({hit:!!e.getValue(t,"i32"),pointWS:Li(e,t+4),normalWS:Li(e,t+16),objectId:(BigInt(Bi(e,t+32))<<32n|BigInt(Bi(e,t+28))).toString(),groupId:(BigInt(Bi(e,t+40))<<32n|BigInt(Bi(e,t+36))).toString()}))(e,i)},getAvatarPosition:()=>{const t=e.ccall("hbrGetAvatarPosition","string",[],[]);return JSON.parse(t)},getAvatarDirection:()=>{const t=e.ccall("hbrGetAvatarDirection","string",[],[]);return JSON.parse(t)},getCameraPosition:()=>{const t=e.ccall("hbrGetCameraPosition","string",[],[]);return JSON.parse(t)},getCameraDirection:()=>{const t=e.ccall("hbrGetCameraDirection","string",[],[]);return JSON.parse(t)},getDirFromScreenCoords:(t,n)=>{if(!t||!n)throw new Error("Missing argument");const r=t/e.canvas.clientWidth,i=(e.canvas.clientHeight-n)/e.canvas.clientHeight,o=e.ccall("hbrGetDirFromScreenCoords","*",["number","number"],[r,i]);return Li(e,o)},setPlayerAvatar:t=>{if(!t)throw new Error("Missing argument");e.ccall("hbrSetPlayerAvatar","void",["string"],[t])},setPlayerAvatarUrl:(t,n)=>{if(!t||!n)throw new Error("Missing argument");e.ccall("hbrSetPlayerAvatarUrl","void",["string","string"],[t,n])},setPlayerMovementMode:t=>{if(!t)throw new Error("Missing argument");e.ccall("hbrSetPlayerMovementMode","void",["string"],[t])},respawnPlayer:()=>{e.ccall("hbrRespawnPlayer","void",[],[])}}),Mi=e=>{document.getElementById("hiber-watermark")&&(document.getElementById("hiber-watermark").style.display=1==e?"grid":"none")},Fi=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),ji=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Ui=async()=>{const e={bulkMemory:await Fi(),exceptions:await ji()};let t=!0;for(const n of Object.values(e))t=t&&n;return{success:t,requirements:e}},Gi=["ANGLE_instanced_arrays","EXT_shader_texture_lod"],Wi=[],qi=["","MOZ_","OP_","WEBKIT_"],Vi=()=>{const e={success:!0,requirements:{}};try{const t=document.createElement("canvas");let n=t.getContext("webgl2"),r=2;if(n||(n=t.getContext("webgl")||t.getContext("experimental-webgl"),r=1),e.success=e.success&&!!n,n){e.requirements[`webgl${r}`]=!0;const t=n.getSupportedExtensions(),i=1==r?Gi:Wi;for(let n=0;n<i.length;n++){const r=i[n];let o=!1;for(let e=0;e<qi.length;e++){const n=qi[e];t?.includes(`${n}${r}`)&&(o=!0)}e.requirements[r]=o,e.success=e.success&&o}n.getExtension("WEBGL_lose_context").loseContext()}}catch(t){console.error("Requirement check failed by an error",t),e.success=!1}return e},Hi={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},zi={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Yi={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Ki={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},$i={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ji{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,n=!1){const r=Ji.getVersionPrecision(e),i=Ji.getVersionPrecision(t);let o=Math.max(r,i),s=0;const a=Ji.map([e,t],(e=>{const t=o-Ji.getVersionPrecision(e),n=e+new Array(t+1).join(".0");return Ji.map(n.split("."),(e=>new Array(20-e.length).join("0")+e)).reverse()}));for(n&&(s=o-Math.min(r,i)),o-=1;o>=s;){if(a[0][o]>a[1][o])return 1;if(a[0][o]===a[1][o]){if(o===s)return 0;o-=1}else if(a[0][o]<a[1][o])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,i;if(Object.assign)return Object.assign(e,...t);for(r=0,i=t.length;r<i;r+=1){const e=t[r];if("object"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return Hi[e]}static getBrowserTypeByAlias(e){return zi[e]||""}}const Xi=/version\/(\d+(\.?_?\d+)+)/i,Qi=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=Ji.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=Ji.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=Ji.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=Ji.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=Ji.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=Ji.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=Ji.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=Ji.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=Ji.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=Ji.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=Ji.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=Ji.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=Ji.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=Ji.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=Ji.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=Ji.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=Ji.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=Ji.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=Ji.getFirstMatch(Xi,e)||Ji.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=Ji.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=Ji.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=Ji.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=Ji.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=Ji.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=Ji.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=Ji.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=Ji.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=Ji.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=Ji.getFirstMatch(Xi,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Ji.getFirstMatch(t,e),version:Ji.getSecondMatch(t,e)}}}];var Zi=[{test:[/Roku\/DVP/],describe(e){const t=Ji.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Ki.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Ji.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Ki.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Ji.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=Ji.getWindowsVersionName(t);return{name:Ki.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Ki.iOS},n=Ji.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=Ji.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=Ji.getMacOSVersionName(t),r={name:Ki.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Ji.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Ki.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=Ji.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=Ji.getAndroidVersionName(t),r={name:Ki.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Ji.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Ki.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Ji.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Ji.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Ji.getFirstMatch(/\bbb(\d+)/i,e);return{name:Ki.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Ji.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Ki.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Ji.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Ki.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Ki.Linux})},{test:[/CrOS/],describe:()=>({name:Ki.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Ji.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Ki.PlayStation4,version:t}}}],eo=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=Ji.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:Yi.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Yi.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Yi.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Yi.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Yi.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Yi.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Yi.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=Ji.getFirstMatch(/(ipod|iphone)/i,e);return{type:Yi.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Yi.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Yi.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:Yi.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:Yi.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:Yi.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:Yi.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:Yi.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:Yi.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:Yi.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:Yi.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:Yi.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:Yi.tv})}],to=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:$i.Blink};const t=Ji.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:$i.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:$i.Trident},n=Ji.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:$i.Presto},n=Ji.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:$i.Gecko},n=Ji.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:$i.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:$i.WebKit},n=Ji.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class no{constructor(e,t=!1){if(null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Ji.find(Qi,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Ji.find(Zi,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=Ji.find(eo,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Ji.find(to,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ji.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let i=0;if(Object.keys(e).forEach((o=>{const s=e[o];"string"==typeof s?(r[o]=s,i+=1):"object"==typeof s&&(t[o]=s,n+=1)})),n>0){const e=Object.keys(t),n=Ji.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=Ji.find(e,(e=>this.isPlatform(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(i>0){const e=Object.keys(r),t=Ji.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const i=Ji.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(Ji.compareVersions(i,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}
/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class ro{static getParser(e,t=!1){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new no(e,t)}static parse(e){return new no(e).getResult()}static get BROWSER_MAP(){return zi}static get ENGINE_MAP(){return $i}static get OS_MAP(){return Ki}static get PLATFORMS_MAP(){return Yi}}const io={avatarId:null,levelId:null,returnUrl:null,sessionType:"PLAY_MP",wasmUrl:null,initSessionRequest:!0,extraArgs:[],enableSentry:!1,onPrint:null},launch=async(e,t=io)=>{!function(){let e=window.location.hostname;Zn.DiveSDK.Init({AppToken:"ce97524e-e1a2-44f3-87b6-d8c35efbb49a",HashKey:"4A5C232AB89A543BACD4F",Domain:e,Logger:{level:Zn.LogLevels.DISABLED},Environment:Ei()?"PROD":"DEV",GameVersion:"v1.34.0",ApiURL:"https://api.hiber.dive.games",AnalyticsURL:"https://analytics.hiber.dive.games/hw"}),xi()}(),t.enableSentry&&(qn(),Yn("load_wasm"));const n=await(async()=>{const e={wasm:await Ui(),webgl:Vi()};return{success:e.wasm.success&&e.webgl.success,requirements:e}})();if(!n.success){ki("errorCreatedCustom",{type:"requirements_check",description:[...Object.entries(n.requirements.wasm.requirements).filter((e=>!e[1])).map((e=>e[0])),...Object.entries(n.requirements.webgl.requirements).filter((e=>!e[1])).map((e=>e[0]))].join(",")});document.querySelector(".loader-logo").style.display="none",document.getElementById("requirements-check-modal").style.display="flex";let e="Update Required",t="Your browser or operating system is not supported. Please install the latest version to continue.",r="https://browser-update.org/update-browser.html";const i=ro.getParser(window.navigator.userAgent);return"WebKit"==i.getEngineName()?(t="Your operating system is not supported or up-to-date. Please install the latest version to continue.",r="https://support.apple.com/en-us/HT204416"):"chrome"===i.getBrowserName(!0)&&(t="Your browser is not supported or up-to-date. Please install the latest version to continue.",r="https://support.google.com/chrome/answer/95414"),document.querySelector("#requirements-check-modal .requirements-check-modal-header > span").textContent=e,document.querySelector("#requirements-check-modal .requirements-check-modal-body > span").innerHTML=t,document.querySelector("#requirements-check-modal .requirements-check-modal-button").href=r,document.querySelector("#requirements-check-modal .developer-info-title").onclick=()=>{const e=document.querySelector("#requirements-check-modal .developer-info-body");"none"===e.style.display?e.style.display="block":e.style.display="none"},void(document.querySelector("#requirements-check-modal .developer-info-body").textContent=JSON.stringify({browserInfo:ro.parse(window.navigator.userAgent),wasm:n.requirements.wasm,webgl:n.requirements.webgl},null,4))}const r=document.getElementById(e);if(!r)throw new Error(`Could not find canvas element with id ${e}`);const{avatarId:i,levelId:o,returnUrl:s,sessionType:a="PLAY_MP",wasmUrl:c,initSessionRequest:u=!0,reWriteTitle:l=!1,reWriteIcon:d=!1,isExternalEmbed:f=!1,extraArgs:p=[]}=t,h=new URLSearchParams(window.location.search),m=h.get("sessionId"),g=h.get("Platform.IsExternalEmbed"),_=[`Launch.CanvasID=${e}`];let v;u&&_.push("Launch.InitSessionRequest=true"),a&&_.push(`Launch.InitSessionType=${a}`),o&&_.push(`Launch.InitLevelID=${o}`),s&&(_.push(`Platform.FrontendEndpoint=${s}`),_.push("Platform.AddProjectPathToRedirectURL=false")),i&&_.push(`Launch.AvatarID=${i}`),m&&_.push(`Server.SessionID=${m}`),l&&_.push(`Platform.RewriteTitle=${l}`),d&&_.push(`Platform.RewriteIcon=${d}`),f&&_.push(`Platform.IsExternalEmbed=${f}`),p&&_.push(...p),r.addEventListener("webglcontextlost",(function(e){alert("WebGL context lost. You will need to reload the page."),e.preventDefault()}),!1),document.addEventListener("scroll",(e=>{document.documentElement.scrollTop=0})),(e=>{e.insertAdjacentHTML("afterend",Di);const t=document.body.querySelector("#overlay_close_button"),n=document.body.querySelector("#overlay_close_background");t&&n&&(t.addEventListener("click",Ai),n.addEventListener("click",Ai),document.addEventListener("keyup",(function(e){"Escape"==e.key&&1==Ri()&&Ai()})))})(r),(g||f)&&Mi(!0);const y=new Promise((e=>{v=()=>{e()}})),b={wasmLoadedDuration:0,videoTextureElements:{},sentry:{sentryTransactionStart:Yn,sentryTransactionFinish:Kn,sentryTransactionAddChild:$n,sentryTransactionFinishChild:Jn},wasmArguments:_,noInitialRun:!0,canvas:r,print:e=>{t.enableSentry&&(e=>{if(e.includes("ERROR")){let t=e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"");t=t.replace(/^[0-9:]+ [0-9]+\/[0-9]+ /g,""),it(new Error(t))}})(e),"function"!=typeof t.onPrint?e.includes("ERROR")?console.error(e):e.includes("WARNING")?console.warn(e):console.log(e):t.onPrint(e)},instantiateWasm:async(e,t)=>{const n=performance.now(),r=(e=>{const t=new URL(e),n=`${t.origin}${t.pathname}`;return n.slice(0,n.lastIndexOf("/"))})(import.meta.url),i=r.includes("localhost")||r.includes("192.168.")||r.includes("127.0.0.1")||r.includes("bs-local.com")?"":".gz";let o=c||`${r}/Hiberworld.wasm${i}`;$n("load_wasm","download_and_instantiate_wasm");const{instance:s,module:a}=await(async(e,t)=>{if(WebAssembly.instantiateStreaming)return console.log("Instantiate streaming"),WebAssembly.instantiateStreaming(fetch(e),t);{console.log("Instantiate from buffer");const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch wasm at '${e}'`);const r=await n.arrayBuffer();return WebAssembly.instantiate(r,t)}})(o,e);Jn("load_wasm","download_and_instantiate_wasm"),Gn(a),t(s,b);const u=performance.now();b.wasmLoadedDuration=u-n},onRuntimeInitialized:()=>{$n("load_wasm","call_main_web"),b.callMain(_||[]),Jn("load_wasm","call_main_web"),Kn("load_wasm"),Vn(r)},onReady:()=>{v(),r.dispatchEvent(new Event("ready"))},onShowLoadingScreen:e=>{const t=document.getElementById("wrapper");t&&(t.style.opacity=e?0:1)},onMessage:e=>{if("track_event"===e.action){const t=JSON.parse(e.value);t.eventHeaders&&function(e){if(Zn.DiveSDK.getInstance())for(let[t,n]of Object.entries(e))Zn.DiveSDK.getInstance().SetCustomHeaderParam(t,n);else console.warn("Dive not initialized")}(t.eventHeaders),t.eventName&&t.eventProperties&&ki(t.eventName,t.eventProperties)}else if("raw_events"===e.action){JSON.parse(e.value).events?.forEach((({eventType:e,...t})=>{if("string"==typeof e&&e.length>0){let n={event:e,...t};window.dataLayer?.push(n)}}))}else if("open_url_in_new_tab"===e.action){const t=JSON.parse(e.value);try{window.open(new URL(t.url))}catch(n){console.log("Failed to '"+e.action+"' with value: '"+t.url+"'"),console.log("Error: ",n)}}else if(e.action.includes("open_url_in_overlay")){const t=JSON.parse(e.value);try{""==t.url||1==Ri()?Ai():(Ci(new URL(t.url)),e.action.includes("touch")?(()=>{var e=document.body.querySelector("#overlay_iframe");e.style.padding="0px 4px 0px 4px",e.style.width="90%",e.style.height="100%",e.style.left="5%",e.style.top="0%",e.style.borderRadius="0";var t=document.body.querySelector("#overlay_close_button");t.style.top="15px",t.style.right="15px",t.style.left="auto",t.style.boxShadow="0px 2.5px 5px black",Ii()})():e.action.includes("mouse")&&(()=>{var e=document.body.querySelector("#overlay_iframe");e.style.padding="8px",e.style.width="82%",e.style.height="82%",e.style.left="9%",e.style.top="9%",e.style.borderRadius="8px";var t=document.body.querySelector("#overlay_close_button");t.style.top="7.2%",t.style.right="auto",t.style.left="91%",t.style.boxShadow="none",Ii()})())}catch(n){console.log("Failed to '"+e.action+"' with value: '"+t.url+"'"),console.log("Error: ",n)}}else if(e.action.includes("toggle_watermark")){const t=JSON.parse(e.value);try{Mi(t)}catch(n){console.log("Failed to '"+e.action+"' with value: '"+t+"'"),console.log("Error: ",n)}}}},w=await Ti(b);await y;const S=Ni(w);return(e=>{window.addEventListener("message",(t=>{["https://hiberworld.com","https://dev.hiberdev.net"].includes(t.origin)&&("LOGIN_SUCCESS"===t.data?(xi(),e.loginFromCookie()):"RELOAD_AVATAR"===t.data?e.reloadAvatar():"CLOSE_OVERLAY"===t.data&&Oi())}))})(S),S};export{launch};


                            const canvasId = 'canvas';

        const canvas = document.getElementById(canvasId);
        canvas.style.position = "fixed";
        canvas.style.top = "0px";
        canvas.style.left = "0px";
        canvas.style.right = "0px";
        canvas.style.bottom = "0px";

        launch(canvasId, {
            sessionType: null, // let engine decide
            initSessionRequest: false,
            enableSentry: true,
            reWriteTitle: true,
            reWriteIcon: true,
        }).then(api => {
            window['HiberModule'] = api;
        })

    </script>
</body>

</html>


]]></Content>
</Module>
